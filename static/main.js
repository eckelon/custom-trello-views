!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/static/",n(n.s=2)}([function(t,e,n){
/* Riot v3.13.2, @license MIT */
!function(t){"use strict";function e(t,e){return(e||document).querySelector(t)}var n,r,i=[],o={},s="yield",a="__global_mixin",l="riot-",u=["ref","data-ref"],f="data-is",c="if",p="each",d="no-reorder",h="show",v="hide",g="key",m="__riot-events__",_="string",b="object",y="undefined",w="function",O="http://www.w3.org/1999/xlink",L="http://www.w3.org/2000/svg",C=/^xlink:(\w+)/,N=typeof window===y?void 0:window,E=/^on/,M=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,S={viewbox:"viewBox",preserveaspectratio:"preserveAspectRatio"},F=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,A=0|(N&&N.document||{}).documentMode;function B(t){return"svg"===t?document.createElementNS(L,t):document.createElement(t)}function j(t,e,n){var r=C.exec(e);r&&r[1]?t.setAttributeNS(O,r[1],n):t.setAttribute(e,n)}var P,U,H={},z=!1;N&&(P=B("style"),U=e("style[type=riot]"),j(P,"type","text/css"),U?(U.id&&(P.id=U.id),U.parentNode.replaceChild(P,U)):document.head.appendChild(P),r=(n=P).styleSheet);var T={styleNode:n,add:function(t,e){H[e]=t,z=!0},inject:function(){if(N&&z){z=!1;var t=Object.keys(H).map(function(t){return H[t]}).join("\n");r?r.cssText=t:n.innerHTML=t}},remove:function(t){delete H[t],z=!0}},x=function(){var t="[{(,;:?=|&!^~>%*/",e=["case","default","do","else","in","instanceof","prefix","return","typeof","void","yield"],n=e.reduce(function(t,e){return t+e.slice(-1)},""),r=/^\/(?=[^*>\/])[^[\/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\\/]*)*?\/[gimuy]*/,i=/[$\w]/;function o(t,e){for(;--e>=0&&/\s/.test(t[e]););return e}return function(s,a){var l=/.*/g,u=l.lastIndex=a++,f=l.exec(s)[0].match(r);if(f){var c=u+f[0].length;u=o(s,u);var p=s[u];if(u<0||~t.indexOf(p))return c;if("."===p)"."===s[u-1]&&(a=c);else if("+"===p||"-"===p)(s[--u]!==p||(u=o(s,u))<0||!i.test(s[u]))&&(a=c);else if(~n.indexOf(p)){for(var d=u+1;--u>=0&&i.test(s[u]););~e.indexOf(s.slice(u+1,d))&&(a=c)}}return a}}(),W=function(t){var e,n,r="g",i=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,o=i.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,s=RegExp("[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),a=/(?=[[\]()*+?.^$|])/g,l=i.source+"|"+/(\/)(?![*\/])/.source,u={"(":RegExp("([()])|"+l,r),"[":RegExp("([[\\]])|"+l,r),"{":RegExp("([{}])|"+l,r)},f="{ }",c=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+l,r),f,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],p=void 0,d=[];function h(t){return t}function v(t,e){return e||(e=d),new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?r:"")}function g(t){if(t===f)return c;var e=t.split(" ");if(2!==e.length||s.test(t))throw new Error('Unsupported brackets "'+t+'"');return(e=e.concat(t.replace(a,"\\").split(" ")))[4]=v(e[1].length>1?/{[\S\s]*?}/:c[4],e),e[5]=v(t.length>3?/\\({|})/g:c[5],e),e[6]=v(c[6],e),e[7]=RegExp("\\\\("+e[3]+")|([[({])|("+e[3]+")|"+l,r),e[8]=t,e}function m(t){return t instanceof RegExp?e(t):d[t]}function _(t){(t||(t=f))!==d[8]&&(d=g(t),e=t===f?h:v,d[9]=e(c[9])),p=t}return m.split=function(t,e,n){n||(n=d);var r,i,o,s,a,l,f=[],c=n[6],p=[],h="";for(i=o=c.lastIndex=0;r=c.exec(t);){if(l=c.lastIndex,s=r.index,i){if(r[2]){var v=r[2],g=u[v],m=1;for(g.lastIndex=l;r=g.exec(t);)if(r[1]){if(r[1]===v)++m;else if(!--m)break}else g.lastIndex=b(r.index,g.lastIndex,r[2]);c.lastIndex=m?t.length:g.lastIndex;continue}if(!r[3]){c.lastIndex=b(s,l,r[4]);continue}}r[1]||(_(t.slice(o,s)),o=c.lastIndex,(c=n[6+(i^=1)]).lastIndex=o)}return t&&o<t.length&&_(t.slice(o)),f.qblocks=p,f;function _(t){h&&(t=h+t,h=""),e||i?f.push(t&&t.replace(n[5],"$1")):f.push(t)}function b(n,r,i){return i&&(r=x(t,n)),e&&r>n+2&&(a="â—"+p.length+"~",p.push(t.slice(n,r)),h+=t.slice(o,n)+a,o=r),r}},m.hasExpr=function(t){return d[4].test(t)},m.loopKeys=function(t){var e=t.match(d[9]);return e?{key:e[1],pos:e[2],val:d[0]+e[3].trim()+d[1]}:{val:t.trim()}},m.array=function(t){return t?g(t):d},Object.defineProperty(m,"settings",{set:function(t){var e;e=(t=t||{}).brackets,Object.defineProperty(t,"brackets",{set:_,get:function(){return p},enumerable:!0}),n=t,_(e)},get:function(){return n}}),m.settings="undefined"!=typeof riot&&riot.settings||{},m.set=_,m.skipRegex=x,m.R_STRINGS=i,m.R_MLCOMMS=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,m.S_QBLOCKS=o,m.S_QBLOCK2=l,m}(),D=function(){var t={};function e(i,o){return i?(t[i]||(t[i]=function(t){var e=function(t){var e,i=W.split(t.replace(n,'"'),1),o=i.qblocks;if(i.length>2||i[0]){var a,l,u=[];for(a=l=0;a<i.length;++a)(e=i[a])&&(e=1&a?s(e,1,o):'"'+e.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(u[l++]=e);e=l<2?u[0]:"["+u.join(",")+'].join("")'}else e=s(i[1],0,o);return o.length&&(e=e.replace(r,function(t,e){return o[e].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),e}(t);return"try{return "!==e.slice(0,11)&&(e="return "+e),new Function("E",e+";")}(i))).call(o,function(t,n){t.riotData={tagName:n&&n.__&&n.__.tagName,_riot_id:n&&n._riot_id},e.errorHandler?e.errorHandler(t):"undefined"!=typeof console&&"function"==typeof console.error&&(console.error(t.message),console.log("<%s> %s",t.riotData.tagName||"Unknown tag",this.tmpl),console.log(this.data))}.bind({data:o,tmpl:i})):i}e.hasExpr=W.hasExpr,e.loopKeys=W.loopKeys,e.clearCache=function(){t={}},e.errorHandler=null;var n=/\u2057/g,r=/\u2057(\d+)~/g,i=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,o={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g};function s(t,e,n){if(t=t.replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var r,s=[],a=0;t&&(r=t.match(i))&&!r.index;){var l,u,c=/,|([[{(])|$/g;for(t=RegExp.rightContext,l=r[2]?n[r[2]].slice(1,-1).trim().replace(/\s+/g," "):r[1];u=(r=c.exec(t))[1];)p(u,c);u=t.slice(0,r.index),t=RegExp.rightContext,s[a++]=f(u,1,l)}t=a?a>1?"["+s.join(",")+'].join(" ").trim()':s[0]:f(t,e)}return t;function p(e,n){var r,i=1,s=o[e];for(s.lastIndex=n.lastIndex;r=s.exec(t);)if(r[0]===e)++i;else if(!--i)break;n.lastIndex=i?t.length:s.lastIndex}}var a='"in this?this:'+("object"!=typeof window?"global":"window")+").",l=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,u=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;function f(t,e,n){var r;return t=t.replace(l,function(t,e,n,i,o){return n&&(i=r?0:i+t.length,"this"!==n&&"global"!==n&&"window"!==n?(t=e+'("'+n+a+n,i&&(r="."===(o=o[i])||"("===o||"["===o)):i&&(r=!u.test(o.slice(i)))),t}),r&&(t="try{return "+t+"}catch(e){E(e,this)}"),n?t=(r?"function(){"+t+"}.call(this)":"("+t+")")+'?"'+n+'":""':e&&(t="function(v){"+(r?t.replace("return ","v="):"v=("+t+")")+';return v||v===0?v:""}.call(this)'),t}return e.version=W.version="v3.0.8",e}(),R=function(t){t=t||{};var e={},n=Array.prototype.slice;return Object.defineProperties(t,{on:{value:function(n,r){return"function"==typeof r&&(e[n]=e[n]||[]).push(r),t},enumerable:!1,writable:!1,configurable:!1},off:{value:function(n,r){if("*"!=n||r)if(r)for(var i,o=e[n],s=0;i=o&&o[s];++s)i==r&&o.splice(s--,1);else delete e[n];else e={};return t},enumerable:!1,writable:!1,configurable:!1},one:{value:function(e,n){return t.on(e,function r(){t.off(e,r),n.apply(t,arguments)})},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(r){var i,o,s,a=arguments,l=arguments.length-1,u=new Array(l);for(s=0;s<l;s++)u[s]=a[s+1];for(i=n.call(e[r]||[],0),s=0;o=i[s];++s)o.apply(t,u);return e["*"]&&"*"!=r&&t.trigger.apply(t,["*",r].concat(u)),t},enumerable:!1,writable:!1,configurable:!1}}),t};function q(t,e){return Object.getOwnPropertyDescriptor(t,e)}function Z(t){return typeof t===y}function Q(t,e){var n=q(t,e);return Z(t[e])||n&&n.writable}function $(t){for(var e,n=1,r=arguments,i=r.length;n<i;n++)if(e=r[n])for(var o in e)Q(t,o)&&(t[o]=e[o]);return t}function k(t){return Object.create(t)}var X=$(k(W.settings),{skipAnonymousTags:!0,keepValueAttributes:!1,autoUpdate:!0});function Y(t,e){return[].slice.call((e||document).querySelectorAll(t))}function G(){return document.createTextNode("")}function J(t,e){t.style.display=e?"":"none",t.hidden=!e}function K(t,e){return t.getAttribute(e)}function V(t,e){t.removeAttribute(e)}function I(t,e,n){if(n){var r=t.ownerDocument.importNode((new DOMParser).parseFromString('<svg xmlns="'+L+'">'+e+"</svg>","application/xml").documentElement,!0);t.appendChild(r)}else t.innerHTML=e}function tt(t,e){if(t)for(var n;n=M.exec(t);)e(n[1].toLowerCase(),n[2]||n[3]||n[4])}function et(){return document.createDocumentFragment()}function nt(t,e,n){t.insertBefore(e,n.parentNode&&n)}function rt(t){return Object.keys(t).reduce(function(e,n){return e+" "+n+": "+t[n]+";"},"")}function it(t,e,n){if(t){var r,i=e(t,n);if(!1===i)return;for(t=t.firstChild;t;)r=t.nextSibling,it(t,e,i),t=r}}var ot=Object.freeze({$$:Y,$:e,createDOMPlaceholder:G,mkEl:B,setAttr:j,toggleVisibility:J,getAttr:K,remAttr:V,setInnerHTML:I,walkAttrs:tt,createFrag:et,safeInsert:nt,styleObjectToString:rt,walkNodes:it});function st(t){return Z(t)||null===t}function at(t){return st(t)||""===t}function lt(t){return typeof t===w}function ut(t){return t&&typeof t===b}function ft(t){var e=t.ownerSVGElement;return!!e||null===e}function ct(t){return Array.isArray(t)||t instanceof Array}function pt(t){return F.test(t)}function dt(t){return typeof t===_}var ht=Object.freeze({isBlank:at,isFunction:lt,isObject:ut,isSvg:ft,isWritable:Q,isArray:ct,isBoolAttr:pt,isNil:st,isString:dt,isUndefined:Z});function vt(t,e){return-1!==t.indexOf(e)}function gt(t,e){for(var n=t?t.length:0,r=0;r<n;r++)e(t[r],r);return t}function mt(t,e){return t.slice(0,e.length)===e}var _t,bt=(_t=-1,function(){return++_t});function yt(t,e,n,r){return Object.defineProperty(t,e,$({value:n,enumerable:!1,writable:!1,configurable:!0},r)),t}function wt(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function Ot(t){console&&console.warn&&console.warn(t)}var Lt=Object.freeze({contains:vt,each:gt,getPropDescriptor:q,startsWith:mt,uid:bt,defineProperty:yt,objectCreate:k,extend:$,toCamel:wt,warn:Ot});function Ct(t,e,n,r,i){var o=t[e],s=ct(o),a=!Z(i);if(!o||o!==n)if(!o&&r)t[e]=[n];else if(o)if(s){var l=o.indexOf(n);if(l===i)return;-1!==l&&o.splice(l,1),a?o.splice(i,0,n):o.push(n)}else t[e]=[o,n];else t[e]=n}function Nt(t){return t.tagName&&o[K(t,f)||K(t,f)||t.tagName.toLowerCase()]}function Et(t,e){var n=Nt(t),r=!e&&K(t,f);return r&&!D.hasExpr(r)?r:n?n.name:t.tagName.toLowerCase()}function Mt(){return this.parent?$(k(this),this.parent):this}var St=/<yield\b/i,Ft=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,At=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,Bt=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,jt={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},Pt=A&&A<10?/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,Ut="div",Ht="svg";function zt(t,n,r){var i=t&&t.match(/^\s*<([-\w]+)/),o=i&&i[1].toLowerCase(),s=B(r?Ht:Ut);return t=function(t,e){if(!St.test(t))return t;var n={};return e=e&&e.replace(At,function(t,e,r){return n[e]=n[e]||r,""}).trim(),t.replace(Bt,function(t,e,r){return n[e]||r||""}).replace(Ft,function(t,n){return e||n||""})}(t,n),Pt.test(o)?s=function(t,n,r){var i="o"===r[0],o=i?"select>":"table>";if(t.innerHTML="<"+o+n.trim()+"</"+o,o=t.firstChild,i)o.selectedIndex=-1;else{var s=jt[r];s&&1===o.childElementCount&&(o=e(s,o))}return o}(s,t,o):I(s,t,r),s}var Tt=/^on/;function xt(t){for(var e=t;e.__.isAnonymous&&e.parent;)e=e.parent;return e}function Wt(t,e,n,r){var i,o=function(t,e,n){var r=this.__.parent,i=this.__.item;if(!i)for(;r&&!i;)i=r.__.item,r=r.__.parent;if(Q(n,"currentTarget")&&(n.currentTarget=t),Q(n,"target")&&(n.target=n.srcElement),Q(n,"which")&&(n.which=n.charCode||n.keyCode),n.item=i,e.call(this,n),X.autoUpdate&&!n.preventUpdate){var o=xt(this);o.isMounted&&o.update()}}.bind(r,n,e);n[t]=null,i=t.replace(E,""),vt(r.__.listeners,n)||r.__.listeners.push(n),n[m]||(n[m]={}),n[m][t]&&n.removeEventListener(i,n[m][t]),n[m][t]=o,n.addEventListener(i,o,!1)}function Dt(t,e,n,r){var i=_e(t,e,n),o=e.tagName||Et(e.root,!0),s=xt(r);return yt(i,"parent",s),i.__.parent=r,Ct(s.tags,o,i),s!==r&&Ct(r.tags,o,i),i}function Rt(t,e,n,r){if(ct(t[e])){var i=t[e].indexOf(n);-1!==i&&t[e].splice(i,1),t[e].length?1!==t[e].length||r||(t[e]=t[e][0]):delete t[e]}else t[e]===n&&delete t[e]}function qt(t,e){var n,r,i=G(),o=G(),s=et();for(this.root.insertBefore(i,this.root.firstChild),this.root.appendChild(o),this.__.head=r=i,this.__.tail=o;r;)n=r.nextSibling,s.appendChild(r),this.__.virts.push(r),r=n;e?t.insertBefore(s,e.__.head):t.appendChild(s)}function Zt(t,e){if(e.parentNode){var n=et();qt.call(t,n),e.parentNode.replaceChild(n,e)}}function Qt(t){if(!this.root||!K(this.root,"virtualized")){var e,n=t.dom,r=function(t){return t?(t=t.replace(l,""),S[t]&&(t=S[t]),t):null}(t.attr),i=vt([h,v],r),s=t.root&&"VIRTUAL"===t.root.tagName,a=this.__,u=a.isAnonymous,f=n&&(t.parent||n.parentNode),c=X.keepValueAttributes,p="style"===r,d="class"===r,g="value"===r;if(t._riot_id)t.__.wasCreated?t.update():(t.mount(),s&&Zt(t,t.root));else{if(t.update)return t.update();var m=i&&!u?Mt.call(this):this,_=!at(e=D(t.expr,m)),b=ut(e);if(b&&(d?e=D(JSON.stringify(e),this):p&&(e=rt(e))),!t.attr||t.wasParsedOnce&&!1!==e&&(_||g&&(!g||c))||V(n,K(n,t.attr)?t.attr:r),t.bool&&(e=!!e&&r),t.isRtag)return function(t,e,n){var r,i=t.tag||t.dom._tag,s=(i?i.__:{}).head,a="VIRTUAL"===t.dom.tagName;i&&t.tagName===n?i.update():(i&&(a&&(r=G(),s.parentNode.insertBefore(r,s)),i.unmount(!0)),dt(n)&&(t.impl=o[n],t.impl&&(t.tag=i=Dt(t.impl,{root:t.dom,parent:e,tagName:n},t.dom.innerHTML,e),gt(t.attrs,function(t){return j(i.root,t.name,t.value)}),t.tagName=n,i.mount(),a&&Zt(i,r||i.root),e.__.onUnmount=function(){var t=i.opts.dataIs;Rt(i.parent.tags,t,i),Rt(i.__.parent.tags,t,i),i.unmount()})))}(t,this,e);if((!t.wasParsedOnce||t.value!==e)&&(t.value=e,t.wasParsedOnce=!0,!b||d||p||i)){if(_||(e=""),!r)return e+="",void(f&&(t.parent=f,"TEXTAREA"===f.tagName?(f.value=e,A||(n.nodeValue=e)):n.nodeValue=e));switch(!0){case lt(e):y=r,Tt.test(y)&&Wt(r,e,n,this);break;case i:J(n,r===v?!e:e);break;default:t.bool&&(n[r]=e),g&&n.value!==e?n.value=e:_&&!1!==e&&j(n,r,e),p&&n.hidden&&J(n,!1)}var y}}}}function $t(t){gt(t,Qt.bind(this))}function kt(t,e,n,r,i){if(!t||!n){var o=t?Mt.call(this):e||this;gt(i,function(t){t.expr&&Qt.call(o,t.expr),r[wt(t.name).replace(l,"")]=t.expr?t.expr.value:t.value})}}function Xt(t){if(!t){var e=Object.keys(o);return e+Xt(e)}return t.filter(function(t){return!/[^-\w]/.test(t)}).reduce(function(t,e){var n=e.trim().toLowerCase();return t+",["+f+'="'+n+'"]'},"")}function Yt(t,e){var n=this.name,r=this.tmpl,i=this.css,s=this.attrs,a=this.onCreate;return o[n]||(Gt(n,r,i,s,a),o[n].class=this.constructor),be(t,n,e,this),i&&T.inject(),this}function Gt(t,e,n,r,i){return lt(r)&&(i=r,/^[\w-]+\s?=/.test(n)?(r=n,n=""):r=""),n&&(lt(n)?i=n:T.add(n,t)),t=t.toLowerCase(),o[t]={name:t,tmpl:e,attrs:r,fn:i},t}function Jt(t,e,n,r,i){return n&&T.add(n,t),o[t]={name:t,tmpl:e,attrs:r,fn:i},t}function Kt(t,e,n){var r,i,o=[];if(T.inject(),(ut(e)||lt(e))&&(n=e,e=0),dt(t)?(t="*"===t?i=Xt():t+Xt(t.split(/, */)),r=t?Y(t):[]):r=t,"*"===e){if(e=i||Xt(),r.tagName)r=Y(e,r);else{var s=[];gt(r,function(t){return s.push(Y(e,t))}),r=s}e=0}return function t(r){if(r.tagName){var i,s=K(r,f);e&&s!==e&&(s=e,j(r,f,e)),(i=be(r,s||r.tagName.toLowerCase(),lt(n)?n():n))&&o.push(i)}else r.length&&gt(r,t)}(r),o}var Vt={},It=Vt[a]={},te=0;function ee(t,e,n){if(ut(t))ee("__"+te+++"__",t,!0);else{var r=n?It:Vt;if(!e){if(Z(r[t]))throw new Error("Unregistered mixin: "+t);return r[t]}r[t]=lt(e)?$(e.prototype,r[t]||{})&&e:$(r[t]||{},e)}}function ne(){return gt(i,function(t){return t.update()})}function re(t){return T.remove(t),delete o[t]}var ie=Object.freeze({Tag:Yt,tag:Gt,tag2:Jt,mount:Kt,mixin:ee,update:ne,unregister:re,version:"v3.13.2"});function oe(t,e){var n,r=this.parent;r&&(ct(n=r.tags[t])?n.splice(e,0,n.splice(n.indexOf(this),1)[0]):Ct(r.tags,t,this))}function se(t,e){for(var n,r=this.__.head,i=et();r;)if(n=r.nextSibling,i.appendChild(r),(r=n)===this.__.tail){i.appendChild(r),t.insertBefore(i,e.__.head);break}}function ae(t,e,n){var r={};return r[t.key]=e,t.pos&&(r[t.pos]=n),r}function le(t,e){t.splice(e,1),this.unmount(),Rt(this.parent,this,this.__.tagName,!0)}function ue(t,e,n){var r=typeof K(t,d)!==_||V(t,d),i=K(t,g),s=!!i&&D.hasExpr(i),a=Et(t),l=o[a],u=t.parentNode,f=G(),h=Nt(t),v=K(t,c),m=[],y=t.innerHTML,w=!o[a],O="VIRTUAL"===t.tagName,L=[];return V(t,p),V(t,g),(n=D.loopKeys(n)).isLoop=!0,v&&V(t,c),u.insertBefore(f,t),u.removeChild(t),n.update=function(){n.value=D(n.val,e);var o=n.value,u=et(),c=!ct(o)&&!dt(o),p=f.parentNode,d=[],g=c&&!!o;if(p){c&&(o=o?Object.keys(o).map(function(t){return ae(n,o[t],t)}):[]);var _=0;gt(o,function(f,C){var N=C-_,E=!g&&n.key?ae(n,f,C):f;if(!v||D(v,$(k(e),E))){var M=function(t,e,n,r){return t?r?D(t,n):e[t]:e}(i,f,E,s),S=!c&&r&&typeof f===b||i,F=L.indexOf(M),A=-1===F,B=!A&&S?F:N,j=m[B],P=N>=L.length,U=S&&A||!S&&!j||!m[N];U?((j=_e(l,{parent:e,isLoop:!0,isAnonymous:w,tagName:a,root:t.cloneNode(w),item:E,index:N},y)).mount(),P?function(t,e){e?qt.call(this,t):t.appendChild(this.root)}.apply(j,[u||p,O]):function(t,e,n){n?qt.apply(this,[t,e]):nt(t,this.root,e.root)}.apply(j,[p,m[N],O]),P||L.splice(N,0,E),m.splice(N,0,j),h&&Ct(e.tags,a,j,!0)):B!==N&&S&&((i||vt(o,L[B]))&&(function(t,e,n){n?se.apply(this,[t,e]):nt(t,this.root,e.root)}.apply(j,[p,m[N],O]),m.splice(N,0,m.splice(B,1)[0]),L.splice(N,0,L.splice(B,1)[0])),n.pos&&(j[n.pos]=N),!h&&j.tags&&function(t){var e=this;gt(Object.keys(this.tags),function(n){oe.apply(e.tags[n],[n,t])})}.call(j,N)),$(j.__,{item:E,index:N,parent:e}),d[N]=M,U||j.update(E)}else _++}),function(t,e,n){for(var r=e.length,i=t.length-n;r>i;)r--,le.apply(e[r],[e,r])}(o,m,_),L=d.slice(),p.insertBefore(u,f)}},n.unmount=function(){gt(m,function(t){t.unmount()})},n}var fe={init:function(t,e,n,r){return this.dom=t,this.attr=n,this.rawValue=r,this.parent=e,this.hasExp=D.hasExpr(r),this},update:function(){var t=this.value,e=this.parent&&xt(this.parent),n=this.dom.__ref||this.tag||this.dom;this.value=this.hasExp?D(this.rawValue,this.parent):this.rawValue,!at(t)&&e&&Rt(e.refs,t,n),!at(this.value)&&dt(this.value)?(e&&Ct(e.refs,this.value,n,null,this.parent.__.index),this.value!==t&&j(this.dom,this.attr,this.value)):V(this.dom,this.attr),this.dom.__ref||(this.dom.__ref=n)},unmount:function(){var t=this.tag||this.dom,e=this.parent&&xt(this.parent);!at(this.value)&&e&&Rt(e.refs,this.value,t)}};function ce(t,e,n,r){return k(fe).init(t,e,n,r)}function pe(t){gt(t,function(t){t.unmount?t.unmount(!0):t.tagName?t.tag.unmount(!0):t.unmount&&t.unmount()})}var de={init:function(t,e,n){V(t,c),$(this,{tag:e,expr:n,stub:G(),pristine:t});var r=t.parentNode;return r.insertBefore(this.stub,t),r.removeChild(t),this},update:function(){this.value=D(this.expr,this.tag),this.stub.parentNode&&(this.value&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=ve.apply(this.tag,[this.current,!0])):!this.value&&this.current&&(this.unmount(),this.current=null,this.expressions=[]),this.value&&$t.call(this.tag,this.expressions))},unmount:function(){this.current&&(this.current._tag?this.current._tag.unmount():this.current.parentNode&&this.current.parentNode.removeChild(this.current)),pe(this.expressions||[])}};function he(t,e,n){return k(de).init(t,e,n)}function ve(t,e){var n=this,r=[];return it(t,function(i){var o,s,a=i.nodeType;if((e||i!==t)&&(3===a&&"STYLE"!==i.parentNode.tagName&&D.hasExpr(i.nodeValue)&&r.push({dom:i,expr:i.nodeValue}),1===a)){var l="VIRTUAL"===i.tagName;if(o=K(i,p))return l&&j(i,"loopVirtual",!0),r.push(ue(i,n,o)),!1;if(o=K(i,c))return r.push(he(i,n,o)),!1;if((o=K(i,f))&&D.hasExpr(o))return r.push({isRtag:!0,expr:o,dom:i,attrs:[].slice.call(i.attributes)}),!1;if(s=Nt(i),l&&(K(i,"virtualized")&&i.parentElement.removeChild(i),s||K(i,"virtualized")||K(i,"loopVirtual")||(s={tmpl:i.outerHTML})),s&&(i!==t||e)){var u=K(i,f);if(!l||u)return u&&l&&Ot("Virtual tags shouldn't be used together with the \""+f+'" attribute - https://github.com/riot/riot/issues/2511'),r.push(Dt(s,{root:i,parent:n},i.innerHTML,n)),!1;j(i,"virtualized",!0);var d=_e({tmpl:i.outerHTML},{root:i,parent:n},i.innerHTML);r.push(d)}ge.apply(n,[i,i.attributes,function(t,e){e&&r.push(e)}])}}),r}function ge(t,e,n){var r=this;gt(e,function(e){if(!e)return!1;var i,o=e.name,a=pt(o);vt(u,o)&&t.tagName.toLowerCase()!==s?i=ce(t,r,o,e.value):D.hasExpr(e.value)&&(i={dom:t,expr:e.value,attr:o,bool:a}),n(e,i)})}function me(t){var e=this.__,n=e.isAnonymous,r=e.skipAnonymous;yt(this,"isMounted",t),n&&r||(t?this.trigger("mount"):(this.trigger("unmount"),this.off("*"),this.__.wasCreated=!1))}function _e(t,e,n){void 0===t&&(t={}),void 0===e&&(e={});var r,o=e.context||{},s=e.opts||{},u=e.parent,f=e.isLoop,c=!!e.isAnonymous,p=X.skipAnonymousTags&&c,d=e.item,h=e.index,v=t.tmpl,g=[],_=e.root,b=e.tagName||Et(_),y="virtual"===b,w=!y&&!v;return w||f&&c?r=_:(y||(_.innerHTML=""),r=zt(v,n,ft(_))),p||R(o),t.name&&_._tag&&_._tag.unmount(!0),yt(o,"__",{impl:t,root:_,skipAnonymous:p,implAttrs:[],isAnonymous:c,instAttrs:[],innerHTML:n,tagName:b,index:h,isLoop:f,isInline:w,item:d,parent:u,listeners:[],virts:[],wasCreated:!1,tail:null,head:null}),[["isMounted",!1],["_riot_id",bt()],["root",_],["opts",s,{writable:!0,enumerable:!0}],["parent",u||null],["tags",{}],["refs",{}],["update",function(t){return function(t,e,n){var r=t.__,i={},o=t.isMounted&&!r.skipAnonymous;return r.isAnonymous&&r.parent&&$(t,r.parent),$(t,e),kt.apply(t,[r.isLoop,r.parent,r.isAnonymous,i,r.instAttrs]),o&&t.isMounted&&lt(t.shouldUpdate)&&!t.shouldUpdate(e,i)?t:($(t.opts,i),o&&t.trigger("update",e),$t.call(t,n),o&&t.trigger("updated"),t)}(o,t,g)}],["mixin",function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return gt(e,function(e){var n,r,i=[],o=["init","__proto__"];e=dt(e)?ee(e):e,n=lt(e)?new e:e;var s=Object.getPrototypeOf(n);do{i=i.concat(Object.getOwnPropertyNames(r||n))}while(r=Object.getPrototypeOf(r||n));gt(i,function(e){if(!vt(o,e)){var r=q(n,e)||q(s,e),i=r&&(r.get||r.set);!t.hasOwnProperty(e)&&i?Object.defineProperty(t,e,r):t[e]=lt(n[e])?n[e].bind(t):n[e]}}),n.init&&n.init.bind(t)(t.opts)}),t}.apply(void 0,[o].concat(t))}],["mount",function(){return function(t,e,n,r){var i=t.__,o=i.root;o._tag=t,ge.apply(i.parent,[o,o.attributes,function(e,n){!i.isAnonymous&&fe.isPrototypeOf(n)&&(n.tag=t),e.expr=n,i.instAttrs.push(e)}]),tt(i.impl.attrs,function(t,e){i.implAttrs.push({name:t,value:e})}),ge.apply(t,[o,i.implAttrs,function(t,e){e?n.push(e):j(o,t.name,t.value)}]),kt.apply(t,[i.isLoop,i.parent,i.isAnonymous,r,i.instAttrs]);var s=ee(a);if(s&&!i.skipAnonymous)for(var l in s)s.hasOwnProperty(l)&&t.mixin(s[l]);if(i.impl.fn&&i.impl.fn.call(t,r),i.skipAnonymous||t.trigger("before-mount"),gt(ve.apply(t,[e,i.isAnonymous]),function(t){return n.push(t)}),t.update(i.item),!i.isAnonymous&&!i.isInline)for(;e.firstChild;)o.appendChild(e.firstChild);if(yt(t,"root",o),!i.skipAnonymous&&t.parent){var u=xt(t.parent);u.one(u.isMounted?"updated":"mount",function(){me.call(t,!0)})}else me.call(t,!0);return t.__.wasCreated=!0,t}(o,r,g,s)}],["unmount",function(t){return function(t,e,n){var r=t.__,o=r.root,s=i.indexOf(t),a=o.parentNode;if(r.skipAnonymous||t.trigger("before-unmount"),tt(r.impl.attrs,function(t){mt(t,l)&&(t=t.slice(l.length)),V(o,t)}),t.__.listeners.forEach(function(t){Object.keys(t[m]).forEach(function(e){t.removeEventListener(e,t[m][e])})}),-1!==s&&i.splice(s,1),r.parent&&!r.isAnonymous){var u=xt(r.parent);r.isVirtual?Object.keys(t.tags).forEach(function(e){return Rt(u.tags,e,t.tags[e])}):Rt(u.tags,r.tagName,t)}return t.__.virts&&gt(t.__.virts,function(t){t.parentNode&&t.parentNode.removeChild(t)}),pe(n),gt(r.instAttrs,function(t){return t.expr&&t.expr.unmount&&t.expr.unmount()}),e?I(o,""):a&&a.removeChild(o),r.onUnmount&&r.onUnmount(),t.isMounted||me.call(t,!0),me.call(t,!1),delete o._tag,t}(o,t,g)}]].reduce(function(t,e){var n=e[0],r=e[1],i=e[2];return yt(o,n,r,i),t},$(o,d))}function be(t,e,n,r){var s,a=o[e],l=o[e].class,u=r||(l?k(l.prototype):{}),f=t._innerHTML=t._innerHTML||t.innerHTML,c=$({root:t,opts:n,context:u},{parent:n?n.parent:null});return a&&t&&(s=_e(a,c,f)),s&&s.mount&&(s.mount(!0),vt(i,s)||i.push(s)),s}var ye=Object.freeze({arrayishAdd:Ct,getTagName:Et,inheritParentProps:Mt,mountTo:be,selectTags:Xt,arrayishRemove:Rt,getTag:Nt,initChildTag:Dt,moveChildTag:oe,makeReplaceVirtual:Zt,getImmediateCustomParentTag:xt,makeVirtual:qt,moveVirtual:se,unmountAll:pe,createIfDirective:he,createRefDirective:ce}),we=X,Oe={tmpl:D,brackets:W,styleManager:T,vdom:i,styleNode:T.styleNode,dom:ot,check:ht,misc:Lt,tags:ye},Le=Yt,Ce=Gt,Ne=Jt,Ee=Kt,Me=ee,Se=ne,Fe=re,Ae=R,Be=$({},ie,{observable:R,settings:we,util:Oe});t.settings=we,t.util=Oe,t.Tag=Le,t.tag=Ce,t.tag2=Ne,t.mount=Ee,t.mixin=Me,t.update=Se,t.unregister=Fe,t.version="v3.13.2",t.observable=Ae,t.default=Be,Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(t,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})}n.r(e);var i={getCustomFields:function(){return r("/api/custom-fields",{board_id:window.localStorage.getItem("board-id")})},getCards:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e={board_id:window.localStorage.getItem("board-id")};return t&&(e.filter_by=t),r("/api/cards",e)},processCards:function(t){var e=[];return void 0===t?e:(Object.entries(t).forEach(function(t){var n={},r=[];t[1].forEach(function(t){var e=[];Object.entries(t._custom_fields).forEach(function(t){e.push({name:t[0],value:t[1]})}),r.push({name:t._name,url:t._url,customFields:e})}),n.name=t[0],n.cards=r,e.push(n)}),e)}};e.default=i},function(t,e,n){n(3),t.exports=n(1)},function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),o=(n(4),n(5),n(6),n(1));i.a.mixin("trello-utils",o.default),i.a.store=new function(){i.a.observable(this)},i.a.mount("*")},function(t,e,n){!function(t,e){"use strict";var n="isMounted opts".split(" ");function r(t){e.util.styleManager.inject();for(var i=document.querySelectorAll(t+", [data-is="+t+"]"),o=[],s=0;s<i.length;s++){var a,l=i[s],u=l._tag;r.trigger("before-unmount",u),u.unmount(!0),l.innerHTML=u.__.innerHTML,(u.__.instAttrs||[]).map(function(t){l.setAttribute(t.name,t.value)});var f={};for(p in u.opts)f[p]=u.opts[p];f.parent=u.parent,r.trigger("before-mount",f,u);var c=e.mount(l,f)[0];for(var p in u)a=u[p],~n.indexOf(p)||(c[p]=a);c.update(),o.push(c),r.trigger("after-mount",c,u)}return o}e.observable(r),e.reload=r,e.default&&(e.default.reload=r),t.reload=r,t.default=r,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(0))},function(t,e,n){var r=n(0);r.tag2("filter",'<div if="{board_id !=null}" class="funi-filter-info"> <span class="funi-filter-info-current">{selectedFilters} filters are selected</span> </div> <div class="funi-filter" each="{filter in filters}"> <p class="funi-filter-name">{filter.name}:</p> <select class="funi-filter-values" multiple> <option class="{filter.name}" value="0"> No filter </option> <option class="{filter.name}" each="{option in filter.options}" riot-value="{option}"> {option} </option> </select> </div> <div if="{board_id !=null}" ref="loadingFilter" id="loading-filter"><img src="/static/svg/spinner.svg"></div> <button if="{board_id !=null}" ref="applyFilter" onclick="{this.applyFilter}" id="apply-filter" disabled="disabled">Apply filter</button>','filter .loading img,[data-is="filter"] .loading img{ width: 50px; display: block; margin: auto; } filter .funi-filter-info .funi-filter-info-current,[data-is="filter"] .funi-filter-info .funi-filter-info-current{ font-weight: bold; color: blue; margin: 0 20px; } filter .funi-filter,[data-is="filter"] .funi-filter{ display: inline-block; } filter .funi-filter .funi-filter-name,[data-is="filter"] .funi-filter .funi-filter-name{ font-size: 12px; font-weight: bold; text-align: center; } filter .funi-filter .funi-filter-values,[data-is="filter"] .funi-filter .funi-filter-values{ height: 250px; margin: 0 25px; min-width: 150px; padding: 10px; }',"",function(t){this.board_id=localStorage.getItem("board-id"),this.mixin("trello-utils"),this.selectedFilters="No";var e=this;r.default.store.on("hide-loading",()=>{this.refs.loadingFilter&&(this.refs.loadingFilter.style.display="none")}),r.default.store.on("show-loading",()=>{this.refs.loadingFilter&&(this.refs.loadingFilter.style.display="block")}),r.default.store.on("activate-filter-button",()=>{this.refs.applyFilter&&(this.refs.applyFilter.disabled=!1)}),this.load_custom_fields=function(){null!=e.board_id&&this.getCustomFields().then(t=>{let n=[];Object.entries(t).forEach(t=>{n.push({name:t[0],options:t[1]})}),e.filters=n,e.update()})},this.applyFilter=function(){r.default.store.trigger("show-loading"),document.getElementById("apply-filter").disabled="disabled";let t=[];Array.from(document.getElementsByClassName("funi-filter-values")).forEach(e=>{Array.from(e.selectedOptions).forEach(e=>{t.push(e)})}),this.filter(t)},this.filter=function(t){var e=[];Array.from(t).filter(t=>0!==t.value).forEach(t=>{e.push({name:t.className,value:t.value})}),this.getCards(e).then(t=>{r.default.store.trigger("filter-applied",this.processCards(t))});let n="";e.forEach(t=>{n+=t.value+" + "}),n=0===n.length?"No":n.slice(0,-3),this.selectedFilters=n,this.update()},r.default.store.on("board-id-update",t=>{e.board_id=t,e.update(),e.load_custom_fields()}),this.load_custom_fields()})},function(t,e,n){var r=n(0);r.tag2("board",'<div id="trello-lists" ref="trelloLists" class="trello-lists"> <div class="trello-lists-item" each="{list in lists}"> <span class="trello-lists-item-title">{list.name}</span> <div class="trello-lists-item-content"> <div class="card-info" each="{card in list.cards}"> <p class="card-info-custom-field" each="{customField in card.customFields}">{customField.name} -> {customField.value}</p> <a href="{card.url}">{card.name}</a> </div> </div> </div> <div show="{board_id==null}"> <input type="text" ref="boardIdValue" placeholder="Board Id"> <button onclick="{update_board_id}">Update Board Id!</button> </div> </div> </div>','board .trello-lists .trello-lists-item,[data-is="board"] .trello-lists .trello-lists-item{ display: inline-block; margin: 20px; width: 300px; vertical-align: top; } board .trello-lists .trello-lists-item .trello-lists-item-title,[data-is="board"] .trello-lists .trello-lists-item .trello-lists-item-title{ font-weight: bold; text-align: center; min-height: 50px; } board .trello-lists .trello-lists-item .trello-lists-item-content,[data-is="board"] .trello-lists .trello-lists-item .trello-lists-item-content{ margin: 12px 0; min-height: 150px; } board .trello-lists .trello-lists-item .trello-lists-item-content .card-info,[data-is="board"] .trello-lists .trello-lists-item .trello-lists-item-content .card-info{ border: 1px solid black; margin: 5px; } board .trello-lists .trello-lists-item .trello-lists-item-content .card-info .card-info-custom-field,[data-is="board"] .trello-lists .trello-lists-item .trello-lists-item-content .card-info .card-info-custom-field{ font-size: 10px; }',"",function(t){let e=this;this.mixin("trello-utils"),this.board_id=localStorage.getItem("board-id"),this.load_cards=function(){null!=e.board_id&&(r.default.store.trigger("show-loading"),this.getCards().then(t=>{e.updateBoard(this.processCards(t))}))},this.update_board_id=function(t){t.preventDefault(),this.refs.boardIdValue.value&&0!==this.refs.boardIdValue.value.length&&(window.localStorage.setItem("board-id",this.refs.boardIdValue.value),e.board_id=this.refs.boardIdValue.value,e.update(),r.default.store.trigger("board-id-update",this.refs.boardIdValue.value),e.load_cards())},this.updateBoard=function(t){e.lists=t,e.update(),r.default.store.trigger("hide-loading"),r.default.store.trigger("activate-filter-button")},r.default.store.on("filter-applied",function(t){e.updateBoard(t)}),this.on("updated",function(){e.board_id&&this.recalculateBoardWidth()}),this.recalculateBoardWidth=function(){this.refs.trelloLists.style.width=this.refs.trelloLists.getElementsByClassName("trello-lists-item").length*this.calculateElementWidth(this.refs.trelloLists.getElementsByClassName("trello-lists-item")[0])+"px"},this.calculateElementWidth=function(t){if(void 0===t)return 0;const e=t.currentStyle||window.getComputedStyle(t);return t.offsetWidth+(parseFloat(e.marginLeft)+parseFloat(e.marginRight))-(parseFloat(e.paddingLeft)+parseFloat(e.paddingRight))+(parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth))},this.load_cards()})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Jpb3QvcmlvdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbWl4aW5zL3RyZWxsby11dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Jpb3QtaG90LXJlbG9hZC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdGFncy9maWx0ZXIudGFnIiwid2VicGFjazovLy8uL3NyYy90YWdzL2JvYXJkLnRhZyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIiQiLCJzZWxlY3RvciIsImN0eCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInN0eWxlTm9kZSIsImNzc1RleHRQcm9wIiwiX19UQUdTX0NBQ0hFIiwiX19UQUdfSU1QTCIsIllJRUxEX1RBRyIsIkdMT0JBTF9NSVhJTiIsIkFUVFJTX1BSRUZJWCIsIlJFRl9ESVJFQ1RJVkVTIiwiSVNfRElSRUNUSVZFIiwiQ09ORElUSU9OQUxfRElSRUNUSVZFIiwiTE9PUF9ESVJFQ1RJVkUiLCJMT09QX05PX1JFT1JERVJfRElSRUNUSVZFIiwiU0hPV19ESVJFQ1RJVkUiLCJISURFX0RJUkVDVElWRSIsIktFWV9ESVJFQ1RJVkUiLCJSSU9UX0VWRU5UU19LRVkiLCJUX1NUUklORyIsIlRfT0JKRUNUIiwiVF9VTkRFRiIsIlRfRlVOQ1RJT04iLCJYTElOS19OUyIsIlNWR19OUyIsIlhMSU5LX1JFR0VYIiwiV0lOIiwid2luZG93IiwidW5kZWZpbmVkIiwiUkVfRVZFTlRTX1BSRUZJWCIsIlJFX0hUTUxfQVRUUlMiLCJDQVNFX1NFTlNJVElWRV9BVFRSSUJVVEVTIiwidmlld2JveCIsInByZXNlcnZlYXNwZWN0cmF0aW8iLCJSRV9CT09MX0FUVFJTIiwiSUVfVkVSU0lPTiIsImRvY3VtZW50TW9kZSIsIm1ha2VFbGVtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImRvbSIsInZhbCIsInhsaW5rIiwiZXhlYyIsInNldEF0dHJpYnV0ZU5TIiwibmV3Tm9kZSIsInVzZXJOb2RlIiwiYnlOYW1lIiwibmVlZHNJbmplY3QiLCJpZCIsInBhcmVudE5vZGUiLCJyZXBsYWNlQ2hpbGQiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJzdHlsZVNoZWV0Iiwic3R5bGVNYW5hZ2VyIiwiYWRkIiwiY3NzIiwiaW5qZWN0Iiwic3R5bGUiLCJrZXlzIiwibWFwIiwiayIsImpvaW4iLCJjc3NUZXh0IiwiaW5uZXJIVE1MIiwicmVtb3ZlIiwic2tpcFJlZ2V4IiwiYmVmb3JlUmVDaGFycyIsImJlZm9yZVJlV29yZHMiLCJ3b3Jkc0xhc3RDaGFyIiwicmVkdWNlIiwidyIsInNsaWNlIiwiUkVfUkVHRVgiLCJSRV9WTl9DSEFSIiwicHJldiIsImNvZGUiLCJwb3MiLCJ0ZXN0Iiwic3RhcnQiLCJyZSIsImxhc3RJbmRleCIsIm1hdGNoIiwibmV4dCIsImxlbmd0aCIsImluZGV4T2YiLCJlbmQiLCJicmFja2V0cyIsIlVOREVGIiwiX3JlZ2V4IiwiX3NldHRpbmdzIiwiUkVHTE9CIiwiUl9TVFJJTkdTIiwiU19RQkxPQ0tTIiwic291cmNlIiwiVU5TVVBQT1JURUQiLCJSZWdFeHAiLCJORUVEX0VTQ0FQRSIsIlNfUUJMT0NLMiIsIkZJTkRCUkFDRVMiLCIoIiwiWyIsInsiLCJERUZBVUxUIiwiX3BhaXJzIiwiY2FjaGVkQnJhY2tldHMiLCJfY2FjaGUiLCJfbG9vcGJhY2siLCJfcmV3cml0ZSIsImJwIiwicmVwbGFjZSIsImdsb2JhbCIsIl9jcmVhdGUiLCJwYWlyIiwiYXJyIiwic3BsaXQiLCJFcnJvciIsImNvbmNhdCIsIl9icmFja2V0cyIsInJlT3JJZHgiLCJfcmVzZXQiLCJzdHIiLCJ0bXBsIiwiX2JwIiwiaXNleHByIiwibWFyayIsInBhcnRzIiwicWJsb2NrcyIsInByZXZTdHIiLCJpbmRleCIsImNoIiwicmVjaCIsIml4IiwicHVzaFFCbG9jayIsInVuZXNjYXBlU3RyIiwicHVzaCIsIl9wb3MiLCJfbGFzdEluZGV4Iiwic2xhc2giLCJoYXNFeHByIiwibG9vcEtleXMiLCJleHByIiwidHJpbSIsImFycmF5Iiwic2V0IiwiYiIsInNldHRpbmdzIiwicmlvdCIsIlJfTUxDT01NUyIsIl90bXBsIiwiZGF0YSIsIlJFX0RRVU9URSIsInFzdHIiLCJqIiwibGlzdCIsIl9wYXJzZUV4cHIiLCJSRV9RQk1BUksiLCJfIiwiX2dldFRtcGwiLCJGdW5jdGlvbiIsImVyciIsInJpb3REYXRhIiwidGFnTmFtZSIsIl9fIiwiX3Jpb3RfaWQiLCJlcnJvckhhbmRsZXIiLCJjb25zb2xlIiwiZXJyb3IiLCJtZXNzYWdlIiwibG9nIiwidGhpcyIsImNsZWFyQ2FjaGUiLCJSRV9DU05BTUUiLCJSRV9CUkVORCIsImFzVGV4dCIsImNudCIsImpzYiIsInJpZ2h0Q29udGV4dCIsInNraXBCcmFjZXMiLCJfd3JhcEV4cHIiLCJtbSIsImx2IiwiaXIiLCJKU19DT05URVhUIiwiSlNfVkFSTkFNRSIsIkpTX05PUFJPUFMiLCJ0YiIsIm12YXIiLCJ2ZXJzaW9uIiwib2JzZXJ2YWJsZSIsImVsIiwiY2FsbGJhY2tzIiwiQXJyYXkiLCJkZWZpbmVQcm9wZXJ0aWVzIiwib24iLCJldmVudCIsImZuIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJvZmYiLCJjYiIsInNwbGljZSIsIm9uZSIsImFwcGx5IiwiYXJndW1lbnRzIiwidHJpZ2dlciIsImZucyIsImFyZ3VtZW50cyQxIiwiYXJnbGVuIiwiYXJncyIsImdldFByb3BEZXNjcmlwdG9yIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiaXNVbmRlZmluZWQiLCJpc1dyaXRhYmxlIiwib2JqIiwiZGVzY3JpcHRvciIsImV4dGVuZCIsInNyYyIsInNraXBBbm9ueW1vdXNUYWdzIiwia2VlcFZhbHVlQXR0cmlidXRlcyIsImF1dG9VcGRhdGUiLCIkJCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjcmVhdGVET01QbGFjZWhvbGRlciIsImNyZWF0ZVRleHROb2RlIiwidG9nZ2xlVmlzaWJpbGl0eSIsInNob3ciLCJkaXNwbGF5IiwiaGlkZGVuIiwiZ2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0SW5uZXJIVE1MIiwiY29udGFpbmVyIiwiaHRtbCIsImlzU3ZnIiwibm9kZSIsIm93bmVyRG9jdW1lbnQiLCJpbXBvcnROb2RlIiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiZG9jdW1lbnRFbGVtZW50Iiwid2Fsa0F0dHJpYnV0ZXMiLCJ0b0xvd2VyQ2FzZSIsImNyZWF0ZUZyYWdtZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsInNhZmVJbnNlcnQiLCJyb290IiwiY3VyciIsImluc2VydEJlZm9yZSIsInN0eWxlT2JqZWN0VG9TdHJpbmciLCJhY2MiLCJwcm9wIiwid2Fsa05vZGVzIiwiY29udGV4dCIsInJlcyIsImZpcnN0Q2hpbGQiLCJuZXh0U2libGluZyIsImZyZWV6ZSIsIm1rRWwiLCJzZXRBdHRyIiwiZ2V0QXR0ciIsInJlbUF0dHIiLCJ3YWxrQXR0cnMiLCJjcmVhdGVGcmFnIiwiaXNOaWwiLCJpc0JsYW5rIiwiaXNGdW5jdGlvbiIsImlzT2JqZWN0Iiwib3duZXIiLCJvd25lclNWR0VsZW1lbnQiLCJpc0FycmF5IiwiaXNCb29sQXR0ciIsImlzU3RyaW5nIiwiY2hlY2siLCJjb250YWlucyIsIml0ZW0iLCJlYWNoIiwibGVuIiwic3RhcnRzV2l0aCIsInVpZCIsImRlZmluZSIsIm9wdGlvbnMiLCJ0b0NhbWVsIiwidG9VcHBlckNhc2UiLCJ3YXJuIiwibWlzYyIsIm9iamVjdENyZWF0ZSIsImFycmF5aXNoQWRkIiwiZW5zdXJlQXJyYXkiLCJkZXN0IiwiaXNBcnIiLCJoYXNJbmRleCIsIm9sZEluZGV4IiwiZ2V0TmFtZSIsInNraXBEYXRhSXMiLCJjaGlsZCIsIm5hbWVkVGFnIiwiaW5oZXJpdFBhcmVudFByb3BzIiwicGFyZW50IiwicmVIYXNZaWVsZCIsInJlWWllbGRBbGwiLCJyZVlpZWxkU3JjIiwicmVZaWVsZERlc3QiLCJyb290RWxzIiwidHIiLCJ0aCIsInRkIiwiY29sIiwidGJsVGFncyIsIkdFTkVSSUMiLCJTVkciLCJta2RvbSIsInJlZiIsInRleHQiLCJkZWYiLCJyZXBsYWNlWWllbGQiLCJzZWxlY3QiLCJzZWxlY3RlZEluZGV4IiwidG5hbWUiLCJjaGlsZEVsZW1lbnRDb3VudCIsInNwZWNpYWxUYWdzIiwiRVZFTlRfQVRUUl9SRSIsImdldEltbWVkaWF0ZUN1c3RvbVBhcmVudCIsInRhZyIsInB0YWciLCJpc0Fub255bW91cyIsInNldEV2ZW50SGFuZGxlciIsImhhbmRsZXIiLCJldmVudE5hbWUiLCJlIiwiY3VycmVudFRhcmdldCIsInRhcmdldCIsInNyY0VsZW1lbnQiLCJ3aGljaCIsImNoYXJDb2RlIiwia2V5Q29kZSIsInByZXZlbnRVcGRhdGUiLCJpc01vdW50ZWQiLCJ1cGRhdGUiLCJsaXN0ZW5lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImluaXRDaGlsZCIsIm9wdHMiLCJjcmVhdGVUYWciLCJ0YWdzIiwiYXJyYXlpc2hSZW1vdmUiLCJtYWtlVmlydHVhbCIsInNpYiIsInRhaWwiLCJmcmFnIiwidmlydHMiLCJtYWtlUmVwbGFjZVZpcnR1YWwiLCJ1cGRhdGVFeHByZXNzaW9uIiwiYXR0ck5hbWUiLCJub3JtYWxpemVBdHRyTmFtZSIsImF0dHIiLCJpc1RvZ2dsZSIsImlzVmlydHVhbCIsImlzU3R5bGVBdHRyIiwiaXNDbGFzc0F0dHIiLCJpc1ZhbHVlQXR0ciIsIndhc0NyZWF0ZWQiLCJtb3VudCIsImhhc1ZhbHVlIiwiaXNPYmoiLCJKU09OIiwic3RyaW5naWZ5Iiwid2FzUGFyc2VkT25jZSIsImJvb2wiLCJpc1J0YWciLCJfdGFnIiwidW5tb3VudCIsImltcGwiLCJhdHRycyIsImEiLCJvblVubW91bnQiLCJkZWxOYW1lIiwiZGF0YUlzIiwidXBkYXRlRGF0YUlzIiwibm9kZVZhbHVlIiwiYXR0cmlidXRlIiwiZXhwcmVzc2lvbnMiLCJ1cGRhdGVPcHRzIiwiaXNMb29wIiwiaW5zdEF0dHJzIiwicXVlcnkiLCJmaWx0ZXIiLCJUYWciLCJvbkNyZWF0ZSIsImNsYXNzIiwiY29uc3RydWN0b3IiLCJtb3VudCQxIiwidGFnMiIsImVsZW0iLCJhbGxUYWdzIiwibm9kZUxpc3QiLCJfZWwiLCJwdXNoVGFnc1RvIiwicmlvdFRhZyIsIm1peGlucyIsImdsb2JhbHMiLCJtaXhpbnNfaWQiLCJtaXhpbiIsIm1peCIsImciLCJzdG9yZSIsInVwZGF0ZSQxIiwidW5yZWdpc3RlciIsImNvcmUiLCJtb3ZlQ2hpbGQiLCJuZXdQb3MiLCJtb3ZlVmlydHVhbCIsIm1raXRlbSIsIl9lYWNoIiwibXVzdFJlb3JkZXIiLCJrZXlBdHRyIiwiaGFzS2V5QXR0ckV4cHIiLCJwbGFjZWhvbGRlciIsImlmRXhwciIsIm9sZEl0ZW1zIiwicmVtb3ZlQ2hpbGQiLCJpdGVtcyIsInRtcEl0ZW1zIiwiaGFzS2V5cyIsImZpbHRlcmVkSXRlbXNDb3VudCIsIl9pdGVtIiwiaXRlbUlkIiwib3JpZ2luYWxJdGVtIiwia2V5ZWRJdGVtIiwiZ2V0SXRlbUlkIiwiZG9SZW9yZGVyIiwib2xkUG9zIiwiaXNOZXciLCJtdXN0QXBwZW5kIiwibXVzdENyZWF0ZSIsImNsb25lTm9kZSIsIm5leHRUYWciLCJ0aGlzJDEiLCJ1bm1vdW50UmVkdW5kYW50IiwiUmVmRXhwciIsImluaXQiLCJhdHRyVmFsdWUiLCJyYXdWYWx1ZSIsImhhc0V4cCIsIm9sZCIsImN1c3RvbVBhcmVudCIsInRhZ09yRG9tIiwiX19yZWYiLCJyZWZzIiwiY3JlYXRlUmVmRGlyZWN0aXZlIiwidW5tb3VudEFsbCIsIklmRXhwciIsInN0dWIiLCJwcmlzdGluZSIsImN1cnJlbnQiLCJwYXJzZUV4cHJlc3Npb25zIiwiY3JlYXRlSWZEaXJlY3RpdmUiLCJtdXN0SW5jbHVkZVJvb3QiLCJ0YWdJbXBsIiwidHlwZSIsIm5vZGVUeXBlIiwiYXR0cmlidXRlcyIsInBhcmVudEVsZW1lbnQiLCJvdXRlckhUTUwiLCJoYXNJc0RpcmVjdGl2ZSIsInBhcnNlQXR0cmlidXRlcyIsInNldE1vdW50U3RhdGUiLCJza2lwQW5vbnltb3VzIiwiY29uZiIsImlzSW5saW5lIiwiaW1wbEF0dHJzIiwibmV4dE9wdHMiLCJjYW5UcmlnZ2VyIiwic2hvdWxkVXBkYXRlIiwiY29tcG9uZW50VXBkYXRlIiwidGFnJCQxIiwiaW5zdGFuY2UiLCJwcm9wcyIsInByb3BzQmxhY2tsaXN0IiwicHJvdG8iLCJnZXRQcm90b3R5cGVPZiIsImdldE93blByb3BlcnR5TmFtZXMiLCJoYXNHZXR0ZXJTZXR0ZXIiLCJpc1Byb3RvdHlwZU9mIiwidiIsImdsb2JhbE1peGluIiwiY29tcG9uZW50TW91bnQiLCJtdXN0S2VlcFJvb3QiLCJ0YWdJbmRleCIsImZvckVhY2giLCJ0YWdVbm1vdW50IiwiaW1wbENsYXNzIiwiX2lubmVySFRNTCIsImdldFRhZ05hbWUiLCJtb3VudFRvIiwic2VsZWN0VGFncyIsImdldFRhZyIsImluaXRDaGlsZFRhZyIsIm1vdmVDaGlsZFRhZyIsImdldEltbWVkaWF0ZUN1c3RvbVBhcmVudFRhZyIsInNldHRpbmdzJDEiLCJ1dGlsIiwidmRvbSIsIlRhZyQxIiwidGFnJDEiLCJ0YWcyJDEiLCJtb3VudCQyIiwibWl4aW4kMSIsInVwZGF0ZSQyIiwidW5yZWdpc3RlciQxIiwib2JzZXJ2YWJsZSQxIiwicmlvdCQxIiwiZGVmYXVsdCIsImZhY3RvcnkiLCJwb3N0RGF0YSIsInVybCIsImZldGNoIiwibWV0aG9kIiwiY2FjaGUiLCJjcmVkZW50aWFscyIsImhlYWRlcnMiLCJDb250ZW50LVR5cGUiLCJib2R5IiwidGhlbiIsInJlc3BvbnNlIiwianNvbiIsIl9fd2VicGFja19leHBvcnRzX18iLCJ0cmVsbG9VdGlscyIsImdldEN1c3RvbUZpZWxkcyIsImJvYXJkX2lkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImdldENhcmRzIiwiZmlsdGVycyIsImZpbHRlcl9ieSIsInByb2Nlc3NDYXJkcyIsImNhcmRzSW5mbyIsImxpc3RzIiwiZW50cmllcyIsImxpc3RfaW5mbyIsImxpc3RfY29udGVudCIsImNhcmRzIiwiY2FyZCIsImN1c3RvbUZpZWxkcyIsIl9jdXN0b21fZmllbGRzIiwiY3VzdG9tRmllbGQiLCJfbmFtZSIsIl91cmwiLCJyaW90X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJyaW90X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCIsIl9taXhpbnNfdHJlbGxvX3V0aWxzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18iLCJub25TdGF0ZSIsInJlbG9hZCIsImVsZW1zIiwib2xkVGFnIiwibmV3T3B0cyIsIm5ld1RhZyIsInNlbGVjdGVkRmlsdGVycyIsInNlbGYiLCJsb2FkaW5nRmlsdGVyIiwiYXBwbHlGaWx0ZXIiLCJmcm9tIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsIm9wdGlvbiIsInVwZGF0ZUJvYXJkIiwidXBkYXRlX2JvYXJkX2lkIiwicHJldmVudERlZmF1bHQiLCJib2FyZElkVmFsdWUiLCJzZXRJdGVtIiwicmVjYWxjdWxhdGVCb2FyZFdpZHRoIiwidHJlbGxvTGlzdHMiLCJ3aWR0aCIsImNhbGN1bGF0ZUVsZW1lbnRXaWR0aCIsImVsZW1lbnQiXSwibWFwcGluZ3MiOiJhQUNB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M1osRUFBQTNMLEVBQUEsR0FDQTJMLEVBQUFzUCxLQUFBLGttREFBQWxELE9BQ0F3TixFQUFBclksVUFFQXlPLE1BQUEscUJBQ0krSCxTQUFBQyxhQUFBQyxRQUFBLHVDQUdBLE1BQUEyQixFQUFBN0IsV0F1REovWCxFQUFBOFcsUUFBQTNHLE1BQUF6TSxRQUFBLGdCQWpEQW5DLEtBQUEyVyxXQUFBVCxLQUFBOVEsSUFDSWlULEVBQUFNLFlBQUEzWSxLQUFBOFcsYUFBQTFSLGFBSUF3VCxnQkFBQSxTQUFBN08sR0FDQUEsRUFBQThPLGlCQUVBN1ksS0FBQXVSLEtBQUF1SCxhQUFBM2tCLE9BQUEsSUFBQTZMLEtBQUF1UixLQUFBdUgsYUFBQTNrQixNQUFBdUcsU0FLQTNELE9BQUEwZixhQUFBc0MsUUFBQSxXQUFBL1ksS0FBQXVSLEtBQUF1SCxhQUFBM2tCLCtDQUVBa2tCLEVBQUE3TixTQUNBL0wsRUFBQThXLFFBQUEzRyxNQUFBek0sUUFBQSxrQkFBQW5DLEtBQUF1UixLQUFBdUgsYUFBQTNrQixxREFPSmtrQixFQUFBckIsUUE4QlJxQixFQUFBN04sc0dBdEJRK0ssUUFBQTNHLE1BQUFwTixHQUFBLDBCQUFBd1YsR0FHSXFCLEVBQUFNLFlBQUEzQixVQUdKeFYsR0FBQSxxQkFDSTZXLEVBQUE3QixVQUtJeFcsS0FBQWdaLCtCQUVBQSxzQkFBQSxXQUNBaFosS0FBQXVSLEtBQUEwSCxZQUFBamdCLE1BQUFrZ0IsTUFBQWxaLEtBQUF1UixLQUFBMEgsWUFBQVIsdUJBQUEscUJBQUEvZCxPQUFBc0YsS0FBQW1aLHNCQUFBblosS0FBQXVSLEtBQUEwSCxZQUFBUix1QkFBQSxvQ0FLUlUsc0JBQUEsU0FBQUMiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL3N0YXRpYy9cIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIpO1xuIiwiLyogUmlvdCB2My4xMy4yLCBAbGljZW5zZSBNSVQgKi9cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IGZhY3RvcnkoZXhwb3J0cykgOlxuICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoWydleHBvcnRzJ10sIGZhY3RvcnkpIDpcbiAgKGZhY3RvcnkoKGdsb2JhbC5yaW90ID0ge30pKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoZXhwb3J0cykgeyAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICAqIFNob3J0ZXIgYW5kIGZhc3Qgd2F5IHRvIHNlbGVjdCBhIHNpbmdsZSBub2RlIGluIHRoZSBET01cbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSBzZWxlY3RvciAtIHVuaXF1ZSBkb20gc2VsZWN0b3JcbiAgICogQHBhcmFtICAgeyBPYmplY3QgfSBjdHggLSBET00gbm9kZSB3aGVyZSB0aGUgdGFyZ2V0IG9mIG91ciBzZWFyY2ggd2lsbCBpcyBsb2NhdGVkXG4gICAqIEByZXR1cm5zIHsgT2JqZWN0IH0gZG9tIG5vZGUgZm91bmRcbiAgICovXG4gIGZ1bmN0aW9uICQoc2VsZWN0b3IsIGN0eCkge1xuICAgIHJldHVybiAoY3R4IHx8IGRvY3VtZW50KS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKVxuICB9XG5cbiAgdmFyXG4gICAgLy8gYmUgYXdhcmUsIGludGVybmFsIHVzYWdlXG4gICAgLy8gQVRURU5USU9OOiBwcmVmaXggdGhlIGdsb2JhbCBkeW5hbWljIHZhcmlhYmxlcyB3aXRoIGBfX2BcbiAgICAvLyB0YWdzIGluc3RhbmNlcyBjYWNoZVxuICAgIF9fVEFHU19DQUNIRSA9IFtdLFxuICAgIC8vIHRhZ3MgaW1wbGVtZW50YXRpb24gY2FjaGVcbiAgICBfX1RBR19JTVBMID0ge30sXG4gICAgWUlFTERfVEFHID0gJ3lpZWxkJyxcblxuICAgIC8qKlxuICAgICAqIENvbnN0XG4gICAgICovXG4gICAgR0xPQkFMX01JWElOID0gJ19fZ2xvYmFsX21peGluJyxcblxuICAgIC8vIHJpb3Qgc3BlY2lmaWMgcHJlZml4ZXMgb3IgYXR0cmlidXRlc1xuICAgIEFUVFJTX1BSRUZJWCA9ICdyaW90LScsXG5cbiAgICAvLyBSaW90IERpcmVjdGl2ZXNcbiAgICBSRUZfRElSRUNUSVZFUyA9IFsncmVmJywgJ2RhdGEtcmVmJ10sXG4gICAgSVNfRElSRUNUSVZFID0gJ2RhdGEtaXMnLFxuICAgIENPTkRJVElPTkFMX0RJUkVDVElWRSA9ICdpZicsXG4gICAgTE9PUF9ESVJFQ1RJVkUgPSAnZWFjaCcsXG4gICAgTE9PUF9OT19SRU9SREVSX0RJUkVDVElWRSA9ICduby1yZW9yZGVyJyxcbiAgICBTSE9XX0RJUkVDVElWRSA9ICdzaG93JyxcbiAgICBISURFX0RJUkVDVElWRSA9ICdoaWRlJyxcbiAgICBLRVlfRElSRUNUSVZFID0gJ2tleScsXG4gICAgUklPVF9FVkVOVFNfS0VZID0gJ19fcmlvdC1ldmVudHNfXycsXG5cbiAgICAvLyBmb3IgdHlwZW9mID09ICcnIGNvbXBhcmlzb25zXG4gICAgVF9TVFJJTkcgPSAnc3RyaW5nJyxcbiAgICBUX09CSkVDVCA9ICdvYmplY3QnLFxuICAgIFRfVU5ERUYgID0gJ3VuZGVmaW5lZCcsXG4gICAgVF9GVU5DVElPTiA9ICdmdW5jdGlvbicsXG5cbiAgICBYTElOS19OUyA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyxcbiAgICBTVkdfTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLFxuICAgIFhMSU5LX1JFR0VYID0gL154bGluazooXFx3KykvLFxuXG4gICAgV0lOID0gdHlwZW9mIHdpbmRvdyA9PT0gVF9VTkRFRiA/IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIHVuZGVmaW5lZCA6IHdpbmRvdyxcblxuICAgIC8vIHNwZWNpYWwgbmF0aXZlIHRhZ3MgdGhhdCBjYW5ub3QgYmUgdHJlYXRlZCBsaWtlIHRoZSBvdGhlcnNcbiAgICBSRV9TUEVDSUFMX1RBR1MgPSAvXig/OnQoPzpib2R5fGhlYWR8Zm9vdHxbcmhkXSl8Y2FwdGlvbnxjb2woPzpncm91cCk/fG9wdCg/Omlvbnxncm91cCkpJC8sXG4gICAgUkVfU1BFQ0lBTF9UQUdTX05PX09QVElPTiA9IC9eKD86dCg/OmJvZHl8aGVhZHxmb290fFtyaGRdKXxjYXB0aW9ufGNvbCg/Omdyb3VwKT8pJC8sXG4gICAgUkVfRVZFTlRTX1BSRUZJWCA9IC9eb24vLFxuICAgIFJFX0hUTUxfQVRUUlMgPSAvKFstXFx3XSspID89ID8oPzpcIihbXlwiXSopfCcoW14nXSopfCh7W159XSp9KSkvZyxcbiAgICAvLyBzb21lIERPTSBhdHRyaWJ1dGVzIG11c3QgYmUgbm9ybWFsaXplZFxuICAgIENBU0VfU0VOU0lUSVZFX0FUVFJJQlVURVMgPSB7XG4gICAgICAndmlld2JveCc6ICd2aWV3Qm94JyxcbiAgICAgICdwcmVzZXJ2ZWFzcGVjdHJhdGlvJzogJ3ByZXNlcnZlQXNwZWN0UmF0aW8nXG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBNYXRjaGVzIGJvb2xlYW4gSFRNTCBhdHRyaWJ1dGVzIGluIHRoZSByaW90IHRhZyBkZWZpbml0aW9uLlxuICAgICAqIFdpdGggYSBsb25nIGxpc3QgbGlrZSB0aGlzLCBhIHJlZ2V4IGlzIGZhc3RlciB0aGFuIGBbXS5pbmRleE9mYCBpbiBtb3N0IGJyb3dzZXJzLlxuICAgICAqIEBjb25zdCB7UmVnRXhwfVxuICAgICAqIEBzZWUgW2F0dHJpYnV0ZXMubWRdKGh0dHBzOi8vZ2l0aHViLmNvbS9yaW90L2NvbXBpbGVyL2Jsb2IvZGV2L2RvYy9hdHRyaWJ1dGVzLm1kKVxuICAgICAqL1xuICAgIFJFX0JPT0xfQVRUUlMgPSAvXig/OmRpc2FibGVkfGNoZWNrZWR8cmVhZG9ubHl8cmVxdWlyZWR8YWxsb3dmdWxsc2NyZWVufGF1dG8oPzpmb2N1c3xwbGF5KXxjb21wYWN0fGNvbnRyb2xzfGRlZmF1bHR8Zm9ybW5vdmFsaWRhdGV8aGlkZGVufGlzbWFwfGl0ZW1zY29wZXxsb29wfG11bHRpcGxlfG11dGVkfG5vKD86cmVzaXplfHNoYWRlfHZhbGlkYXRlfHdyYXApP3xvcGVufHJldmVyc2VkfHNlYW1sZXNzfHNlbGVjdGVkfHNvcnRhYmxlfHRydWVzcGVlZHx0eXBlbXVzdG1hdGNoKSQvLFxuICAgIC8vIHZlcnNpb24jIGZvciBJRSA4LTExLCAwIGZvciBvdGhlcnNcbiAgICBJRV9WRVJTSU9OID0gKFdJTiAmJiBXSU4uZG9jdW1lbnQgfHwgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8ge30pLmRvY3VtZW50TW9kZSB8IDA7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIGdlbmVyaWMgRE9NIG5vZGVcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSBuYW1lIC0gbmFtZSBvZiB0aGUgRE9NIG5vZGUgd2Ugd2FudCB0byBjcmVhdGVcbiAgICogQHJldHVybnMgeyBPYmplY3QgfSBET00gbm9kZSBqdXN0IGNyZWF0ZWRcbiAgICovXG4gIGZ1bmN0aW9uIG1ha2VFbGVtZW50KG5hbWUpIHtcbiAgICByZXR1cm4gbmFtZSA9PT0gJ3N2ZycgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU1ZHX05TLCBuYW1lKSA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgYW55IERPTSBhdHRyaWJ1dGVcbiAgICogQHBhcmFtIHsgT2JqZWN0IH0gZG9tIC0gRE9NIG5vZGUgd2Ugd2FudCB0byB1cGRhdGVcbiAgICogQHBhcmFtIHsgU3RyaW5nIH0gbmFtZSAtIG5hbWUgb2YgdGhlIHByb3BlcnR5IHdlIHdhbnQgdG8gc2V0XG4gICAqIEBwYXJhbSB7IFN0cmluZyB9IHZhbCAtIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSB3ZSB3YW50IHRvIHNldFxuICAgKi9cbiAgZnVuY3Rpb24gc2V0QXR0cmlidXRlKGRvbSwgbmFtZSwgdmFsKSB7XG4gICAgdmFyIHhsaW5rID0gWExJTktfUkVHRVguZXhlYyhuYW1lKTtcbiAgICBpZiAoeGxpbmsgJiYgeGxpbmtbMV0pXG4gICAgICB7IGRvbS5zZXRBdHRyaWJ1dGVOUyhYTElOS19OUywgeGxpbmtbMV0sIHZhbCk7IH1cbiAgICBlbHNlXG4gICAgICB7IGRvbS5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsKTsgfVxuICB9XG5cbiAgdmFyIHN0eWxlTm9kZTtcbiAgLy8gQ3JlYXRlIGNhY2hlIGFuZCBzaG9ydGN1dCB0byB0aGUgY29ycmVjdCBwcm9wZXJ0eVxuICB2YXIgY3NzVGV4dFByb3A7XG4gIHZhciBieU5hbWUgPSB7fTtcbiAgdmFyIG5lZWRzSW5qZWN0ID0gZmFsc2U7XG5cbiAgLy8gc2tpcCB0aGUgZm9sbG93aW5nIGNvZGUgb24gdGhlIHNlcnZlclxuICBpZiAoV0lOKSB7XG4gICAgc3R5bGVOb2RlID0gKChmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBjcmVhdGUgYSBuZXcgc3R5bGUgZWxlbWVudCB3aXRoIHRoZSBjb3JyZWN0IHR5cGVcbiAgICAgIHZhciBuZXdOb2RlID0gbWFrZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICAvLyByZXBsYWNlIGFueSB1c2VyIG5vZGUgb3IgaW5zZXJ0IHRoZSBuZXcgb25lIGludG8gdGhlIGhlYWRcbiAgICAgIHZhciB1c2VyTm9kZSA9ICQoJ3N0eWxlW3R5cGU9cmlvdF0nKTtcblxuICAgICAgc2V0QXR0cmlidXRlKG5ld05vZGUsICd0eXBlJywgJ3RleHQvY3NzJyk7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgaWYgKHVzZXJOb2RlKSB7XG4gICAgICAgIGlmICh1c2VyTm9kZS5pZCkgeyBuZXdOb2RlLmlkID0gdXNlck5vZGUuaWQ7IH1cbiAgICAgICAgdXNlck5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobmV3Tm9kZSwgdXNlck5vZGUpO1xuICAgICAgfSBlbHNlIHsgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChuZXdOb2RlKTsgfVxuXG4gICAgICByZXR1cm4gbmV3Tm9kZVxuICAgIH0pKSgpO1xuICAgIGNzc1RleHRQcm9wID0gc3R5bGVOb2RlLnN0eWxlU2hlZXQ7XG4gIH1cblxuICAvKipcbiAgICogT2JqZWN0IHRoYXQgd2lsbCBiZSB1c2VkIHRvIGluamVjdCBhbmQgbWFuYWdlIHRoZSBjc3Mgb2YgZXZlcnkgdGFnIGluc3RhbmNlXG4gICAqL1xuICB2YXIgc3R5bGVNYW5hZ2VyID0ge1xuICAgIHN0eWxlTm9kZTogc3R5bGVOb2RlLFxuICAgIC8qKlxuICAgICAqIFNhdmUgYSB0YWcgc3R5bGUgdG8gYmUgbGF0ZXIgaW5qZWN0ZWQgaW50byBET01cbiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBjc3MgLSBjc3Mgc3RyaW5nXG4gICAgICogQHBhcmFtIHsgU3RyaW5nIH0gbmFtZSAtIGlmIGl0J3MgcGFzc2VkIHdlIHdpbGwgbWFwIHRoZSBjc3MgdG8gYSB0YWduYW1lXG4gICAgICovXG4gICAgYWRkOiBmdW5jdGlvbiBhZGQoY3NzLCBuYW1lKSB7XG4gICAgICBieU5hbWVbbmFtZV0gPSBjc3M7XG4gICAgICBuZWVkc0luamVjdCA9IHRydWU7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBJbmplY3QgYWxsIHByZXZpb3VzbHkgc2F2ZWQgdGFnIHN0eWxlcyBpbnRvIERPTVxuICAgICAqIGlubmVySFRNTCBzZWVtcyBzbG93OiBodHRwOi8vanNwZXJmLmNvbS9yaW90LWluc2VydC1zdHlsZVxuICAgICAqL1xuICAgIGluamVjdDogZnVuY3Rpb24gaW5qZWN0KCkge1xuICAgICAgaWYgKCFXSU4gfHwgIW5lZWRzSW5qZWN0KSB7IHJldHVybiB9XG4gICAgICBuZWVkc0luamVjdCA9IGZhbHNlO1xuICAgICAgdmFyIHN0eWxlID0gT2JqZWN0LmtleXMoYnlOYW1lKVxuICAgICAgICAubWFwKGZ1bmN0aW9uIChrKSB7IHJldHVybiBieU5hbWVba107IH0pXG4gICAgICAgIC5qb2luKCdcXG4nKTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBpZiAoY3NzVGV4dFByb3ApIHsgY3NzVGV4dFByb3AuY3NzVGV4dCA9IHN0eWxlOyB9XG4gICAgICBlbHNlIHsgc3R5bGVOb2RlLmlubmVySFRNTCA9IHN0eWxlOyB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIHRhZyBzdHlsZSBvZiBpbmplY3RlZCBET00gbGF0ZXIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgYSByZWdpc3RlcmVkIHRhZ25hbWVcbiAgICAgKi9cbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShuYW1lKSB7XG4gICAgICBkZWxldGUgYnlOYW1lW25hbWVdO1xuICAgICAgbmVlZHNJbmplY3QgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogVGhlIHJpb3QgdGVtcGxhdGUgZW5naW5lXG4gICAqIEB2ZXJzaW9uIHYzLjAuOFxuICAgKi9cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICB2YXIgc2tpcFJlZ2V4ID0gKGZ1bmN0aW9uICgpIHsgLy9lc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbiAgICB2YXIgYmVmb3JlUmVDaGFycyA9ICdbeygsOzo/PXwmIV5+PiUqLyc7XG5cbiAgICB2YXIgYmVmb3JlUmVXb3JkcyA9IFtcbiAgICAgICdjYXNlJyxcbiAgICAgICdkZWZhdWx0JyxcbiAgICAgICdkbycsXG4gICAgICAnZWxzZScsXG4gICAgICAnaW4nLFxuICAgICAgJ2luc3RhbmNlb2YnLFxuICAgICAgJ3ByZWZpeCcsXG4gICAgICAncmV0dXJuJyxcbiAgICAgICd0eXBlb2YnLFxuICAgICAgJ3ZvaWQnLFxuICAgICAgJ3lpZWxkJ1xuICAgIF07XG5cbiAgICB2YXIgd29yZHNMYXN0Q2hhciA9IGJlZm9yZVJlV29yZHMucmVkdWNlKGZ1bmN0aW9uIChzLCB3KSB7XG4gICAgICByZXR1cm4gcyArIHcuc2xpY2UoLTEpXG4gICAgfSwgJycpO1xuXG4gICAgdmFyIFJFX1JFR0VYID0gL15cXC8oPz1bXio+L10pW15bL1xcXFxdKig/Oig/OlxcXFwufFxcWyg/OlxcXFwufFteXFxdXFxcXF0qKSpcXF0pW15bXFxcXC9dKikqP1xcL1tnaW11eV0qLztcbiAgICB2YXIgUkVfVk5fQ0hBUiA9IC9bJFxcd10vO1xuXG4gICAgZnVuY3Rpb24gcHJldiAoY29kZSwgcG9zKSB7XG4gICAgICB3aGlsZSAoLS1wb3MgPj0gMCAmJiAvXFxzLy50ZXN0KGNvZGVbcG9zXSkpeyB9XG4gICAgICByZXR1cm4gcG9zXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX3NraXBSZWdleCAoY29kZSwgc3RhcnQpIHtcblxuICAgICAgdmFyIHJlID0gLy4qL2c7XG4gICAgICB2YXIgcG9zID0gcmUubGFzdEluZGV4ID0gc3RhcnQrKztcbiAgICAgIHZhciBtYXRjaCA9IHJlLmV4ZWMoY29kZSlbMF0ubWF0Y2goUkVfUkVHRVgpO1xuXG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgdmFyIG5leHQgPSBwb3MgKyBtYXRjaFswXS5sZW5ndGg7XG5cbiAgICAgICAgcG9zID0gcHJldihjb2RlLCBwb3MpO1xuICAgICAgICB2YXIgYyA9IGNvZGVbcG9zXTtcblxuICAgICAgICBpZiAocG9zIDwgMCB8fCB+YmVmb3JlUmVDaGFycy5pbmRleE9mKGMpKSB7XG4gICAgICAgICAgcmV0dXJuIG5leHRcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjID09PSAnLicpIHtcblxuICAgICAgICAgIGlmIChjb2RlW3BvcyAtIDFdID09PSAnLicpIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gbmV4dDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIGlmIChjID09PSAnKycgfHwgYyA9PT0gJy0nKSB7XG5cbiAgICAgICAgICBpZiAoY29kZVstLXBvc10gIT09IGMgfHxcbiAgICAgICAgICAgICAgKHBvcyA9IHByZXYoY29kZSwgcG9zKSkgPCAwIHx8XG4gICAgICAgICAgICAgICFSRV9WTl9DSEFSLnRlc3QoY29kZVtwb3NdKSkge1xuICAgICAgICAgICAgc3RhcnQgPSBuZXh0O1xuICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2UgaWYgKH53b3Jkc0xhc3RDaGFyLmluZGV4T2YoYykpIHtcblxuICAgICAgICAgIHZhciBlbmQgPSBwb3MgKyAxO1xuXG4gICAgICAgICAgd2hpbGUgKC0tcG9zID49IDAgJiYgUkVfVk5fQ0hBUi50ZXN0KGNvZGVbcG9zXSkpeyB9XG4gICAgICAgICAgaWYgKH5iZWZvcmVSZVdvcmRzLmluZGV4T2YoY29kZS5zbGljZShwb3MgKyAxLCBlbmQpKSkge1xuICAgICAgICAgICAgc3RhcnQgPSBuZXh0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RhcnRcbiAgICB9XG5cbiAgICByZXR1cm4gX3NraXBSZWdleFxuXG4gIH0pKCk7XG5cbiAgLyoqXG4gICAqIHJpb3QudXRpbC5icmFja2V0c1xuICAgKlxuICAgKiAtIGBicmFja2V0cyAgICBgIC0gUmV0dXJucyBhIHN0cmluZyBvciByZWdleCBiYXNlZCBvbiBpdHMgcGFyYW1ldGVyXG4gICAqIC0gYGJyYWNrZXRzLnNldGAgLSBDaGFuZ2UgdGhlIGN1cnJlbnQgcmlvdCBicmFja2V0c1xuICAgKlxuICAgKiBAbW9kdWxlXG4gICAqL1xuXG4gIC8qIGdsb2JhbCByaW90ICovXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgdmFyIGJyYWNrZXRzID0gKGZ1bmN0aW9uIChVTkRFRikge1xuXG4gICAgdmFyXG4gICAgICBSRUdMT0IgPSAnZycsXG5cbiAgICAgIFJfTUxDT01NUyA9IC9cXC9cXCpbXipdKlxcKisoPzpbXipcXC9dW14qXSpcXCorKSpcXC8vZyxcblxuICAgICAgUl9TVFJJTkdTID0gL1wiW15cIlxcXFxdKig/OlxcXFxbXFxTXFxzXVteXCJcXFxcXSopKlwifCdbXidcXFxcXSooPzpcXFxcW1xcU1xcc11bXidcXFxcXSopKid8YFteYFxcXFxdKig/OlxcXFxbXFxTXFxzXVteYFxcXFxdKikqYC9nLFxuXG4gICAgICBTX1FCTE9DS1MgPSBSX1NUUklOR1Muc291cmNlICsgJ3wnICtcbiAgICAgICAgLyg/OlxcYnJldHVyblxccyt8KD86WyRcXHdcXClcXF1dfFxcK1xcK3wtLSlcXHMqKFxcLykoPyFbKlxcL10pKS8uc291cmNlICsgJ3wnICtcbiAgICAgICAgL1xcLyg/PVteKlxcL10pW15bXFwvXFxcXF0qKD86KD86XFxbKD86XFxcXC58W15cXF1cXFxcXSopKlxcXXxcXFxcLilbXltcXC9cXFxcXSopKj8oW148XVxcLylbZ2ltXSovLnNvdXJjZSxcblxuICAgICAgVU5TVVBQT1JURUQgPSBSZWdFeHAoJ1tcXFxcJyArICd4MDAtXFxcXHgxRjw+YS16QS1aMC05XFwnXCIsO1xcXFxcXFxcXScpLFxuXG4gICAgICBORUVEX0VTQ0FQRSA9IC8oPz1bW1xcXSgpKis/Ll4kfF0pL2csXG5cbiAgICAgIFNfUUJMT0NLMiA9IFJfU1RSSU5HUy5zb3VyY2UgKyAnfCcgKyAvKFxcLykoPyFbKlxcL10pLy5zb3VyY2UsXG5cbiAgICAgIEZJTkRCUkFDRVMgPSB7XG4gICAgICAgICcoJzogUmVnRXhwKCcoWygpXSl8JyAgICsgU19RQkxPQ0syLCBSRUdMT0IpLFxuICAgICAgICAnWyc6IFJlZ0V4cCgnKFtbXFxcXF1dKXwnICsgU19RQkxPQ0syLCBSRUdMT0IpLFxuICAgICAgICAneyc6IFJlZ0V4cCgnKFt7fV0pfCcgICArIFNfUUJMT0NLMiwgUkVHTE9CKVxuICAgICAgfSxcblxuICAgICAgREVGQVVMVCA9ICd7IH0nO1xuXG4gICAgdmFyIF9wYWlycyA9IFtcbiAgICAgICd7JywgJ30nLFxuICAgICAgJ3snLCAnfScsXG4gICAgICAve1tefV0qfS8sXG4gICAgICAvXFxcXChbe31dKS9nLFxuICAgICAgL1xcXFwoeyl8ey9nLFxuICAgICAgUmVnRXhwKCdcXFxcXFxcXCh9KXwoW1soe10pfCh9KXwnICsgU19RQkxPQ0syLCBSRUdMT0IpLFxuICAgICAgREVGQVVMVCxcbiAgICAgIC9eXFxzKntcXF4/XFxzKihbJFxcd10rKSg/OlxccyosXFxzKihcXFMrKSk/XFxzK2luXFxzKyhcXFMuKilcXHMqfS8sXG4gICAgICAvKF58W15cXFxcXSl7PVtcXFNcXHNdKj99L1xuICAgIF07XG5cbiAgICB2YXJcbiAgICAgIGNhY2hlZEJyYWNrZXRzID0gVU5ERUYsXG4gICAgICBfcmVnZXgsXG4gICAgICBfY2FjaGUgPSBbXSxcbiAgICAgIF9zZXR0aW5ncztcblxuICAgIGZ1bmN0aW9uIF9sb29wYmFjayAocmUpIHsgcmV0dXJuIHJlIH1cblxuICAgIGZ1bmN0aW9uIF9yZXdyaXRlIChyZSwgYnApIHtcbiAgICAgIGlmICghYnApIHsgYnAgPSBfY2FjaGU7IH1cbiAgICAgIHJldHVybiBuZXcgUmVnRXhwKFxuICAgICAgICByZS5zb3VyY2UucmVwbGFjZSgvey9nLCBicFsyXSkucmVwbGFjZSgvfS9nLCBicFszXSksIHJlLmdsb2JhbCA/IFJFR0xPQiA6ICcnXG4gICAgICApXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2NyZWF0ZSAocGFpcikge1xuICAgICAgaWYgKHBhaXIgPT09IERFRkFVTFQpIHsgcmV0dXJuIF9wYWlycyB9XG5cbiAgICAgIHZhciBhcnIgPSBwYWlyLnNwbGl0KCcgJyk7XG5cbiAgICAgIGlmIChhcnIubGVuZ3RoICE9PSAyIHx8IFVOU1VQUE9SVEVELnRlc3QocGFpcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBicmFja2V0cyBcIicgKyBwYWlyICsgJ1wiJylcbiAgICAgIH1cbiAgICAgIGFyciA9IGFyci5jb25jYXQocGFpci5yZXBsYWNlKE5FRURfRVNDQVBFLCAnXFxcXCcpLnNwbGl0KCcgJykpO1xuXG4gICAgICBhcnJbNF0gPSBfcmV3cml0ZShhcnJbMV0ubGVuZ3RoID4gMSA/IC97W1xcU1xcc10qP30vIDogX3BhaXJzWzRdLCBhcnIpO1xuICAgICAgYXJyWzVdID0gX3Jld3JpdGUocGFpci5sZW5ndGggPiAzID8gL1xcXFwoe3x9KS9nIDogX3BhaXJzWzVdLCBhcnIpO1xuICAgICAgYXJyWzZdID0gX3Jld3JpdGUoX3BhaXJzWzZdLCBhcnIpO1xuICAgICAgYXJyWzddID0gUmVnRXhwKCdcXFxcXFxcXCgnICsgYXJyWzNdICsgJyl8KFtbKHtdKXwoJyArIGFyclszXSArICcpfCcgKyBTX1FCTE9DSzIsIFJFR0xPQik7XG4gICAgICBhcnJbOF0gPSBwYWlyO1xuICAgICAgcmV0dXJuIGFyclxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9icmFja2V0cyAocmVPcklkeCkge1xuICAgICAgcmV0dXJuIHJlT3JJZHggaW5zdGFuY2VvZiBSZWdFeHAgPyBfcmVnZXgocmVPcklkeCkgOiBfY2FjaGVbcmVPcklkeF1cbiAgICB9XG5cbiAgICBfYnJhY2tldHMuc3BsaXQgPSBmdW5jdGlvbiBzcGxpdCAoc3RyLCB0bXBsLCBfYnApIHtcbiAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBfYnAgaXMgZm9yIHRoZSBjb21waWxlclxuICAgICAgaWYgKCFfYnApIHsgX2JwID0gX2NhY2hlOyB9XG5cbiAgICAgIHZhclxuICAgICAgICBwYXJ0cyA9IFtdLFxuICAgICAgICBtYXRjaCxcbiAgICAgICAgaXNleHByLFxuICAgICAgICBzdGFydCxcbiAgICAgICAgcG9zLFxuICAgICAgICByZSA9IF9icFs2XTtcblxuICAgICAgdmFyIHFibG9ja3MgPSBbXTtcbiAgICAgIHZhciBwcmV2U3RyID0gJyc7XG4gICAgICB2YXIgbWFyaywgbGFzdEluZGV4O1xuXG4gICAgICBpc2V4cHIgPSBzdGFydCA9IHJlLmxhc3RJbmRleCA9IDA7XG5cbiAgICAgIHdoaWxlICgobWF0Y2ggPSByZS5leGVjKHN0cikpKSB7XG5cbiAgICAgICAgbGFzdEluZGV4ID0gcmUubGFzdEluZGV4O1xuICAgICAgICBwb3MgPSBtYXRjaC5pbmRleDtcblxuICAgICAgICBpZiAoaXNleHByKSB7XG5cbiAgICAgICAgICBpZiAobWF0Y2hbMl0pIHtcblxuICAgICAgICAgICAgdmFyIGNoID0gbWF0Y2hbMl07XG4gICAgICAgICAgICB2YXIgcmVjaCA9IEZJTkRCUkFDRVNbY2hdO1xuICAgICAgICAgICAgdmFyIGl4ID0gMTtcblxuICAgICAgICAgICAgcmVjaC5sYXN0SW5kZXggPSBsYXN0SW5kZXg7XG4gICAgICAgICAgICB3aGlsZSAoKG1hdGNoID0gcmVjaC5leGVjKHN0cikpKSB7XG4gICAgICAgICAgICAgIGlmIChtYXRjaFsxXSkge1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaFsxXSA9PT0gY2gpIHsgKytpeDsgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCEtLWl4KSB7IGJyZWFrIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWNoLmxhc3RJbmRleCA9IHB1c2hRQmxvY2sobWF0Y2guaW5kZXgsIHJlY2gubGFzdEluZGV4LCBtYXRjaFsyXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlLmxhc3RJbmRleCA9IGl4ID8gc3RyLmxlbmd0aCA6IHJlY2gubGFzdEluZGV4O1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIW1hdGNoWzNdKSB7XG4gICAgICAgICAgICByZS5sYXN0SW5kZXggPSBwdXNoUUJsb2NrKHBvcywgbGFzdEluZGV4LCBtYXRjaFs0XSk7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbWF0Y2hbMV0pIHtcbiAgICAgICAgICB1bmVzY2FwZVN0cihzdHIuc2xpY2Uoc3RhcnQsIHBvcykpO1xuICAgICAgICAgIHN0YXJ0ID0gcmUubGFzdEluZGV4O1xuICAgICAgICAgIHJlID0gX2JwWzYgKyAoaXNleHByIF49IDEpXTtcbiAgICAgICAgICByZS5sYXN0SW5kZXggPSBzdGFydDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc3RyICYmIHN0YXJ0IDwgc3RyLmxlbmd0aCkge1xuICAgICAgICB1bmVzY2FwZVN0cihzdHIuc2xpY2Uoc3RhcnQpKTtcbiAgICAgIH1cblxuICAgICAgcGFydHMucWJsb2NrcyA9IHFibG9ja3M7XG5cbiAgICAgIHJldHVybiBwYXJ0c1xuXG4gICAgICBmdW5jdGlvbiB1bmVzY2FwZVN0ciAocykge1xuICAgICAgICBpZiAocHJldlN0cikge1xuICAgICAgICAgIHMgPSBwcmV2U3RyICsgcztcbiAgICAgICAgICBwcmV2U3RyID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRtcGwgfHwgaXNleHByKSB7XG4gICAgICAgICAgcGFydHMucHVzaChzICYmIHMucmVwbGFjZShfYnBbNV0sICckMScpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJ0cy5wdXNoKHMpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHB1c2hRQmxvY2soX3BvcywgX2xhc3RJbmRleCwgc2xhc2gpIHsgLy9lc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgIGlmIChzbGFzaCkge1xuICAgICAgICAgIF9sYXN0SW5kZXggPSBza2lwUmVnZXgoc3RyLCBfcG9zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0bXBsICYmIF9sYXN0SW5kZXggPiBfcG9zICsgMikge1xuICAgICAgICAgIG1hcmsgPSAnXFx1MjA1NycgKyBxYmxvY2tzLmxlbmd0aCArICd+JztcbiAgICAgICAgICBxYmxvY2tzLnB1c2goc3RyLnNsaWNlKF9wb3MsIF9sYXN0SW5kZXgpKTtcbiAgICAgICAgICBwcmV2U3RyICs9IHN0ci5zbGljZShzdGFydCwgX3BvcykgKyBtYXJrO1xuICAgICAgICAgIHN0YXJ0ID0gX2xhc3RJbmRleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2xhc3RJbmRleFxuICAgICAgfVxuICAgIH07XG5cbiAgICBfYnJhY2tldHMuaGFzRXhwciA9IGZ1bmN0aW9uIGhhc0V4cHIgKHN0cikge1xuICAgICAgcmV0dXJuIF9jYWNoZVs0XS50ZXN0KHN0cilcbiAgICB9O1xuXG4gICAgX2JyYWNrZXRzLmxvb3BLZXlzID0gZnVuY3Rpb24gbG9vcEtleXMgKGV4cHIpIHtcbiAgICAgIHZhciBtID0gZXhwci5tYXRjaChfY2FjaGVbOV0pO1xuXG4gICAgICByZXR1cm4gbVxuICAgICAgICA/IHsga2V5OiBtWzFdLCBwb3M6IG1bMl0sIHZhbDogX2NhY2hlWzBdICsgbVszXS50cmltKCkgKyBfY2FjaGVbMV0gfVxuICAgICAgICA6IHsgdmFsOiBleHByLnRyaW0oKSB9XG4gICAgfTtcblxuICAgIF9icmFja2V0cy5hcnJheSA9IGZ1bmN0aW9uIGFycmF5IChwYWlyKSB7XG4gICAgICByZXR1cm4gcGFpciA/IF9jcmVhdGUocGFpcikgOiBfY2FjaGVcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gX3Jlc2V0IChwYWlyKSB7XG4gICAgICBpZiAoKHBhaXIgfHwgKHBhaXIgPSBERUZBVUxUKSkgIT09IF9jYWNoZVs4XSkge1xuICAgICAgICBfY2FjaGUgPSBfY3JlYXRlKHBhaXIpO1xuICAgICAgICBfcmVnZXggPSBwYWlyID09PSBERUZBVUxUID8gX2xvb3BiYWNrIDogX3Jld3JpdGU7XG4gICAgICAgIF9jYWNoZVs5XSA9IF9yZWdleChfcGFpcnNbOV0pO1xuICAgICAgfVxuICAgICAgY2FjaGVkQnJhY2tldHMgPSBwYWlyO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9zZXRTZXR0aW5ncyAobykge1xuICAgICAgdmFyIGI7XG5cbiAgICAgIG8gPSBvIHx8IHt9O1xuICAgICAgYiA9IG8uYnJhY2tldHM7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgJ2JyYWNrZXRzJywge1xuICAgICAgICBzZXQ6IF9yZXNldCxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjYWNoZWRCcmFja2V0cyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIF9zZXR0aW5ncyA9IG87XG4gICAgICBfcmVzZXQoYik7XG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9icmFja2V0cywgJ3NldHRpbmdzJywge1xuICAgICAgc2V0OiBfc2V0U2V0dGluZ3MsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9zZXR0aW5ncyB9XG4gICAgfSk7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogaW4gdGhlIGJyb3dzZXIgcmlvdCBpcyBhbHdheXMgaW4gdGhlIHNjb3BlICovXG4gICAgX2JyYWNrZXRzLnNldHRpbmdzID0gdHlwZW9mIHJpb3QgIT09ICd1bmRlZmluZWQnICYmIHJpb3Quc2V0dGluZ3MgfHwge307XG4gICAgX2JyYWNrZXRzLnNldCA9IF9yZXNldDtcbiAgICBfYnJhY2tldHMuc2tpcFJlZ2V4ID0gc2tpcFJlZ2V4O1xuXG4gICAgX2JyYWNrZXRzLlJfU1RSSU5HUyA9IFJfU1RSSU5HUztcbiAgICBfYnJhY2tldHMuUl9NTENPTU1TID0gUl9NTENPTU1TO1xuICAgIF9icmFja2V0cy5TX1FCTE9DS1MgPSBTX1FCTE9DS1M7XG4gICAgX2JyYWNrZXRzLlNfUUJMT0NLMiA9IFNfUUJMT0NLMjtcblxuICAgIHJldHVybiBfYnJhY2tldHNcblxuICB9KSgpO1xuXG4gIC8qKlxuICAgKiBAbW9kdWxlIHRtcGxcbiAgICpcbiAgICogdG1wbCAgICAgICAgICAtIFJvb3QgZnVuY3Rpb24sIHJldHVybnMgdGhlIHRlbXBsYXRlIHZhbHVlLCByZW5kZXIgd2l0aCBkYXRhXG4gICAqIHRtcGwuaGFzRXhwciAgLSBUZXN0IHRoZSBleGlzdGVuY2Ugb2YgYSBleHByZXNzaW9uIGluc2lkZSBhIHN0cmluZ1xuICAgKiB0bXBsLmxvb3BLZXlzIC0gR2V0IHRoZSBrZXlzIGZvciBhbiAnZWFjaCcgbG9vcCAodXNlZCBieSBgX2VhY2hgKVxuICAgKi9cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICB2YXIgdG1wbCA9IChmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgX2NhY2hlID0ge307XG5cbiAgICBmdW5jdGlvbiBfdG1wbCAoc3RyLCBkYXRhKSB7XG4gICAgICBpZiAoIXN0cikgeyByZXR1cm4gc3RyIH1cblxuICAgICAgcmV0dXJuIChfY2FjaGVbc3RyXSB8fCAoX2NhY2hlW3N0cl0gPSBfY3JlYXRlKHN0cikpKS5jYWxsKFxuICAgICAgICBkYXRhLCBfbG9nRXJyLmJpbmQoe1xuICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgdG1wbDogc3RyXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgfVxuXG4gICAgX3RtcGwuaGFzRXhwciA9IGJyYWNrZXRzLmhhc0V4cHI7XG5cbiAgICBfdG1wbC5sb29wS2V5cyA9IGJyYWNrZXRzLmxvb3BLZXlzO1xuXG4gICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICBfdG1wbC5jbGVhckNhY2hlID0gZnVuY3Rpb24gKCkgeyBfY2FjaGUgPSB7fTsgfTtcblxuICAgIF90bXBsLmVycm9ySGFuZGxlciA9IG51bGw7XG5cbiAgICBmdW5jdGlvbiBfbG9nRXJyIChlcnIsIGN0eCkge1xuXG4gICAgICBlcnIucmlvdERhdGEgPSB7XG4gICAgICAgIHRhZ05hbWU6IGN0eCAmJiBjdHguX18gJiYgY3R4Ll9fLnRhZ05hbWUsXG4gICAgICAgIF9yaW90X2lkOiBjdHggJiYgY3R4Ll9yaW90X2lkICAvL2VzbGludC1kaXNhYmxlLWxpbmUgY2FtZWxjYXNlXG4gICAgICB9O1xuXG4gICAgICBpZiAoX3RtcGwuZXJyb3JIYW5kbGVyKSB7IF90bXBsLmVycm9ySGFuZGxlcihlcnIpOyB9XG4gICAgICBlbHNlIGlmIChcbiAgICAgICAgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nXG4gICAgICApIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCc8JXM+ICVzJywgZXJyLnJpb3REYXRhLnRhZ05hbWUgfHwgJ1Vua25vd24gdGFnJywgdGhpcy50bXBsKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmRhdGEpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2NyZWF0ZSAoc3RyKSB7XG4gICAgICB2YXIgZXhwciA9IF9nZXRUbXBsKHN0cik7XG5cbiAgICAgIGlmIChleHByLnNsaWNlKDAsIDExKSAhPT0gJ3RyeXtyZXR1cm4gJykgeyBleHByID0gJ3JldHVybiAnICsgZXhwcjsgfVxuXG4gICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKCdFJywgZXhwciArICc7JykgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXctZnVuY1xuICAgIH1cblxuICAgIHZhciBSRV9EUVVPVEUgPSAvXFx1MjA1Ny9nO1xuICAgIHZhciBSRV9RQk1BUksgPSAvXFx1MjA1NyhcXGQrKX4vZztcblxuICAgIGZ1bmN0aW9uIF9nZXRUbXBsIChzdHIpIHtcbiAgICAgIHZhciBwYXJ0cyA9IGJyYWNrZXRzLnNwbGl0KHN0ci5yZXBsYWNlKFJFX0RRVU9URSwgJ1wiJyksIDEpO1xuICAgICAgdmFyIHFzdHIgPSBwYXJ0cy5xYmxvY2tzO1xuICAgICAgdmFyIGV4cHI7XG5cbiAgICAgIGlmIChwYXJ0cy5sZW5ndGggPiAyIHx8IHBhcnRzWzBdKSB7XG4gICAgICAgIHZhciBpLCBqLCBsaXN0ID0gW107XG5cbiAgICAgICAgZm9yIChpID0gaiA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7ICsraSkge1xuXG4gICAgICAgICAgZXhwciA9IHBhcnRzW2ldO1xuXG4gICAgICAgICAgaWYgKGV4cHIgJiYgKGV4cHIgPSBpICYgMVxuXG4gICAgICAgICAgICAgID8gX3BhcnNlRXhwcihleHByLCAxLCBxc3RyKVxuXG4gICAgICAgICAgICAgIDogJ1wiJyArIGV4cHJcbiAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcL2csICdcXFxcXFxcXCcpXG4gICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxyXFxuP3xcXG4vZywgJ1xcXFxuJylcbiAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJykgK1xuICAgICAgICAgICAgICAgICdcIidcblxuICAgICAgICAgICAgKSkgeyBsaXN0W2orK10gPSBleHByOyB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGV4cHIgPSBqIDwgMiA/IGxpc3RbMF1cbiAgICAgICAgICAgICA6ICdbJyArIGxpc3Quam9pbignLCcpICsgJ10uam9pbihcIlwiKSc7XG5cbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgZXhwciA9IF9wYXJzZUV4cHIocGFydHNbMV0sIDAsIHFzdHIpO1xuICAgICAgfVxuXG4gICAgICBpZiAocXN0ci5sZW5ndGgpIHtcbiAgICAgICAgZXhwciA9IGV4cHIucmVwbGFjZShSRV9RQk1BUkssIGZ1bmN0aW9uIChfLCBwb3MpIHtcbiAgICAgICAgICByZXR1cm4gcXN0cltwb3NdXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxyL2csICdcXFxccicpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxuL2csICdcXFxcbicpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGV4cHJcbiAgICB9XG5cbiAgICB2YXIgUkVfQ1NOQU1FID0gL14oPzooLT9bX0EtWmEtelxceEEwLVxceEZGXVstXFx3XFx4QTAtXFx4RkZdKil8XFx1MjA1NyhcXGQrKX4pOi87XG4gICAgdmFyXG4gICAgICBSRV9CUkVORCA9IHtcbiAgICAgICAgJygnOiAvWygpXS9nLFxuICAgICAgICAnWyc6IC9bW1xcXV0vZyxcbiAgICAgICAgJ3snOiAvW3t9XS9nXG4gICAgICB9O1xuXG4gICAgZnVuY3Rpb24gX3BhcnNlRXhwciAoZXhwciwgYXNUZXh0LCBxc3RyKSB7XG5cbiAgICAgIGV4cHIgPSBleHByXG4gICAgICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJykudHJpbSgpXG4gICAgICAgIC5yZXBsYWNlKC9cXCA/KFtbXFwoe30sP1xcLjpdKVxcID8vZywgJyQxJyk7XG5cbiAgICAgIGlmIChleHByKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgIGxpc3QgPSBbXSxcbiAgICAgICAgICBjbnQgPSAwLFxuICAgICAgICAgIG1hdGNoO1xuXG4gICAgICAgIHdoaWxlIChleHByICYmXG4gICAgICAgICAgICAgIChtYXRjaCA9IGV4cHIubWF0Y2goUkVfQ1NOQU1FKSkgJiZcbiAgICAgICAgICAgICAgIW1hdGNoLmluZGV4XG4gICAgICAgICAgKSB7XG4gICAgICAgICAgdmFyXG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICBqc2IsXG4gICAgICAgICAgICByZSA9IC8sfChbW3soXSl8JC9nO1xuXG4gICAgICAgICAgZXhwciA9IFJlZ0V4cC5yaWdodENvbnRleHQ7XG4gICAgICAgICAga2V5ICA9IG1hdGNoWzJdID8gcXN0clttYXRjaFsyXV0uc2xpY2UoMSwgLTEpLnRyaW0oKS5yZXBsYWNlKC9cXHMrL2csICcgJykgOiBtYXRjaFsxXTtcblxuICAgICAgICAgIHdoaWxlIChqc2IgPSAobWF0Y2ggPSByZS5leGVjKGV4cHIpKVsxXSkgeyBza2lwQnJhY2VzKGpzYiwgcmUpOyB9XG5cbiAgICAgICAgICBqc2IgID0gZXhwci5zbGljZSgwLCBtYXRjaC5pbmRleCk7XG4gICAgICAgICAgZXhwciA9IFJlZ0V4cC5yaWdodENvbnRleHQ7XG5cbiAgICAgICAgICBsaXN0W2NudCsrXSA9IF93cmFwRXhwcihqc2IsIDEsIGtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBleHByID0gIWNudCA/IF93cmFwRXhwcihleHByLCBhc1RleHQpXG4gICAgICAgICAgICAgOiBjbnQgPiAxID8gJ1snICsgbGlzdC5qb2luKCcsJykgKyAnXS5qb2luKFwiIFwiKS50cmltKCknIDogbGlzdFswXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBleHByXG5cbiAgICAgIGZ1bmN0aW9uIHNraXBCcmFjZXMgKGNoLCByZSkge1xuICAgICAgICB2YXJcbiAgICAgICAgICBtbSxcbiAgICAgICAgICBsdiA9IDEsXG4gICAgICAgICAgaXIgPSBSRV9CUkVORFtjaF07XG5cbiAgICAgICAgaXIubGFzdEluZGV4ID0gcmUubGFzdEluZGV4O1xuICAgICAgICB3aGlsZSAobW0gPSBpci5leGVjKGV4cHIpKSB7XG4gICAgICAgICAgaWYgKG1tWzBdID09PSBjaCkgeyArK2x2OyB9XG4gICAgICAgICAgZWxzZSBpZiAoIS0tbHYpIHsgYnJlYWsgfVxuICAgICAgICB9XG4gICAgICAgIHJlLmxhc3RJbmRleCA9IGx2ID8gZXhwci5sZW5ndGggOiBpci5sYXN0SW5kZXg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHQ6IG5vdCBib3RoXG4gICAgdmFyIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICBKU19DT05URVhUID0gJ1wiaW4gdGhpcz90aGlzOicgKyAodHlwZW9mIHdpbmRvdyAhPT0gJ29iamVjdCcgPyAnZ2xvYmFsJyA6ICd3aW5kb3cnKSArICcpLicsXG4gICAgICBKU19WQVJOQU1FID0gL1sse11bXFwkXFx3XSsoPz06KXwoXiAqfFteJFxcd1xcLntdKSg/ISg/OnR5cGVvZnx0cnVlfGZhbHNlfG51bGx8dW5kZWZpbmVkfGlufGluc3RhbmNlb2Z8aXMoPzpGaW5pdGV8TmFOKXx2b2lkfE5hTnxuZXd8RGF0ZXxSZWdFeHB8TWF0aCkoPyFbJFxcd10pKShbJF9BLVphLXpdWyRcXHddKikvZyxcbiAgICAgIEpTX05PUFJPUFMgPSAvXig/PShcXC5bJFxcd10rKSlcXDEoPzpbXi5bKF18JCkvO1xuXG4gICAgZnVuY3Rpb24gX3dyYXBFeHByIChleHByLCBhc1RleHQsIGtleSkge1xuICAgICAgdmFyIHRiO1xuXG4gICAgICBleHByID0gZXhwci5yZXBsYWNlKEpTX1ZBUk5BTUUsIGZ1bmN0aW9uIChtYXRjaCwgcCwgbXZhciwgcG9zLCBzKSB7XG4gICAgICAgIGlmIChtdmFyKSB7XG4gICAgICAgICAgcG9zID0gdGIgPyAwIDogcG9zICsgbWF0Y2gubGVuZ3RoO1xuXG4gICAgICAgICAgaWYgKG12YXIgIT09ICd0aGlzJyAmJiBtdmFyICE9PSAnZ2xvYmFsJyAmJiBtdmFyICE9PSAnd2luZG93Jykge1xuICAgICAgICAgICAgbWF0Y2ggPSBwICsgJyhcIicgKyBtdmFyICsgSlNfQ09OVEVYVCArIG12YXI7XG4gICAgICAgICAgICBpZiAocG9zKSB7IHRiID0gKHMgPSBzW3Bvc10pID09PSAnLicgfHwgcyA9PT0gJygnIHx8IHMgPT09ICdbJzsgfVxuICAgICAgICAgIH0gZWxzZSBpZiAocG9zKSB7XG4gICAgICAgICAgICB0YiA9ICFKU19OT1BST1BTLnRlc3Qocy5zbGljZShwb3MpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hdGNoXG4gICAgICB9KTtcblxuICAgICAgaWYgKHRiKSB7XG4gICAgICAgIGV4cHIgPSAndHJ5e3JldHVybiAnICsgZXhwciArICd9Y2F0Y2goZSl7RShlLHRoaXMpfSc7XG4gICAgICB9XG5cbiAgICAgIGlmIChrZXkpIHtcblxuICAgICAgICBleHByID0gKHRiXG4gICAgICAgICAgICA/ICdmdW5jdGlvbigpeycgKyBleHByICsgJ30uY2FsbCh0aGlzKScgOiAnKCcgKyBleHByICsgJyknXG4gICAgICAgICAgKSArICc/XCInICsga2V5ICsgJ1wiOlwiXCInO1xuXG4gICAgICB9IGVsc2UgaWYgKGFzVGV4dCkge1xuXG4gICAgICAgIGV4cHIgPSAnZnVuY3Rpb24odil7JyArICh0YlxuICAgICAgICAgICAgPyBleHByLnJlcGxhY2UoJ3JldHVybiAnLCAndj0nKSA6ICd2PSgnICsgZXhwciArICcpJ1xuICAgICAgICAgICkgKyAnO3JldHVybiB2fHx2PT09MD92OlwiXCJ9LmNhbGwodGhpcyknO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZXhwclxuICAgIH1cblxuICAgIF90bXBsLnZlcnNpb24gPSBicmFja2V0cy52ZXJzaW9uID0gJ3YzLjAuOCc7XG5cbiAgICByZXR1cm4gX3RtcGxcblxuICB9KSgpO1xuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHZhciBvYnNlcnZhYmxlID0gZnVuY3Rpb24oZWwpIHtcblxuICAgIC8qKlxuICAgICAqIEV4dGVuZCB0aGUgb3JpZ2luYWwgb2JqZWN0IG9yIGNyZWF0ZSBhIG5ldyBlbXB0eSBvbmVcbiAgICAgKiBAdHlwZSB7IE9iamVjdCB9XG4gICAgICovXG5cbiAgICBlbCA9IGVsIHx8IHt9O1xuXG4gICAgLyoqXG4gICAgICogUHJpdmF0ZSB2YXJpYWJsZXNcbiAgICAgKi9cbiAgICB2YXIgY2FsbGJhY2tzID0ge30sXG4gICAgICBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblxuICAgIC8qKlxuICAgICAqIFB1YmxpYyBBcGlcbiAgICAgKi9cblxuICAgIC8vIGV4dGVuZCB0aGUgZWwgb2JqZWN0IGFkZGluZyB0aGUgb2JzZXJ2YWJsZSBtZXRob2RzXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZWwsIHtcbiAgICAgIC8qKlxuICAgICAgICogTGlzdGVuIHRvIHRoZSBnaXZlbiBgZXZlbnRgIGFuZHNcbiAgICAgICAqIGV4ZWN1dGUgdGhlIGBjYWxsYmFja2AgZWFjaCB0aW1lIGFuIGV2ZW50IGlzIHRyaWdnZXJlZC5cbiAgICAgICAqIEBwYXJhbSAgeyBTdHJpbmcgfSBldmVudCAtIGV2ZW50IGlkXG4gICAgICAgKiBAcGFyYW0gIHsgRnVuY3Rpb24gfSBmbiAtIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICAgICAgKiBAcmV0dXJucyB7IE9iamVjdCB9IGVsXG4gICAgICAgKi9cbiAgICAgIG9uOiB7XG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbihldmVudCwgZm4pIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGZuID09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICB7IChjYWxsYmFja3NbZXZlbnRdID0gY2FsbGJhY2tzW2V2ZW50XSB8fCBbXSkucHVzaChmbik7IH1cbiAgICAgICAgICByZXR1cm4gZWxcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBSZW1vdmVzIHRoZSBnaXZlbiBgZXZlbnRgIGxpc3RlbmVyc1xuICAgICAgICogQHBhcmFtICAgeyBTdHJpbmcgfSBldmVudCAtIGV2ZW50IGlkXG4gICAgICAgKiBAcGFyYW0gICB7IEZ1bmN0aW9uIH0gZm4gLSBjYWxsYmFjayBmdW5jdGlvblxuICAgICAgICogQHJldHVybnMgeyBPYmplY3QgfSBlbFxuICAgICAgICovXG4gICAgICBvZmY6IHtcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKGV2ZW50LCBmbikge1xuICAgICAgICAgIGlmIChldmVudCA9PSAnKicgJiYgIWZuKSB7IGNhbGxiYWNrcyA9IHt9OyB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoZm4pIHtcbiAgICAgICAgICAgICAgdmFyIGFyciA9IGNhbGxiYWNrc1tldmVudF07XG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBjYjsgY2IgPSBhcnIgJiYgYXJyW2ldOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2IgPT0gZm4pIHsgYXJyLnNwbGljZShpLS0sIDEpOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7IGRlbGV0ZSBjYWxsYmFja3NbZXZlbnRdOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBlbFxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIExpc3RlbiB0byB0aGUgZ2l2ZW4gYGV2ZW50YCBhbmRcbiAgICAgICAqIGV4ZWN1dGUgdGhlIGBjYWxsYmFja2AgYXQgbW9zdCBvbmNlXG4gICAgICAgKiBAcGFyYW0gICB7IFN0cmluZyB9IGV2ZW50IC0gZXZlbnQgaWRcbiAgICAgICAqIEBwYXJhbSAgIHsgRnVuY3Rpb24gfSBmbiAtIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICAgICAgKiBAcmV0dXJucyB7IE9iamVjdCB9IGVsXG4gICAgICAgKi9cbiAgICAgIG9uZToge1xuICAgICAgICB2YWx1ZTogZnVuY3Rpb24oZXZlbnQsIGZuKSB7XG4gICAgICAgICAgZnVuY3Rpb24gb24oKSB7XG4gICAgICAgICAgICBlbC5vZmYoZXZlbnQsIG9uKTtcbiAgICAgICAgICAgIGZuLmFwcGx5KGVsLCBhcmd1bWVudHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZWwub24oZXZlbnQsIG9uKVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEV4ZWN1dGUgYWxsIGNhbGxiYWNrIGZ1bmN0aW9ucyB0aGF0IGxpc3RlbiB0b1xuICAgICAgICogdGhlIGdpdmVuIGBldmVudGBcbiAgICAgICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gZXZlbnQgLSBldmVudCBpZFxuICAgICAgICogQHJldHVybnMgeyBPYmplY3QgfSBlbFxuICAgICAgICovXG4gICAgICB0cmlnZ2VyOiB7XG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuXG4gICAgICAgICAgLy8gZ2V0dGluZyB0aGUgYXJndW1lbnRzXG4gICAgICAgICAgdmFyIGFyZ2xlbiA9IGFyZ3VtZW50cy5sZW5ndGggLSAxLFxuICAgICAgICAgICAgYXJncyA9IG5ldyBBcnJheShhcmdsZW4pLFxuICAgICAgICAgICAgZm5zLFxuICAgICAgICAgICAgZm4sXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGFyZ2xlbjsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzJDFbaSArIDFdOyAvLyBza2lwIGZpcnN0IGFyZ3VtZW50XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZm5zID0gc2xpY2UuY2FsbChjYWxsYmFja3NbZXZlbnRdIHx8IFtdLCAwKTtcblxuICAgICAgICAgIGZvciAoaSA9IDA7IGZuID0gZm5zW2ldOyArK2kpIHtcbiAgICAgICAgICAgIGZuLmFwcGx5KGVsLCBhcmdzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoY2FsbGJhY2tzWycqJ10gJiYgZXZlbnQgIT0gJyonKVxuICAgICAgICAgICAgeyBlbC50cmlnZ2VyLmFwcGx5KGVsLCBbJyonLCBldmVudF0uY29uY2F0KGFyZ3MpKTsgfVxuXG4gICAgICAgICAgcmV0dXJuIGVsXG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2VcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBlbFxuXG4gIH07XG5cbiAgLyoqXG4gICAqIFNob3J0IGFsaWFzIGZvciBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yXG4gICAqL1xuICBmdW5jdGlvbiBnZXRQcm9wRGVzY3JpcHRvciAobywgaykge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8sIGspXG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgcGFzc2VkIGFyZ3VtZW50IGlzIHVuZGVmaW5lZFxuICAgKiBAcGFyYW0gICB7ICogfSB2YWx1ZSAtXG4gICAqIEByZXR1cm5zIHsgQm9vbGVhbiB9IC1cbiAgICovXG4gIGZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gVF9VTkRFRlxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIHdoZXRoZXIgb2JqZWN0J3MgcHJvcGVydHkgY291bGQgYmUgb3ZlcnJpZGRlblxuICAgKiBAcGFyYW0gICB7IE9iamVjdCB9ICBvYmogLSBzb3VyY2Ugb2JqZWN0XG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gIGtleSAtIG9iamVjdCBwcm9wZXJ0eVxuICAgKiBAcmV0dXJucyB7IEJvb2xlYW4gfSB0cnVlIGlmIHdyaXRhYmxlXG4gICAqL1xuICBmdW5jdGlvbiBpc1dyaXRhYmxlKG9iaiwga2V5KSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBnZXRQcm9wRGVzY3JpcHRvcihvYmosIGtleSk7XG4gICAgcmV0dXJuIGlzVW5kZWZpbmVkKG9ialtrZXldKSB8fCBkZXNjcmlwdG9yICYmIGRlc2NyaXB0b3Iud3JpdGFibGVcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHRlbmQgYW55IG9iamVjdCB3aXRoIG90aGVyIHByb3BlcnRpZXNcbiAgICogQHBhcmFtICAgeyBPYmplY3QgfSBzcmMgLSBzb3VyY2Ugb2JqZWN0XG4gICAqIEByZXR1cm5zIHsgT2JqZWN0IH0gdGhlIHJlc3VsdGluZyBleHRlbmRlZCBvYmplY3RcbiAgICpcbiAgICogdmFyIG9iaiA9IHsgZm9vOiAnYmF6JyB9XG4gICAqIGV4dGVuZChvYmosIHtiYXI6ICdiYXInLCBmb286ICdiYXInfSlcbiAgICogY29uc29sZS5sb2cob2JqKSA9PiB7YmFyOiAnYmFyJywgZm9vOiAnYmFyJ31cbiAgICpcbiAgICovXG4gIGZ1bmN0aW9uIGV4dGVuZChzcmMpIHtcbiAgICB2YXIgb2JqO1xuICAgIHZhciBpID0gMTtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICB2YXIgbCA9IGFyZ3MubGVuZ3RoO1xuXG4gICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChvYmogPSBhcmdzW2ldKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgICAvLyBjaGVjayBpZiB0aGlzIHByb3BlcnR5IG9mIHRoZSBzb3VyY2Ugb2JqZWN0IGNvdWxkIGJlIG92ZXJyaWRkZW5cbiAgICAgICAgICBpZiAoaXNXcml0YWJsZShzcmMsIGtleSkpXG4gICAgICAgICAgICB7IHNyY1trZXldID0gb2JqW2tleV07IH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3JjXG4gIH1cblxuICAvKipcbiAgICogQWxpYXMgZm9yIE9iamVjdC5jcmVhdGVcbiAgICovXG4gIGZ1bmN0aW9uIGNyZWF0ZShzcmMpIHtcbiAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZShzcmMpXG4gIH1cblxuICB2YXIgc2V0dGluZ3MgPSBleHRlbmQoY3JlYXRlKGJyYWNrZXRzLnNldHRpbmdzKSwge1xuICAgIHNraXBBbm9ueW1vdXNUYWdzOiB0cnVlLFxuICAgIC8vIHRoZSBcInZhbHVlXCIgYXR0cmlidXRlcyB3aWxsIGJlIHByZXNlcnZlZFxuICAgIGtlZXBWYWx1ZUF0dHJpYnV0ZXM6IGZhbHNlLFxuICAgIC8vIGhhbmRsZSB0aGUgYXV0byB1cGRhdGVzIG9uIGFueSBET00gZXZlbnRcbiAgICBhdXRvVXBkYXRlOiB0cnVlXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBTaG9ydGVyIGFuZCBmYXN0IHdheSB0byBzZWxlY3QgbXVsdGlwbGUgbm9kZXMgaW4gdGhlIERPTVxuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9IHNlbGVjdG9yIC0gRE9NIHNlbGVjdG9yXG4gICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gY3R4IC0gRE9NIG5vZGUgd2hlcmUgdGhlIHRhcmdldHMgb2Ygb3VyIHNlYXJjaCB3aWxsIGlzIGxvY2F0ZWRcbiAgICogQHJldHVybnMgeyBPYmplY3QgfSBkb20gbm9kZXMgZm91bmRcbiAgICovXG4gIGZ1bmN0aW9uICQkKHNlbGVjdG9yLCBjdHgpIHtcbiAgICByZXR1cm4gW10uc2xpY2UuY2FsbCgoY3R4IHx8IGRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBkb2N1bWVudCB0ZXh0IG5vZGVcbiAgICogQHJldHVybnMgeyBPYmplY3QgfSBjcmVhdGUgYSB0ZXh0IG5vZGUgdG8gdXNlIGFzIHBsYWNlaG9sZGVyXG4gICAqL1xuICBmdW5jdGlvbiBjcmVhdGVET01QbGFjZWhvbGRlcigpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpXG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlIHRoZSB2aXNpYmlsaXR5IG9mIGFueSBET00gbm9kZVxuICAgKiBAcGFyYW0gICB7IE9iamVjdCB9ICBkb20gLSBET00gbm9kZSB3ZSB3YW50IHRvIGhpZGVcbiAgICogQHBhcmFtICAgeyBCb29sZWFuIH0gc2hvdyAtIGRvIHdlIHdhbnQgdG8gc2hvdyBpdD9cbiAgICovXG5cbiAgZnVuY3Rpb24gdG9nZ2xlVmlzaWJpbGl0eShkb20sIHNob3cpIHtcbiAgICBkb20uc3R5bGUuZGlzcGxheSA9IHNob3cgPyAnJyA6ICdub25lJztcbiAgICBkb20uaGlkZGVuID0gc2hvdyA/IGZhbHNlIDogdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIGFueSBET00gYXR0cmlidXRlIG9uIGEgbm9kZVxuICAgKiBAcGFyYW0gICB7IE9iamVjdCB9IGRvbSAtIERPTSBub2RlIHdlIHdhbnQgdG8gcGFyc2VcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSBuYW1lIC0gbmFtZSBvZiB0aGUgYXR0cmlidXRlIHdlIHdhbnQgdG8gZ2V0XG4gICAqIEByZXR1cm5zIHsgU3RyaW5nIHwgdW5kZWZpbmVkIH0gbmFtZSBvZiB0aGUgbm9kZSBhdHRyaWJ1dGUgd2hldGhlciBpdCBleGlzdHNcbiAgICovXG4gIGZ1bmN0aW9uIGdldEF0dHJpYnV0ZShkb20sIG5hbWUpIHtcbiAgICByZXR1cm4gZG9tLmdldEF0dHJpYnV0ZShuYW1lKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbnkgRE9NIGF0dHJpYnV0ZSBmcm9tIGEgbm9kZVxuICAgKiBAcGFyYW0gICB7IE9iamVjdCB9IGRvbSAtIERPTSBub2RlIHdlIHdhbnQgdG8gdXBkYXRlXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gbmFtZSAtIG5hbWUgb2YgdGhlIHByb3BlcnR5IHdlIHdhbnQgdG8gcmVtb3ZlXG4gICAqL1xuICBmdW5jdGlvbiByZW1vdmVBdHRyaWJ1dGUoZG9tLCBuYW1lKSB7XG4gICAgZG9tLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGlubmVyIGh0bWwgb2YgYW55IERPTSBub2RlIFNWR3MgaW5jbHVkZWRcbiAgICogQHBhcmFtIHsgT2JqZWN0IH0gY29udGFpbmVyIC0gRE9NIG5vZGUgd2hlcmUgd2UnbGwgaW5qZWN0IG5ldyBodG1sXG4gICAqIEBwYXJhbSB7IFN0cmluZyB9IGh0bWwgLSBodG1sIHRvIGluamVjdFxuICAgKiBAcGFyYW0geyBCb29sZWFuIH0gaXNTdmcgLSBzdmcgdGFncyBzaG91bGQgYmUgdHJlYXRlZCBhIGJpdCBkaWZmZXJlbnRseVxuICAgKi9cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgZnVuY3Rpb24gc2V0SW5uZXJIVE1MKGNvbnRhaW5lciwgaHRtbCwgaXNTdmcpIHtcbiAgICAvLyBpbm5lckhUTUwgaXMgbm90IHN1cHBvcnRlZCBvbiBzdmcgdGFncyBzbyB3ZSBuZWV0IHRvIHRyZWF0IHRoZW0gZGlmZmVyZW50bHlcbiAgICBpZiAoaXNTdmcpIHtcbiAgICAgIHZhciBub2RlID0gY29udGFpbmVyLm93bmVyRG9jdW1lbnQuaW1wb3J0Tm9kZShcbiAgICAgICAgbmV3IERPTVBhcnNlcigpXG4gICAgICAgICAgLnBhcnNlRnJvbVN0cmluZygoXCI8c3ZnIHhtbG5zPVxcXCJcIiArIFNWR19OUyArIFwiXFxcIj5cIiArIGh0bWwgKyBcIjwvc3ZnPlwiKSwgJ2FwcGxpY2F0aW9uL3htbCcpXG4gICAgICAgICAgLmRvY3VtZW50RWxlbWVudCxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcblxuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKG5vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gaHRtbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTWluaW1pemUgcmlzazogb25seSB6ZXJvIG9yIG9uZSBfc3BhY2VfIGJldHdlZW4gYXR0ciAmIHZhbHVlXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gICBodG1sIC0gaHRtbCBzdHJpbmcgd2Ugd2FudCB0byBwYXJzZVxuICAgKiBAcGFyYW0gICB7IEZ1bmN0aW9uIH0gZm4gLSBjYWxsYmFjayBmdW5jdGlvbiB0byBhcHBseSBvbiBhbnkgYXR0cmlidXRlIGZvdW5kXG4gICAqL1xuICBmdW5jdGlvbiB3YWxrQXR0cmlidXRlcyhodG1sLCBmbikge1xuICAgIGlmICghaHRtbCkgeyByZXR1cm4gfVxuICAgIHZhciBtO1xuICAgIHdoaWxlIChtID0gUkVfSFRNTF9BVFRSUy5leGVjKGh0bWwpKVxuICAgICAgeyBmbihtWzFdLnRvTG93ZXJDYXNlKCksIG1bMl0gfHwgbVszXSB8fCBtWzRdKTsgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIGRvY3VtZW50IGZyYWdtZW50XG4gICAqIEByZXR1cm5zIHsgT2JqZWN0IH0gZG9jdW1lbnQgZnJhZ21lbnRcbiAgICovXG4gIGZ1bmN0aW9uIGNyZWF0ZUZyYWdtZW50KCkge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KClcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnNlcnQgc2FmZWx5IGEgdGFnIHRvIGZpeCAjMTk2MiAjMTY0OVxuICAgKiBAcGFyYW0gICB7IEhUTUxFbGVtZW50IH0gcm9vdCAtIGNoaWxkcmVuIGNvbnRhaW5lclxuICAgKiBAcGFyYW0gICB7IEhUTUxFbGVtZW50IH0gY3VyciAtIG5vZGUgdG8gaW5zZXJ0XG4gICAqIEBwYXJhbSAgIHsgSFRNTEVsZW1lbnQgfSBuZXh0IC0gbm9kZSB0aGF0IHNob3VsZCBwcmVjZWVkIHRoZSBjdXJyZW50IG5vZGUgaW5zZXJ0ZWRcbiAgICovXG4gIGZ1bmN0aW9uIHNhZmVJbnNlcnQocm9vdCwgY3VyciwgbmV4dCkge1xuICAgIHJvb3QuaW5zZXJ0QmVmb3JlKGN1cnIsIG5leHQucGFyZW50Tm9kZSAmJiBuZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0IGEgc3R5bGUgb2JqZWN0IHRvIGEgc3RyaW5nXG4gICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gc3R5bGUgLSBzdHlsZSBvYmplY3Qgd2UgbmVlZCB0byBwYXJzZVxuICAgKiBAcmV0dXJucyB7IFN0cmluZyB9IHJlc3VsdGluZyBjc3Mgc3RyaW5nXG4gICAqIEBleGFtcGxlXG4gICAqIHN0eWxlT2JqZWN0VG9TdHJpbmcoeyBjb2xvcjogJ3JlZCcsIGhlaWdodDogJzEwcHgnfSkgLy8gPT4gJ2NvbG9yOiByZWQ7IGhlaWdodDogMTBweCdcbiAgICovXG4gIGZ1bmN0aW9uIHN0eWxlT2JqZWN0VG9TdHJpbmcoc3R5bGUpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoc3R5bGUpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwcm9wKSB7XG4gICAgICByZXR1cm4gKGFjYyArIFwiIFwiICsgcHJvcCArIFwiOiBcIiArIChzdHlsZVtwcm9wXSkgKyBcIjtcIilcbiAgICB9LCAnJylcbiAgfVxuXG4gIC8qKlxuICAgKiBXYWxrIGRvd24gcmVjdXJzaXZlbHkgYWxsIHRoZSBjaGlsZHJlbiB0YWdzIHN0YXJ0aW5nIGRvbSBub2RlXG4gICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gICBkb20gLSBzdGFydGluZyBub2RlIHdoZXJlIHdlIHdpbGwgc3RhcnQgdGhlIHJlY3Vyc2lvblxuICAgKiBAcGFyYW0gICB7IEZ1bmN0aW9uIH0gZm4gLSBjYWxsYmFjayB0byB0cmFuc2Zvcm0gdGhlIGNoaWxkIG5vZGUganVzdCBmb3VuZFxuICAgKiBAcGFyYW0gICB7IE9iamVjdCB9ICAgY29udGV4dCAtIGZuIGNhbiBvcHRpb25hbGx5IHJldHVybiBhbiBvYmplY3QsIHdoaWNoIGlzIHBhc3NlZCB0byBjaGlsZHJlblxuICAgKi9cbiAgZnVuY3Rpb24gd2Fsa05vZGVzKGRvbSwgZm4sIGNvbnRleHQpIHtcbiAgICBpZiAoZG9tKSB7XG4gICAgICB2YXIgcmVzID0gZm4oZG9tLCBjb250ZXh0KTtcbiAgICAgIHZhciBuZXh0O1xuICAgICAgLy8gc3RvcCB0aGUgcmVjdXJzaW9uXG4gICAgICBpZiAocmVzID09PSBmYWxzZSkgeyByZXR1cm4gfVxuXG4gICAgICBkb20gPSBkb20uZmlyc3RDaGlsZDtcblxuICAgICAgd2hpbGUgKGRvbSkge1xuICAgICAgICBuZXh0ID0gZG9tLm5leHRTaWJsaW5nO1xuICAgICAgICB3YWxrTm9kZXMoZG9tLCBmbiwgcmVzKTtcbiAgICAgICAgZG9tID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuXG5cbiAgdmFyIGRvbSA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgICAkJDogJCQsXG4gICAgJDogJCxcbiAgICBjcmVhdGVET01QbGFjZWhvbGRlcjogY3JlYXRlRE9NUGxhY2Vob2xkZXIsXG4gICAgbWtFbDogbWFrZUVsZW1lbnQsXG4gICAgc2V0QXR0cjogc2V0QXR0cmlidXRlLFxuICAgIHRvZ2dsZVZpc2liaWxpdHk6IHRvZ2dsZVZpc2liaWxpdHksXG4gICAgZ2V0QXR0cjogZ2V0QXR0cmlidXRlLFxuICAgIHJlbUF0dHI6IHJlbW92ZUF0dHJpYnV0ZSxcbiAgICBzZXRJbm5lckhUTUw6IHNldElubmVySFRNTCxcbiAgICB3YWxrQXR0cnM6IHdhbGtBdHRyaWJ1dGVzLFxuICAgIGNyZWF0ZUZyYWc6IGNyZWF0ZUZyYWdtZW50LFxuICAgIHNhZmVJbnNlcnQ6IHNhZmVJbnNlcnQsXG4gICAgc3R5bGVPYmplY3RUb1N0cmluZzogc3R5bGVPYmplY3RUb1N0cmluZyxcbiAgICB3YWxrTm9kZXM6IHdhbGtOb2Rlc1xuICB9KTtcblxuICAvKipcbiAgICogQ2hlY2sgYWdhaW5zdCB0aGUgbnVsbCBhbmQgdW5kZWZpbmVkIHZhbHVlc1xuICAgKiBAcGFyYW0gICB7ICogfSAgdmFsdWUgLVxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gLVxuICAgKi9cbiAgZnVuY3Rpb24gaXNOaWwodmFsdWUpIHtcbiAgICByZXR1cm4gaXNVbmRlZmluZWQodmFsdWUpIHx8IHZhbHVlID09PSBudWxsXG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgcGFzc2VkIGFyZ3VtZW50IGlzIGVtcHR5LiBEaWZmZXJlbnQgZnJvbSBmYWxzeSwgYmVjYXVzZSB3ZSBkb250IGNvbnNpZGVyIDAgb3IgZmFsc2UgdG8gYmUgYmxhbmtcbiAgICogQHBhcmFtIHsgKiB9IHZhbHVlIC1cbiAgICogQHJldHVybnMgeyBCb29sZWFuIH0gLVxuICAgKi9cbiAgZnVuY3Rpb24gaXNCbGFuayh2YWx1ZSkge1xuICAgIHJldHVybiBpc05pbCh2YWx1ZSkgfHwgdmFsdWUgPT09ICcnXG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgcGFzc2VkIGFyZ3VtZW50IGlzIGEgZnVuY3Rpb25cbiAgICogQHBhcmFtICAgeyAqIH0gdmFsdWUgLVxuICAgKiBAcmV0dXJucyB7IEJvb2xlYW4gfSAtXG4gICAqL1xuICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gVF9GVU5DVElPTlxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHBhc3NlZCBhcmd1bWVudCBpcyBhbiBvYmplY3QsIGV4Y2x1ZGUgbnVsbFxuICAgKiBOT1RFOiB1c2UgaXNPYmplY3QoeCkgJiYgIWlzQXJyYXkoeCkgdG8gZXhjbHVkZXMgYXJyYXlzLlxuICAgKiBAcGFyYW0gICB7ICogfSB2YWx1ZSAtXG4gICAqIEByZXR1cm5zIHsgQm9vbGVhbiB9IC1cbiAgICovXG4gIGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gVF9PQkpFQ1QgLy8gdHlwZW9mIG51bGwgaXMgJ29iamVjdCdcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIERPTSBub2RlIGlzIGFuIHN2ZyB0YWcgb3IgcGFydCBvZiBhbiBzdmdcbiAgICogQHBhcmFtICAgeyBIVE1MRWxlbWVudCB9ICBlbCAtIG5vZGUgd2Ugd2FudCB0byB0ZXN0XG4gICAqIEByZXR1cm5zIHtCb29sZWFufSB0cnVlIGlmIGl0J3MgYW4gc3ZnIG5vZGVcbiAgICovXG4gIGZ1bmN0aW9uIGlzU3ZnKGVsKSB7XG4gICAgdmFyIG93bmVyID0gZWwub3duZXJTVkdFbGVtZW50O1xuICAgIHJldHVybiAhIW93bmVyIHx8IG93bmVyID09PSBudWxsXG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgcGFzc2VkIGFyZ3VtZW50IGlzIGEga2luZCBvZiBhcnJheVxuICAgKiBAcGFyYW0gICB7ICogfSB2YWx1ZSAtXG4gICAqIEByZXR1cm5zIHsgQm9vbGVhbiB9IC1cbiAgICovXG4gIGZ1bmN0aW9uIGlzQXJyYXkodmFsdWUpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgfHwgdmFsdWUgaW5zdGFuY2VvZiBBcnJheVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBwYXNzZWQgYXJndW1lbnQgaXMgYSBib29sZWFuIGF0dHJpYnV0ZVxuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9IHZhbHVlIC1cbiAgICogQHJldHVybnMgeyBCb29sZWFuIH0gLVxuICAgKi9cbiAgZnVuY3Rpb24gaXNCb29sQXR0cih2YWx1ZSkge1xuICAgIHJldHVybiBSRV9CT09MX0FUVFJTLnRlc3QodmFsdWUpXG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgcGFzc2VkIGFyZ3VtZW50IGlzIGEgc3RyaW5nXG4gICAqIEBwYXJhbSAgIHsgKiB9IHZhbHVlIC1cbiAgICogQHJldHVybnMgeyBCb29sZWFuIH0gLVxuICAgKi9cbiAgZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBUX1NUUklOR1xuICB9XG5cblxuXG4gIHZhciBjaGVjayA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgICBpc0JsYW5rOiBpc0JsYW5rLFxuICAgIGlzRnVuY3Rpb246IGlzRnVuY3Rpb24sXG4gICAgaXNPYmplY3Q6IGlzT2JqZWN0LFxuICAgIGlzU3ZnOiBpc1N2ZyxcbiAgICBpc1dyaXRhYmxlOiBpc1dyaXRhYmxlLFxuICAgIGlzQXJyYXk6IGlzQXJyYXksXG4gICAgaXNCb29sQXR0cjogaXNCb29sQXR0cixcbiAgICBpc05pbDogaXNOaWwsXG4gICAgaXNTdHJpbmc6IGlzU3RyaW5nLFxuICAgIGlzVW5kZWZpbmVkOiBpc1VuZGVmaW5lZFxuICB9KTtcblxuICAvKipcbiAgICogQ2hlY2sgd2hldGhlciBhbiBhcnJheSBjb250YWlucyBhbiBpdGVtXG4gICAqIEBwYXJhbSAgIHsgQXJyYXkgfSBhcnJheSAtIHRhcmdldCBhcnJheVxuICAgKiBAcGFyYW0gICB7ICogfSBpdGVtIC0gaXRlbSB0byB0ZXN0XG4gICAqIEByZXR1cm5zIHsgQm9vbGVhbiB9IC1cbiAgICovXG4gIGZ1bmN0aW9uIGNvbnRhaW5zKGFycmF5LCBpdGVtKSB7XG4gICAgcmV0dXJuIGFycmF5LmluZGV4T2YoaXRlbSkgIT09IC0xXG4gIH1cblxuICAvKipcbiAgICogU3BlY2lhbGl6ZWQgZnVuY3Rpb24gZm9yIGxvb3BpbmcgYW4gYXJyYXktbGlrZSBjb2xsZWN0aW9uIHdpdGggYGVhY2g9e31gXG4gICAqIEBwYXJhbSAgIHsgQXJyYXkgfSBsaXN0IC0gY29sbGVjdGlvbiBvZiBpdGVtc1xuICAgKiBAcGFyYW0gICB7RnVuY3Rpb259IGZuIC0gY2FsbGJhY2sgZnVuY3Rpb25cbiAgICogQHJldHVybnMgeyBBcnJheSB9IHRoZSBhcnJheSBsb29wZWRcbiAgICovXG4gIGZ1bmN0aW9uIGVhY2gobGlzdCwgZm4pIHtcbiAgICB2YXIgbGVuID0gbGlzdCA/IGxpc3QubGVuZ3RoIDogMDtcbiAgICB2YXIgaSA9IDA7XG4gICAgZm9yICg7IGkgPCBsZW47IGkrKykgeyBmbihsaXN0W2ldLCBpKTsgfVxuICAgIHJldHVybiBsaXN0XG4gIH1cblxuICAvKipcbiAgICogRmFzdGVyIFN0cmluZyBzdGFydHNXaXRoIGFsdGVybmF0aXZlXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gc3RyIC0gc291cmNlIHN0cmluZ1xuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9IHZhbHVlIC0gdGVzdCBzdHJpbmdcbiAgICogQHJldHVybnMgeyBCb29sZWFuIH0gLVxuICAgKi9cbiAgZnVuY3Rpb24gc3RhcnRzV2l0aChzdHIsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHN0ci5zbGljZSgwLCB2YWx1ZS5sZW5ndGgpID09PSB2YWx1ZVxuICB9XG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIHJldHVybmluZyBhbHdheXMgYSB1bmlxdWUgaWRlbnRpZmllclxuICAgKiBAcmV0dXJucyB7IE51bWJlciB9IC0gbnVtYmVyIGZyb20gMC4uLm5cbiAgICovXG4gIHZhciB1aWQgPSAoZnVuY3Rpb24gdWlkKCkge1xuICAgIHZhciBpID0gLTE7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuICsraTsgfVxuICB9KSgpO1xuXG4gIC8qKlxuICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gc2V0IGFuIGltbXV0YWJsZSBwcm9wZXJ0eVxuICAgKiBAcGFyYW0gICB7IE9iamVjdCB9IGVsIC0gb2JqZWN0IHdoZXJlIHRoZSBuZXcgcHJvcGVydHkgd2lsbCBiZSBzZXRcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSBrZXkgLSBvYmplY3Qga2V5IHdoZXJlIHRoZSBuZXcgcHJvcGVydHkgd2lsbCBiZSBzdG9yZWRcbiAgICogQHBhcmFtICAgeyAqIH0gdmFsdWUgLSB2YWx1ZSBvZiB0aGUgbmV3IHByb3BlcnR5XG4gICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gb3B0aW9ucyAtIHNldCB0aGUgcHJvcGVyeSBvdmVycmlkaW5nIHRoZSBkZWZhdWx0IG9wdGlvbnNcbiAgICogQHJldHVybnMgeyBPYmplY3QgfSAtIHRoZSBpbml0aWFsIG9iamVjdFxuICAgKi9cbiAgZnVuY3Rpb24gZGVmaW5lKGVsLCBrZXksIHZhbHVlLCBvcHRpb25zKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsLCBrZXksIGV4dGVuZCh7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0sIG9wdGlvbnMpKTtcbiAgICByZXR1cm4gZWxcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0IGEgc3RyaW5nIGNvbnRhaW5pbmcgZGFzaGVzIHRvIGNhbWVsIGNhc2VcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSBzdHIgLSBpbnB1dCBzdHJpbmdcbiAgICogQHJldHVybnMgeyBTdHJpbmcgfSBteS1zdHJpbmcgLT4gbXlTdHJpbmdcbiAgICovXG4gIGZ1bmN0aW9uIHRvQ2FtZWwoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8tKFxcdykvZywgZnVuY3Rpb24gKF8sIGMpIHsgcmV0dXJuIGMudG9VcHBlckNhc2UoKTsgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBXYXJuIGEgbWVzc2FnZSB2aWEgY29uc29sZVxuICAgKiBAcGFyYW0gICB7U3RyaW5nfSBtZXNzYWdlIC0gd2FybmluZyBtZXNzYWdlXG4gICAqL1xuICBmdW5jdGlvbiB3YXJuKG1lc3NhZ2UpIHtcbiAgICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIHsgY29uc29sZS53YXJuKG1lc3NhZ2UpOyB9XG4gIH1cblxuXG5cbiAgdmFyIG1pc2MgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gICAgY29udGFpbnM6IGNvbnRhaW5zLFxuICAgIGVhY2g6IGVhY2gsXG4gICAgZ2V0UHJvcERlc2NyaXB0b3I6IGdldFByb3BEZXNjcmlwdG9yLFxuICAgIHN0YXJ0c1dpdGg6IHN0YXJ0c1dpdGgsXG4gICAgdWlkOiB1aWQsXG4gICAgZGVmaW5lUHJvcGVydHk6IGRlZmluZSxcbiAgICBvYmplY3RDcmVhdGU6IGNyZWF0ZSxcbiAgICBleHRlbmQ6IGV4dGVuZCxcbiAgICB0b0NhbWVsOiB0b0NhbWVsLFxuICAgIHdhcm46IHdhcm5cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgcHJvcGVydHkgb2YgYW4gb2JqZWN0IGZvciBhIGdpdmVuIGtleS4gSWYgc29tZXRoaW5nIGFscmVhZHlcbiAgICogZXhpc3RzIHRoZXJlLCB0aGVuIGl0IGJlY29tZXMgYW4gYXJyYXkgY29udGFpbmluZyBib3RoIHRoZSBvbGQgYW5kIG5ldyB2YWx1ZS5cbiAgICogQHBhcmFtIHsgT2JqZWN0IH0gb2JqIC0gb2JqZWN0IG9uIHdoaWNoIHRvIHNldCB0aGUgcHJvcGVydHlcbiAgICogQHBhcmFtIHsgU3RyaW5nIH0ga2V5IC0gcHJvcGVydHkgbmFtZVxuICAgKiBAcGFyYW0geyBPYmplY3QgfSB2YWx1ZSAtIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgdG8gYmUgc2V0XG4gICAqIEBwYXJhbSB7IEJvb2xlYW4gfSBlbnN1cmVBcnJheSAtIGVuc3VyZSB0aGF0IHRoZSBwcm9wZXJ0eSByZW1haW5zIGFuIGFycmF5XG4gICAqIEBwYXJhbSB7IE51bWJlciB9IGluZGV4IC0gYWRkIHRoZSBuZXcgaXRlbSBpbiBhIGNlcnRhaW4gYXJyYXkgcG9zaXRpb25cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5aXNoQWRkKG9iaiwga2V5LCB2YWx1ZSwgZW5zdXJlQXJyYXksIGluZGV4KSB7XG4gICAgdmFyIGRlc3QgPSBvYmpba2V5XTtcbiAgICB2YXIgaXNBcnIgPSBpc0FycmF5KGRlc3QpO1xuICAgIHZhciBoYXNJbmRleCA9ICFpc1VuZGVmaW5lZChpbmRleCk7XG5cbiAgICBpZiAoZGVzdCAmJiBkZXN0ID09PSB2YWx1ZSkgeyByZXR1cm4gfVxuXG4gICAgLy8gaWYgdGhlIGtleSB3YXMgbmV2ZXIgc2V0LCBzZXQgaXQgb25jZVxuICAgIGlmICghZGVzdCAmJiBlbnN1cmVBcnJheSkgeyBvYmpba2V5XSA9IFt2YWx1ZV07IH1cbiAgICBlbHNlIGlmICghZGVzdCkgeyBvYmpba2V5XSA9IHZhbHVlOyB9XG4gICAgLy8gaWYgaXQgd2FzIGFuIGFycmF5IGFuZCBub3QgeWV0IHNldFxuICAgIGVsc2Uge1xuICAgICAgaWYgKGlzQXJyKSB7XG4gICAgICAgIHZhciBvbGRJbmRleCA9IGRlc3QuaW5kZXhPZih2YWx1ZSk7XG4gICAgICAgIC8vIHRoaXMgaXRlbSBuZXZlciBjaGFuZ2VkIGl0cyBwb3NpdGlvblxuICAgICAgICBpZiAob2xkSW5kZXggPT09IGluZGV4KSB7IHJldHVybiB9XG4gICAgICAgIC8vIHJlbW92ZSB0aGUgaXRlbSBmcm9tIGl0cyBvbGQgcG9zaXRpb25cbiAgICAgICAgaWYgKG9sZEluZGV4ICE9PSAtMSkgeyBkZXN0LnNwbGljZShvbGRJbmRleCwgMSk7IH1cbiAgICAgICAgLy8gbW92ZSBvciBhZGQgdGhlIGl0ZW1cbiAgICAgICAgaWYgKGhhc0luZGV4KSB7XG4gICAgICAgICAgZGVzdC5zcGxpY2UoaW5kZXgsIDAsIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZXN0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgeyBvYmpba2V5XSA9IFtkZXN0LCB2YWx1ZV07IH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGV0ZWN0IHRoZSB0YWcgaW1wbGVtZW50YXRpb24gYnkgYSBET00gbm9kZVxuICAgKiBAcGFyYW0gICB7IE9iamVjdCB9IGRvbSAtIERPTSBub2RlIHdlIG5lZWQgdG8gcGFyc2UgdG8gZ2V0IGl0cyB0YWcgaW1wbGVtZW50YXRpb25cbiAgICogQHJldHVybnMgeyBPYmplY3QgfSBpdCByZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiBhIGN1c3RvbSB0YWcgKHRlbXBsYXRlIGFuZCBib290IGZ1bmN0aW9uKVxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0KGRvbSkge1xuICAgIHJldHVybiBkb20udGFnTmFtZSAmJiBfX1RBR19JTVBMW2dldEF0dHJpYnV0ZShkb20sIElTX0RJUkVDVElWRSkgfHxcbiAgICAgIGdldEF0dHJpYnV0ZShkb20sIElTX0RJUkVDVElWRSkgfHwgZG9tLnRhZ05hbWUudG9Mb3dlckNhc2UoKV1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHRhZyBuYW1lIG9mIGFueSBET00gbm9kZVxuICAgKiBAcGFyYW0gICB7IE9iamVjdCB9IGRvbSAtIERPTSBub2RlIHdlIHdhbnQgdG8gcGFyc2VcbiAgICogQHBhcmFtICAgeyBCb29sZWFuIH0gc2tpcERhdGFJcyAtIGhhY2sgdG8gaWdub3JlIHRoZSBkYXRhLWlzIGF0dHJpYnV0ZSB3aGVuIGF0dGFjaGluZyB0byBwYXJlbnRcbiAgICogQHJldHVybnMgeyBTdHJpbmcgfSBuYW1lIHRvIGlkZW50aWZ5IHRoaXMgZG9tIG5vZGUgaW4gcmlvdFxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0TmFtZShkb20sIHNraXBEYXRhSXMpIHtcbiAgICB2YXIgY2hpbGQgPSBnZXQoZG9tKTtcbiAgICB2YXIgbmFtZWRUYWcgPSAhc2tpcERhdGFJcyAmJiBnZXRBdHRyaWJ1dGUoZG9tLCBJU19ESVJFQ1RJVkUpO1xuICAgIHJldHVybiBuYW1lZFRhZyAmJiAhdG1wbC5oYXNFeHByKG5hbWVkVGFnKSA/XG4gICAgICBuYW1lZFRhZyA6IGNoaWxkID8gY2hpbGQubmFtZSA6IGRvbS50YWdOYW1lLnRvTG93ZXJDYXNlKClcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSB0ZW1wb3JhcnkgY29udGV4dCBjb250YWluaW5nIGFsc28gdGhlIHBhcmVudCBwcm9wZXJ0aWVzXG4gICAqIEB0aGlzIFRhZ1xuICAgKiBAcGFyYW0geyBUYWcgfSAtIHRlbXBvcmFyeSB0YWcgY29udGV4dCBjb250YWluaW5nIGFsbCB0aGUgcGFyZW50IHByb3BlcnRpZXNcbiAgICovXG4gIGZ1bmN0aW9uIGluaGVyaXRQYXJlbnRQcm9wcygpIHtcbiAgICBpZiAodGhpcy5wYXJlbnQpIHsgcmV0dXJuIGV4dGVuZChjcmVhdGUodGhpcyksIHRoaXMucGFyZW50KSB9XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qXG4gICAgSW5jbHVkZXMgaGFja3MgbmVlZGVkIGZvciB0aGUgSW50ZXJuZXQgRXhwbG9yZXIgdmVyc2lvbiA5IGFuZCBiZWxvd1xuICAgIFNlZTogaHR0cDovL2thbmdheC5naXRodWIuaW8vY29tcGF0LXRhYmxlL2VzNS8jaWU4XG4gICAgICAgICBodHRwOi8vY29kZXBsYW5ldC5pby9kcm9wcGluZy1pZTgvXG4gICovXG5cbiAgdmFyXG4gICAgcmVIYXNZaWVsZCAgPSAvPHlpZWxkXFxiL2ksXG4gICAgcmVZaWVsZEFsbCAgPSAvPHlpZWxkXFxzKig/OlxcLz58PihbXFxTXFxzXSo/KTxcXC95aWVsZFxccyo+fD4pL2lnLFxuICAgIHJlWWllbGRTcmMgID0gLzx5aWVsZFxccyt0bz1bJ1wiXShbXidcIj5dKilbJ1wiXVxccyo+KFtcXFNcXHNdKj8pPFxcL3lpZWxkXFxzKj4vaWcsXG4gICAgcmVZaWVsZERlc3QgPSAvPHlpZWxkXFxzK2Zyb209WydcIl0/KFstXFx3XSspWydcIl0/XFxzKig/OlxcLz58PihbXFxTXFxzXSo/KTxcXC95aWVsZFxccyo+KS9pZyxcbiAgICByb290RWxzID0geyB0cjogJ3Rib2R5JywgdGg6ICd0cicsIHRkOiAndHInLCBjb2w6ICdjb2xncm91cCcgfSxcbiAgICB0YmxUYWdzID0gSUVfVkVSU0lPTiAmJiBJRV9WRVJTSU9OIDwgMTAgPyBSRV9TUEVDSUFMX1RBR1MgOiBSRV9TUEVDSUFMX1RBR1NfTk9fT1BUSU9OLFxuICAgIEdFTkVSSUMgPSAnZGl2JyxcbiAgICBTVkcgPSAnc3ZnJztcblxuXG4gIC8qXG4gICAgQ3JlYXRlcyB0aGUgcm9vdCBlbGVtZW50IGZvciB0YWJsZSBvciBzZWxlY3QgY2hpbGQgZWxlbWVudHM6XG4gICAgdHIvdGgvdGQvdGhlYWQvdGZvb3QvdGJvZHkvY2FwdGlvbi9jb2wvY29sZ3JvdXAvb3B0aW9uL29wdGdyb3VwXG4gICovXG4gIGZ1bmN0aW9uIHNwZWNpYWxUYWdzKGVsLCB0bXBsLCB0YWdOYW1lKSB7XG5cbiAgICB2YXJcbiAgICAgIHNlbGVjdCA9IHRhZ05hbWVbMF0gPT09ICdvJyxcbiAgICAgIHBhcmVudCA9IHNlbGVjdCA/ICdzZWxlY3Q+JyA6ICd0YWJsZT4nO1xuXG4gICAgLy8gdHJpbSgpIGlzIGltcG9ydGFudCBoZXJlLCB0aGlzIGVuc3VyZXMgd2UgZG9uJ3QgaGF2ZSBhcnRpZmFjdHMsXG4gICAgLy8gc28gd2UgY2FuIGNoZWNrIGlmIHdlIGhhdmUgb25seSBvbmUgZWxlbWVudCBpbnNpZGUgdGhlIHBhcmVudFxuICAgIGVsLmlubmVySFRNTCA9ICc8JyArIHBhcmVudCArIHRtcGwudHJpbSgpICsgJzwvJyArIHBhcmVudDtcbiAgICBwYXJlbnQgPSBlbC5maXJzdENoaWxkO1xuXG4gICAgLy8gcmV0dXJucyB0aGUgaW1tZWRpYXRlIHBhcmVudCBpZiB0ci90aC90ZC9jb2wgaXMgdGhlIG9ubHkgZWxlbWVudCwgaWYgbm90XG4gICAgLy8gcmV0dXJucyB0aGUgd2hvbGUgdHJlZSwgYXMgdGhpcyBjYW4gaW5jbHVkZSBhZGRpdGlvbmFsIGVsZW1lbnRzXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAoc2VsZWN0KSB7XG4gICAgICBwYXJlbnQuc2VsZWN0ZWRJbmRleCA9IC0xOyAgLy8gZm9yIElFOSwgY29tcGF0aWJsZSB3L2N1cnJlbnQgcmlvdCBiZWhhdmlvclxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhdm9pZHMgaW5zZXJ0aW9uIG9mIGNvaW50YWluZXIgaW5zaWRlIGNvbnRhaW5lciAoZXg6IHRib2R5IGluc2lkZSB0Ym9keSlcbiAgICAgIHZhciB0bmFtZSA9IHJvb3RFbHNbdGFnTmFtZV07XG4gICAgICBpZiAodG5hbWUgJiYgcGFyZW50LmNoaWxkRWxlbWVudENvdW50ID09PSAxKSB7IHBhcmVudCA9ICQodG5hbWUsIHBhcmVudCk7IH1cbiAgICB9XG4gICAgcmV0dXJuIHBhcmVudFxuICB9XG5cbiAgLypcbiAgICBSZXBsYWNlIHRoZSB5aWVsZCB0YWcgZnJvbSBhbnkgdGFnIHRlbXBsYXRlIHdpdGggdGhlIGlubmVySFRNTCBvZiB0aGVcbiAgICBvcmlnaW5hbCB0YWcgaW4gdGhlIHBhZ2VcbiAgKi9cbiAgZnVuY3Rpb24gcmVwbGFjZVlpZWxkKHRtcGwsIGh0bWwpIHtcbiAgICAvLyBkbyBub3RoaW5nIGlmIG5vIHlpZWxkXG4gICAgaWYgKCFyZUhhc1lpZWxkLnRlc3QodG1wbCkpIHsgcmV0dXJuIHRtcGwgfVxuXG4gICAgLy8gYmUgY2FyZWZ1bCB3aXRoICMxMzQzIC0gc3RyaW5nIG9uIHRoZSBzb3VyY2UgaGF2aW5nIGAkMWBcbiAgICB2YXIgc3JjID0ge307XG5cbiAgICBodG1sID0gaHRtbCAmJiBodG1sLnJlcGxhY2UocmVZaWVsZFNyYywgZnVuY3Rpb24gKF8sIHJlZiwgdGV4dCkge1xuICAgICAgc3JjW3JlZl0gPSBzcmNbcmVmXSB8fCB0ZXh0OyAgIC8vIHByZXNlcnZlIGZpcnN0IGRlZmluaXRpb25cbiAgICAgIHJldHVybiAnJ1xuICAgIH0pLnRyaW0oKTtcblxuICAgIHJldHVybiB0bXBsXG4gICAgICAucmVwbGFjZShyZVlpZWxkRGVzdCwgZnVuY3Rpb24gKF8sIHJlZiwgZGVmKSB7ICAvLyB5aWVsZCB3aXRoIGZyb20gLSB0byBhdHRyc1xuICAgICAgICByZXR1cm4gc3JjW3JlZl0gfHwgZGVmIHx8ICcnXG4gICAgICB9KVxuICAgICAgLnJlcGxhY2UocmVZaWVsZEFsbCwgZnVuY3Rpb24gKF8sIGRlZikgeyAgICAgICAgLy8geWllbGQgd2l0aG91dCBhbnkgXCJmcm9tXCJcbiAgICAgICAgcmV0dXJuIGh0bWwgfHwgZGVmIHx8ICcnXG4gICAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBET00gZWxlbWVudCB0byB3cmFwIHRoZSBnaXZlbiBjb250ZW50LiBOb3JtYWxseSBhbiBgRElWYCwgYnV0IGNhbiBiZVxuICAgKiBhbHNvIGEgYFRBQkxFYCwgYFNFTEVDVGAsIGBUQk9EWWAsIGBUUmAsIG9yIGBDT0xHUk9VUGAgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSB0bXBsICAtIFRoZSB0ZW1wbGF0ZSBjb21pbmcgZnJvbSB0aGUgY3VzdG9tIHRhZyBkZWZpbml0aW9uXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gaHRtbCAtIEhUTUwgY29udGVudCB0aGF0IGNvbWVzIGZyb20gdGhlIERPTSBlbGVtZW50IHdoZXJlIHlvdVxuICAgKiAgICAgICAgICAgd2lsbCBtb3VudCB0aGUgdGFnLCBtb3N0bHkgdGhlIG9yaWdpbmFsIHRhZyBpbiB0aGUgcGFnZVxuICAgKiBAcGFyYW0gICB7IEJvb2xlYW4gfSBpc1N2ZyAtIHRydWUgaWYgdGhlIHJvb3Qgbm9kZSBpcyBhbiBzdmdcbiAgICogQHJldHVybnMgeyBIVE1MRWxlbWVudCB9IERPTSBlbGVtZW50IHdpdGggX3RtcGxfIG1lcmdlZCB0aHJvdWdoIGBZSUVMRGAgd2l0aCB0aGUgX2h0bWxfLlxuICAgKi9cbiAgZnVuY3Rpb24gbWtkb20odG1wbCwgaHRtbCwgaXNTdmcpIHtcbiAgICB2YXIgbWF0Y2ggICA9IHRtcGwgJiYgdG1wbC5tYXRjaCgvXlxccyo8KFstXFx3XSspLyk7XG4gICAgdmFyICB0YWdOYW1lID0gbWF0Y2ggJiYgbWF0Y2hbMV0udG9Mb3dlckNhc2UoKTtcbiAgICB2YXIgZWwgPSBtYWtlRWxlbWVudChpc1N2ZyA/IFNWRyA6IEdFTkVSSUMpO1xuXG4gICAgLy8gcmVwbGFjZSBhbGwgdGhlIHlpZWxkIHRhZ3Mgd2l0aCB0aGUgdGFnIGlubmVyIGh0bWxcbiAgICB0bXBsID0gcmVwbGFjZVlpZWxkKHRtcGwsIGh0bWwpO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAodGJsVGFncy50ZXN0KHRhZ05hbWUpKVxuICAgICAgeyBlbCA9IHNwZWNpYWxUYWdzKGVsLCB0bXBsLCB0YWdOYW1lKTsgfVxuICAgIGVsc2VcbiAgICAgIHsgc2V0SW5uZXJIVE1MKGVsLCB0bXBsLCBpc1N2Zyk7IH1cblxuICAgIHJldHVybiBlbFxuICB9XG5cbiAgdmFyIEVWRU5UX0FUVFJfUkUgPSAvXm9uLztcblxuICAvKipcbiAgICogVHJ1ZSBpZiB0aGUgZXZlbnQgYXR0cmlidXRlIHN0YXJ0cyB3aXRoICdvbidcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSBhdHRyaWJ1dGUgLSBldmVudCBhdHRyaWJ1dGVcbiAgICogQHJldHVybnMgeyBCb29sZWFuIH1cbiAgICovXG4gIGZ1bmN0aW9uIGlzRXZlbnRBdHRyaWJ1dGUoYXR0cmlidXRlKSB7XG4gICAgcmV0dXJuIEVWRU5UX0FUVFJfUkUudGVzdChhdHRyaWJ1dGUpXG4gIH1cblxuICAvKipcbiAgICogTG9vcCBiYWNrd2FyZCBhbGwgdGhlIHBhcmVudHMgdHJlZSB0byBkZXRlY3QgdGhlIGZpcnN0IGN1c3RvbSBwYXJlbnQgdGFnXG4gICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gdGFnIC0gYSBUYWcgaW5zdGFuY2VcbiAgICogQHJldHVybnMgeyBPYmplY3QgfSB0aGUgaW5zdGFuY2Ugb2YgdGhlIGZpcnN0IGN1c3RvbSBwYXJlbnQgdGFnIGZvdW5kXG4gICAqL1xuICBmdW5jdGlvbiBnZXRJbW1lZGlhdGVDdXN0b21QYXJlbnQodGFnKSB7XG4gICAgdmFyIHB0YWcgPSB0YWc7XG4gICAgd2hpbGUgKHB0YWcuX18uaXNBbm9ueW1vdXMpIHtcbiAgICAgIGlmICghcHRhZy5wYXJlbnQpIHsgYnJlYWsgfVxuICAgICAgcHRhZyA9IHB0YWcucGFyZW50O1xuICAgIH1cbiAgICByZXR1cm4gcHRhZ1xuICB9XG5cbiAgLyoqXG4gICAqIFRyaWdnZXIgRE9NIGV2ZW50c1xuICAgKiBAcGFyYW0gICB7IEhUTUxFbGVtZW50IH0gZG9tIC0gZG9tIGVsZW1lbnQgdGFyZ2V0IG9mIHRoZSBldmVudFxuICAgKiBAcGFyYW0gICB7IEZ1bmN0aW9uIH0gaGFuZGxlciAtIHVzZXIgZnVuY3Rpb25cbiAgICogQHBhcmFtICAgeyBPYmplY3QgfSBlIC0gZXZlbnQgb2JqZWN0XG4gICAqL1xuICBmdW5jdGlvbiBoYW5kbGVFdmVudChkb20sIGhhbmRsZXIsIGUpIHtcbiAgICB2YXIgcHRhZyA9IHRoaXMuX18ucGFyZW50O1xuICAgIHZhciBpdGVtID0gdGhpcy5fXy5pdGVtO1xuXG4gICAgaWYgKCFpdGVtKVxuICAgICAgeyB3aGlsZSAocHRhZyAmJiAhaXRlbSkge1xuICAgICAgICBpdGVtID0gcHRhZy5fXy5pdGVtO1xuICAgICAgICBwdGFnID0gcHRhZy5fXy5wYXJlbnQ7XG4gICAgICB9IH1cblxuICAgIC8vIG92ZXJyaWRlIHRoZSBldmVudCBwcm9wZXJ0aWVzXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAoaXNXcml0YWJsZShlLCAnY3VycmVudFRhcmdldCcpKSB7IGUuY3VycmVudFRhcmdldCA9IGRvbTsgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKGlzV3JpdGFibGUoZSwgJ3RhcmdldCcpKSB7IGUudGFyZ2V0ID0gZS5zcmNFbGVtZW50OyB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAoaXNXcml0YWJsZShlLCAnd2hpY2gnKSkgeyBlLndoaWNoID0gZS5jaGFyQ29kZSB8fCBlLmtleUNvZGU7IH1cblxuICAgIGUuaXRlbSA9IGl0ZW07XG5cbiAgICBoYW5kbGVyLmNhbGwodGhpcywgZSk7XG5cbiAgICAvLyBhdm9pZCBhdXRvIHVwZGF0ZXNcbiAgICBpZiAoIXNldHRpbmdzLmF1dG9VcGRhdGUpIHsgcmV0dXJuIH1cblxuICAgIGlmICghZS5wcmV2ZW50VXBkYXRlKSB7XG4gICAgICB2YXIgcCA9IGdldEltbWVkaWF0ZUN1c3RvbVBhcmVudCh0aGlzKTtcbiAgICAgIC8vIGZpeGVzICMyMDgzXG4gICAgICBpZiAocC5pc01vdW50ZWQpIHsgcC51cGRhdGUoKTsgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBdHRhY2ggYW4gZXZlbnQgdG8gYSBET00gbm9kZVxuICAgKiBAcGFyYW0geyBTdHJpbmcgfSBuYW1lIC0gZXZlbnQgbmFtZVxuICAgKiBAcGFyYW0geyBGdW5jdGlvbiB9IGhhbmRsZXIgLSBldmVudCBjYWxsYmFja1xuICAgKiBAcGFyYW0geyBPYmplY3QgfSBkb20gLSBkb20gbm9kZVxuICAgKiBAcGFyYW0geyBUYWcgfSB0YWcgLSB0YWcgaW5zdGFuY2VcbiAgICovXG4gIGZ1bmN0aW9uIHNldEV2ZW50SGFuZGxlcihuYW1lLCBoYW5kbGVyLCBkb20sIHRhZykge1xuICAgIHZhciBldmVudE5hbWU7XG4gICAgdmFyIGNiID0gaGFuZGxlRXZlbnQuYmluZCh0YWcsIGRvbSwgaGFuZGxlcik7XG5cbiAgICAvLyBhdm9pZCB0byBiaW5kIHR3aWNlIHRoZSBzYW1lIGV2ZW50XG4gICAgLy8gcG9zc2libGUgZml4IGZvciAjMjMzMlxuICAgIGRvbVtuYW1lXSA9IG51bGw7XG5cbiAgICAvLyBub3JtYWxpemUgZXZlbnQgbmFtZVxuICAgIGV2ZW50TmFtZSA9IG5hbWUucmVwbGFjZShSRV9FVkVOVFNfUFJFRklYLCAnJyk7XG5cbiAgICAvLyBjYWNoZSB0aGUgbGlzdGVuZXIgaW50byB0aGUgbGlzdGVuZXJzIGFycmF5XG4gICAgaWYgKCFjb250YWlucyh0YWcuX18ubGlzdGVuZXJzLCBkb20pKSB7IHRhZy5fXy5saXN0ZW5lcnMucHVzaChkb20pOyB9XG4gICAgaWYgKCFkb21bUklPVF9FVkVOVFNfS0VZXSkgeyBkb21bUklPVF9FVkVOVFNfS0VZXSA9IHt9OyB9XG4gICAgaWYgKGRvbVtSSU9UX0VWRU5UU19LRVldW25hbWVdKSB7IGRvbS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZG9tW1JJT1RfRVZFTlRTX0tFWV1bbmFtZV0pOyB9XG5cbiAgICBkb21bUklPVF9FVkVOVFNfS0VZXVtuYW1lXSA9IGNiO1xuICAgIGRvbS5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgY2IsIGZhbHNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgY2hpbGQgdGFnIGluY2x1ZGluZyBpdCBjb3JyZWN0bHkgaW50byBpdHMgcGFyZW50XG4gICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gY2hpbGQgLSBjaGlsZCB0YWcgaW1wbGVtZW50YXRpb25cbiAgICogQHBhcmFtICAgeyBPYmplY3QgfSBvcHRzIC0gdGFnIG9wdGlvbnMgY29udGFpbmluZyB0aGUgRE9NIG5vZGUgd2hlcmUgdGhlIHRhZyB3aWxsIGJlIG1vdW50ZWRcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSBpbm5lckhUTUwgLSBpbm5lciBodG1sIG9mIHRoZSBjaGlsZCBub2RlXG4gICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gcGFyZW50IC0gaW5zdGFuY2Ugb2YgdGhlIHBhcmVudCB0YWcgaW5jbHVkaW5nIHRoZSBjaGlsZCBjdXN0b20gdGFnXG4gICAqIEByZXR1cm5zIHsgT2JqZWN0IH0gaW5zdGFuY2Ugb2YgdGhlIG5ldyBjaGlsZCB0YWcganVzdCBjcmVhdGVkXG4gICAqL1xuICBmdW5jdGlvbiBpbml0Q2hpbGQoY2hpbGQsIG9wdHMsIGlubmVySFRNTCwgcGFyZW50KSB7XG4gICAgdmFyIHRhZyA9IGNyZWF0ZVRhZyhjaGlsZCwgb3B0cywgaW5uZXJIVE1MKTtcbiAgICB2YXIgdGFnTmFtZSA9IG9wdHMudGFnTmFtZSB8fCBnZXROYW1lKG9wdHMucm9vdCwgdHJ1ZSk7XG4gICAgdmFyIHB0YWcgPSBnZXRJbW1lZGlhdGVDdXN0b21QYXJlbnQocGFyZW50KTtcbiAgICAvLyBmaXggZm9yIHRoZSBwYXJlbnQgYXR0cmlidXRlIGluIHRoZSBsb29wZWQgZWxlbWVudHNcbiAgICBkZWZpbmUodGFnLCAncGFyZW50JywgcHRhZyk7XG4gICAgLy8gc3RvcmUgdGhlIHJlYWwgcGFyZW50IHRhZ1xuICAgIC8vIGluIHNvbWUgY2FzZXMgdGhpcyBjb3VsZCBiZSBkaWZmZXJlbnQgZnJvbSB0aGUgY3VzdG9tIHBhcmVudCB0YWdcbiAgICAvLyBmb3IgZXhhbXBsZSBpbiBuZXN0ZWQgbG9vcHNcbiAgICB0YWcuX18ucGFyZW50ID0gcGFyZW50O1xuXG4gICAgLy8gYWRkIHRoaXMgdGFnIHRvIHRoZSBjdXN0b20gcGFyZW50IHRhZ1xuICAgIGFycmF5aXNoQWRkKHB0YWcudGFncywgdGFnTmFtZSwgdGFnKTtcblxuICAgIC8vIGFuZCBhbHNvIHRvIHRoZSByZWFsIHBhcmVudCB0YWdcbiAgICBpZiAocHRhZyAhPT0gcGFyZW50KVxuICAgICAgeyBhcnJheWlzaEFkZChwYXJlbnQudGFncywgdGFnTmFtZSwgdGFnKTsgfVxuXG4gICAgcmV0dXJuIHRhZ1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYW4gaXRlbSBmcm9tIGFuIG9iamVjdCBhdCBhIGdpdmVuIGtleS4gSWYgdGhlIGtleSBwb2ludHMgdG8gYW4gYXJyYXksXG4gICAqIHRoZW4gdGhlIGl0ZW0gaXMganVzdCByZW1vdmVkIGZyb20gdGhlIGFycmF5LlxuICAgKiBAcGFyYW0geyBPYmplY3QgfSBvYmogLSBvYmplY3Qgb24gd2hpY2ggdG8gcmVtb3ZlIHRoZSBwcm9wZXJ0eVxuICAgKiBAcGFyYW0geyBTdHJpbmcgfSBrZXkgLSBwcm9wZXJ0eSBuYW1lXG4gICAqIEBwYXJhbSB7IE9iamVjdCB9IHZhbHVlIC0gdGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSB0byBiZSByZW1vdmVkXG4gICAqIEBwYXJhbSB7IEJvb2xlYW4gfSBlbnN1cmVBcnJheSAtIGVuc3VyZSB0aGF0IHRoZSBwcm9wZXJ0eSByZW1haW5zIGFuIGFycmF5XG4gICovXG4gIGZ1bmN0aW9uIGFycmF5aXNoUmVtb3ZlKG9iaiwga2V5LCB2YWx1ZSwgZW5zdXJlQXJyYXkpIHtcbiAgICBpZiAoaXNBcnJheShvYmpba2V5XSkpIHtcbiAgICAgIHZhciBpbmRleCA9IG9ialtrZXldLmluZGV4T2YodmFsdWUpO1xuICAgICAgaWYgKGluZGV4ICE9PSAtMSkgeyBvYmpba2V5XS5zcGxpY2UoaW5kZXgsIDEpOyB9XG4gICAgICBpZiAoIW9ialtrZXldLmxlbmd0aCkgeyBkZWxldGUgb2JqW2tleV07IH1cbiAgICAgIGVsc2UgaWYgKG9ialtrZXldLmxlbmd0aCA9PT0gMSAmJiAhZW5zdXJlQXJyYXkpIHsgb2JqW2tleV0gPSBvYmpba2V5XVswXTsgfVxuICAgIH0gZWxzZSBpZiAob2JqW2tleV0gPT09IHZhbHVlKVxuICAgICAgeyBkZWxldGUgb2JqW2tleV07IH0gLy8gb3RoZXJ3aXNlIGp1c3QgZGVsZXRlIHRoZSBrZXlcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIHRoZSBlbGVtZW50cyBmb3IgYSB2aXJ0dWFsIHRhZ1xuICAgKiBAdGhpcyBUYWdcbiAgICogQHBhcmFtIHsgTm9kZSB9IHNyYyAtIHRoZSBub2RlIHRoYXQgd2lsbCBkbyB0aGUgaW5zZXJ0aW5nIG9yIGFwcGVuZGluZ1xuICAgKiBAcGFyYW0geyBUYWcgfSB0YXJnZXQgLSBvbmx5IGlmIGluc2VydGluZywgaW5zZXJ0IGJlZm9yZSB0aGlzIHRhZydzIGZpcnN0IGNoaWxkXG4gICAqL1xuICBmdW5jdGlvbiBtYWtlVmlydHVhbChzcmMsIHRhcmdldCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIGhlYWQgPSBjcmVhdGVET01QbGFjZWhvbGRlcigpO1xuICAgIHZhciB0YWlsID0gY3JlYXRlRE9NUGxhY2Vob2xkZXIoKTtcbiAgICB2YXIgZnJhZyA9IGNyZWF0ZUZyYWdtZW50KCk7XG4gICAgdmFyIHNpYjtcbiAgICB2YXIgZWw7XG5cbiAgICB0aGlzLnJvb3QuaW5zZXJ0QmVmb3JlKGhlYWQsIHRoaXMucm9vdC5maXJzdENoaWxkKTtcbiAgICB0aGlzLnJvb3QuYXBwZW5kQ2hpbGQodGFpbCk7XG5cbiAgICB0aGlzLl9fLmhlYWQgPSBlbCA9IGhlYWQ7XG4gICAgdGhpcy5fXy50YWlsID0gdGFpbDtcblxuICAgIHdoaWxlIChlbCkge1xuICAgICAgc2liID0gZWwubmV4dFNpYmxpbmc7XG4gICAgICBmcmFnLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgIHRoaXMkMS5fXy52aXJ0cy5wdXNoKGVsKTsgLy8gaG9sZCBmb3IgdW5tb3VudGluZ1xuICAgICAgZWwgPSBzaWI7XG4gICAgfVxuXG4gICAgaWYgKHRhcmdldClcbiAgICAgIHsgc3JjLmluc2VydEJlZm9yZShmcmFnLCB0YXJnZXQuX18uaGVhZCk7IH1cbiAgICBlbHNlXG4gICAgICB7IHNyYy5hcHBlbmRDaGlsZChmcmFnKTsgfVxuICB9XG5cbiAgLyoqXG4gICAqIG1ha2VzIGEgdGFnIHZpcnR1YWwgYW5kIHJlcGxhY2VzIGEgcmVmZXJlbmNlIGluIHRoZSBkb21cbiAgICogQHRoaXMgVGFnXG4gICAqIEBwYXJhbSB7IHRhZyB9IHRoZSB0YWcgdG8gbWFrZSB2aXJ0dWFsXG4gICAqIEBwYXJhbSB7IHJlZiB9IHRoZSBkb20gcmVmZXJlbmNlIGxvY2F0aW9uXG4gICAqL1xuICBmdW5jdGlvbiBtYWtlUmVwbGFjZVZpcnR1YWwodGFnLCByZWYpIHtcbiAgICBpZiAoIXJlZi5wYXJlbnROb2RlKSB7IHJldHVybiB9XG4gICAgdmFyIGZyYWcgPSBjcmVhdGVGcmFnbWVudCgpO1xuICAgIG1ha2VWaXJ0dWFsLmNhbGwodGFnLCBmcmFnKTtcbiAgICByZWYucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZnJhZywgcmVmKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgZHluYW1pY2FsbHkgY3JlYXRlZCBkYXRhLWlzIHRhZ3Mgd2l0aCBjaGFuZ2luZyBleHByZXNzaW9uc1xuICAgKiBAcGFyYW0geyBPYmplY3QgfSBleHByIC0gZXhwcmVzc2lvbiB0YWcgYW5kIGV4cHJlc3Npb24gaW5mb1xuICAgKiBAcGFyYW0geyBUYWcgfSAgICBwYXJlbnQgLSBwYXJlbnQgZm9yIHRhZyBjcmVhdGlvblxuICAgKiBAcGFyYW0geyBTdHJpbmcgfSB0YWdOYW1lIC0gdGFnIGltcGxlbWVudGF0aW9uIHdlIHdhbnQgdG8gdXNlXG4gICAqL1xuICBmdW5jdGlvbiB1cGRhdGVEYXRhSXMoZXhwciwgcGFyZW50LCB0YWdOYW1lKSB7XG4gICAgdmFyIHRhZyA9IGV4cHIudGFnIHx8IGV4cHIuZG9tLl90YWc7XG4gICAgdmFyIHJlZjtcblxuICAgIHZhciByZWYkMSA9IHRhZyA/IHRhZy5fXyA6IHt9O1xuICAgIHZhciBoZWFkID0gcmVmJDEuaGVhZDtcbiAgICB2YXIgaXNWaXJ0dWFsID0gZXhwci5kb20udGFnTmFtZSA9PT0gJ1ZJUlRVQUwnO1xuXG4gICAgaWYgKHRhZyAmJiBleHByLnRhZ05hbWUgPT09IHRhZ05hbWUpIHtcbiAgICAgIHRhZy51cGRhdGUoKTtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIHN5bmMgX3BhcmVudCB0byBhY2NvbW1vZGF0ZSBjaGFuZ2luZyB0YWduYW1lc1xuICAgIGlmICh0YWcpIHtcbiAgICAgIC8vIG5lZWQgcGxhY2Vob2xkZXIgYmVmb3JlIHVubW91bnRcbiAgICAgIGlmKGlzVmlydHVhbCkge1xuICAgICAgICByZWYgPSBjcmVhdGVET01QbGFjZWhvbGRlcigpO1xuICAgICAgICBoZWFkLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHJlZiwgaGVhZCk7XG4gICAgICB9XG5cbiAgICAgIHRhZy51bm1vdW50KHRydWUpO1xuICAgIH1cblxuICAgIC8vIHVuYWJsZSB0byBnZXQgdGhlIHRhZyBuYW1lXG4gICAgaWYgKCFpc1N0cmluZyh0YWdOYW1lKSkgeyByZXR1cm4gfVxuXG4gICAgZXhwci5pbXBsID0gX19UQUdfSU1QTFt0YWdOYW1lXTtcblxuICAgIC8vIHVua25vd24gaW1wbGVtZW50YXRpb25cbiAgICBpZiAoIWV4cHIuaW1wbCkgeyByZXR1cm4gfVxuXG4gICAgZXhwci50YWcgPSB0YWcgPSBpbml0Q2hpbGQoXG4gICAgICBleHByLmltcGwsIHtcbiAgICAgICAgcm9vdDogZXhwci5kb20sXG4gICAgICAgIHBhcmVudDogcGFyZW50LFxuICAgICAgICB0YWdOYW1lOiB0YWdOYW1lXG4gICAgICB9LFxuICAgICAgZXhwci5kb20uaW5uZXJIVE1MLFxuICAgICAgcGFyZW50XG4gICAgKTtcblxuICAgIGVhY2goZXhwci5hdHRycywgZnVuY3Rpb24gKGEpIHsgcmV0dXJuIHNldEF0dHJpYnV0ZSh0YWcucm9vdCwgYS5uYW1lLCBhLnZhbHVlKTsgfSk7XG4gICAgZXhwci50YWdOYW1lID0gdGFnTmFtZTtcbiAgICB0YWcubW91bnQoKTtcblxuICAgIC8vIHJvb3QgZXhpc3QgZmlyc3QgdGltZSwgYWZ0ZXIgdXNlIHBsYWNlaG9sZGVyXG4gICAgaWYgKGlzVmlydHVhbCkgeyBtYWtlUmVwbGFjZVZpcnR1YWwodGFnLCByZWYgfHwgdGFnLnJvb3QpOyB9XG5cbiAgICAvLyBwYXJlbnQgaXMgdGhlIHBsYWNlaG9sZGVyIHRhZywgbm90IHRoZSBkeW5hbWljIHRhZyBzbyBjbGVhbiB1cFxuICAgIHBhcmVudC5fXy5vblVubW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZGVsTmFtZSA9IHRhZy5vcHRzLmRhdGFJcztcbiAgICAgIGFycmF5aXNoUmVtb3ZlKHRhZy5wYXJlbnQudGFncywgZGVsTmFtZSwgdGFnKTtcbiAgICAgIGFycmF5aXNoUmVtb3ZlKHRhZy5fXy5wYXJlbnQudGFncywgZGVsTmFtZSwgdGFnKTtcbiAgICAgIHRhZy51bm1vdW50KCk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBOb21hbGl6ZSBhbnkgYXR0cmlidXRlIHJlbW92aW5nIHRoZSBcInJpb3QtXCIgcHJlZml4XG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gYXR0ck5hbWUgLSBvcmlnaW5hbCBhdHRyaWJ1dGUgbmFtZVxuICAgKiBAcmV0dXJucyB7IFN0cmluZyB9IHZhbGlkIGh0bWwgYXR0cmlidXRlIG5hbWVcbiAgICovXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZUF0dHJOYW1lKGF0dHJOYW1lKSB7XG4gICAgaWYgKCFhdHRyTmFtZSkgeyByZXR1cm4gbnVsbCB9XG4gICAgYXR0ck5hbWUgPSBhdHRyTmFtZS5yZXBsYWNlKEFUVFJTX1BSRUZJWCwgJycpO1xuICAgIGlmIChDQVNFX1NFTlNJVElWRV9BVFRSSUJVVEVTW2F0dHJOYW1lXSkgeyBhdHRyTmFtZSA9IENBU0VfU0VOU0lUSVZFX0FUVFJJQlVURVNbYXR0ck5hbWVdOyB9XG4gICAgcmV0dXJuIGF0dHJOYW1lXG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIG9uIHNpbmdsZSB0YWcgZXhwcmVzc2lvblxuICAgKiBAdGhpcyBUYWdcbiAgICogQHBhcmFtIHsgT2JqZWN0IH0gZXhwciAtIGV4cHJlc3Npb24gbG9naWNcbiAgICogQHJldHVybnMgeyB1bmRlZmluZWQgfVxuICAgKi9cbiAgZnVuY3Rpb24gdXBkYXRlRXhwcmVzc2lvbihleHByKSB7XG4gICAgaWYgKHRoaXMucm9vdCAmJiBnZXRBdHRyaWJ1dGUodGhpcy5yb290LCd2aXJ0dWFsaXplZCcpKSB7IHJldHVybiB9XG5cbiAgICB2YXIgZG9tID0gZXhwci5kb207XG4gICAgLy8gcmVtb3ZlIHRoZSByaW90LSBwcmVmaXhcbiAgICB2YXIgYXR0ck5hbWUgPSBub3JtYWxpemVBdHRyTmFtZShleHByLmF0dHIpO1xuICAgIHZhciBpc1RvZ2dsZSA9IGNvbnRhaW5zKFtTSE9XX0RJUkVDVElWRSwgSElERV9ESVJFQ1RJVkVdLCBhdHRyTmFtZSk7XG4gICAgdmFyIGlzVmlydHVhbCA9IGV4cHIucm9vdCAmJiBleHByLnJvb3QudGFnTmFtZSA9PT0gJ1ZJUlRVQUwnO1xuICAgIHZhciByZWYgPSB0aGlzLl9fO1xuICAgIHZhciBpc0Fub255bW91cyA9IHJlZi5pc0Fub255bW91cztcbiAgICB2YXIgcGFyZW50ID0gZG9tICYmIChleHByLnBhcmVudCB8fCBkb20ucGFyZW50Tm9kZSk7XG4gICAgdmFyIGtlZXBWYWx1ZUF0dHJpYnV0ZXMgPSBzZXR0aW5ncy5rZWVwVmFsdWVBdHRyaWJ1dGVzO1xuICAgIC8vIGRldGVjdCB0aGUgc3R5bGUgYXR0cmlidXRlc1xuICAgIHZhciBpc1N0eWxlQXR0ciA9IGF0dHJOYW1lID09PSAnc3R5bGUnO1xuICAgIHZhciBpc0NsYXNzQXR0ciA9IGF0dHJOYW1lID09PSAnY2xhc3MnO1xuICAgIHZhciBpc1ZhbHVlQXR0ciA9IGF0dHJOYW1lID09PSAndmFsdWUnO1xuXG4gICAgdmFyIHZhbHVlO1xuXG4gICAgLy8gaWYgaXQncyBhIHRhZyB3ZSBjb3VsZCB0b3RhbGx5IHNraXAgdGhlIHJlc3RcbiAgICBpZiAoZXhwci5fcmlvdF9pZCkge1xuICAgICAgaWYgKGV4cHIuX18ud2FzQ3JlYXRlZCkge1xuICAgICAgICBleHByLnVwZGF0ZSgpO1xuICAgICAgLy8gaWYgaXQgaGFzbid0IGJlZW4gbW91bnRlZCB5ZXQsIGRvIHRoYXQgbm93LlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXhwci5tb3VudCgpO1xuICAgICAgICBpZiAoaXNWaXJ0dWFsKSB7XG4gICAgICAgICAgbWFrZVJlcGxhY2VWaXJ0dWFsKGV4cHIsIGV4cHIucm9vdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIGlmIHRoaXMgZXhwcmVzc2lvbiBoYXMgdGhlIHVwZGF0ZSBtZXRob2QgaXQgbWVhbnMgaXQgY2FuIGhhbmRsZSB0aGUgRE9NIGNoYW5nZXMgYnkgaXRzZWxmXG4gICAgaWYgKGV4cHIudXBkYXRlKSB7IHJldHVybiBleHByLnVwZGF0ZSgpIH1cblxuICAgIHZhciBjb250ZXh0ID0gaXNUb2dnbGUgJiYgIWlzQW5vbnltb3VzID8gaW5oZXJpdFBhcmVudFByb3BzLmNhbGwodGhpcykgOiB0aGlzO1xuXG4gICAgLy8gLi4uaXQgc2VlbXMgdG8gYmUgYSBzaW1wbGUgZXhwcmVzc2lvbiBzbyB3ZSB0cnkgdG8gY2FsY3VsYXRlIGl0cyB2YWx1ZVxuICAgIHZhbHVlID0gdG1wbChleHByLmV4cHIsIGNvbnRleHQpO1xuXG4gICAgdmFyIGhhc1ZhbHVlID0gIWlzQmxhbmsodmFsdWUpO1xuICAgIHZhciBpc09iaiA9IGlzT2JqZWN0KHZhbHVlKTtcblxuICAgIC8vIGNvbnZlcnQgdGhlIHN0eWxlL2NsYXNzIG9iamVjdHMgdG8gc3RyaW5nc1xuICAgIGlmIChpc09iaikge1xuICAgICAgaWYgKGlzQ2xhc3NBdHRyKSB7XG4gICAgICAgIHZhbHVlID0gdG1wbChKU09OLnN0cmluZ2lmeSh2YWx1ZSksIHRoaXMpO1xuICAgICAgfSBlbHNlIGlmIChpc1N0eWxlQXR0cikge1xuICAgICAgICB2YWx1ZSA9IHN0eWxlT2JqZWN0VG9TdHJpbmcodmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHJlbW92ZSBvcmlnaW5hbCBhdHRyaWJ1dGVcbiAgICBpZiAoZXhwci5hdHRyICYmXG4gICAgICAgIChcbiAgICAgICAgICAvLyB0aGUgb3JpZ2luYWwgYXR0cmlidXRlIGNhbiBiZSByZW1vdmVkIG9ubHkgaWYgd2UgYXJlIHBhcnNpbmcgdGhlIG9yaWdpbmFsIGV4cHJlc3Npb25cbiAgICAgICAgICAhZXhwci53YXNQYXJzZWRPbmNlIHx8XG4gICAgICAgICAgLy8gb3IgaXRzIHZhbHVlIGlzIGZhbHNlXG4gICAgICAgICAgdmFsdWUgPT09IGZhbHNlIHx8XG4gICAgICAgICAgLy8gb3IgaWYgaXRzIHZhbHVlIGlzIGN1cnJlbnRseSBmYWxzeS4uLlxuICAgICAgICAgIC8vIFdlIHdpbGwga2VlcCB0aGUgXCJ2YWx1ZVwiIGF0dHJpYnV0ZXMgaWYgdGhlIFwia2VlcFZhbHVlQXR0cmlidXRlc1wiXG4gICAgICAgICAgLy8gaXMgZW5hYmxlZCB0aG91Z2hcbiAgICAgICAgICAoIWhhc1ZhbHVlICYmICghaXNWYWx1ZUF0dHIgfHwgaXNWYWx1ZUF0dHIgJiYgIWtlZXBWYWx1ZUF0dHJpYnV0ZXMpKVxuICAgICAgICApXG4gICAgKSB7XG4gICAgICAvLyByZW1vdmUgZWl0aGVyIHJpb3QtKiBhdHRyaWJ1dGVzIG9yIGp1c3QgdGhlIGF0dHJpYnV0ZSBuYW1lXG4gICAgICByZW1vdmVBdHRyaWJ1dGUoZG9tLCBnZXRBdHRyaWJ1dGUoZG9tLCBleHByLmF0dHIpID8gZXhwci5hdHRyIDogYXR0ck5hbWUpO1xuICAgIH1cblxuICAgIC8vIGZvciB0aGUgYm9vbGVhbiBhdHRyaWJ1dGVzIHdlIGRvbid0IG5lZWQgdGhlIHZhbHVlXG4gICAgLy8gd2UgY2FuIGNvbnZlcnQgaXQgdG8gY2hlY2tlZD10cnVlIHRvIGNoZWNrZWQ9Y2hlY2tlZFxuICAgIGlmIChleHByLmJvb2wpIHsgdmFsdWUgPSB2YWx1ZSA/IGF0dHJOYW1lIDogZmFsc2U7IH1cbiAgICBpZiAoZXhwci5pc1J0YWcpIHsgcmV0dXJuIHVwZGF0ZURhdGFJcyhleHByLCB0aGlzLCB2YWx1ZSkgfVxuICAgIGlmIChleHByLndhc1BhcnNlZE9uY2UgJiYgZXhwci52YWx1ZSA9PT0gdmFsdWUpIHsgcmV0dXJuIH1cblxuICAgIC8vIHVwZGF0ZSB0aGUgZXhwcmVzc2lvbiB2YWx1ZVxuICAgIGV4cHIudmFsdWUgPSB2YWx1ZTtcbiAgICBleHByLndhc1BhcnNlZE9uY2UgPSB0cnVlO1xuXG4gICAgLy8gaWYgdGhlIHZhbHVlIGlzIGFuIG9iamVjdCAoYW5kIGl0J3Mgbm90IGEgc3R5bGUgb3IgY2xhc3MgYXR0cmlidXRlKSB3ZSBjYW4gbm90IGRvIG11Y2ggbW9yZSB3aXRoIGl0XG4gICAgaWYgKGlzT2JqICYmICFpc0NsYXNzQXR0ciAmJiAhaXNTdHlsZUF0dHIgJiYgIWlzVG9nZ2xlKSB7IHJldHVybiB9XG4gICAgLy8gYXZvaWQgdG8gcmVuZGVyIHVuZGVmaW5lZC9udWxsIHZhbHVlc1xuICAgIGlmICghaGFzVmFsdWUpIHsgdmFsdWUgPSAnJzsgfVxuXG4gICAgLy8gdGV4dGFyZWEgYW5kIHRleHQgbm9kZXMgaGF2ZSBubyBhdHRyaWJ1dGUgbmFtZVxuICAgIGlmICghYXR0ck5hbWUpIHtcbiAgICAgIC8vIGFib3V0ICM4MTUgdy9vIHJlcGxhY2U6IHRoZSBicm93c2VyIGNvbnZlcnRzIHRoZSB2YWx1ZSB0byBhIHN0cmluZyxcbiAgICAgIC8vIHRoZSBjb21wYXJpc29uIGJ5IFwiPT1cIiBkb2VzIHRvbywgYnV0IG5vdCBpbiB0aGUgc2VydmVyXG4gICAgICB2YWx1ZSArPSAnJztcbiAgICAgIC8vIHRlc3QgZm9yIHBhcmVudCBhdm9pZHMgZXJyb3Igd2l0aCBpbnZhbGlkIGFzc2lnbm1lbnQgdG8gbm9kZVZhbHVlXG4gICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIC8vIGNhY2hlIHRoZSBwYXJlbnQgbm9kZSBiZWNhdXNlIHNvbWVob3cgaXQgd2lsbCBiZWNvbWUgbnVsbCBvbiBJRVxuICAgICAgICAvLyBvbiB0aGUgbmV4dCBpdGVyYXRpb25cbiAgICAgICAgZXhwci5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIGlmIChwYXJlbnQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgIHBhcmVudC52YWx1ZSA9IHZhbHVlOyAgICAgICAgICAgICAgICAgICAgLy8gIzExMTNcbiAgICAgICAgICBpZiAoIUlFX1ZFUlNJT04pIHsgZG9tLm5vZGVWYWx1ZSA9IHZhbHVlOyB9ICAvLyAjMTYyNSBJRSB0aHJvd3MgaGVyZSwgbm9kZVZhbHVlXG4gICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdpbGwgYmUgYXZhaWxhYmxlIG9uICd1cGRhdGVkJ1xuICAgICAgICBlbHNlIHsgZG9tLm5vZGVWYWx1ZSA9IHZhbHVlOyB9XG4gICAgICB9XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAvLyBoYW5kbGUgZXZlbnRzIGJpbmRpbmdcbiAgICBjYXNlIGlzRnVuY3Rpb24odmFsdWUpOlxuICAgICAgaWYgKGlzRXZlbnRBdHRyaWJ1dGUoYXR0ck5hbWUpKSB7XG4gICAgICAgIHNldEV2ZW50SGFuZGxlcihhdHRyTmFtZSwgdmFsdWUsIGRvbSwgdGhpcyk7XG4gICAgICB9XG4gICAgICBicmVha1xuICAgIC8vIHNob3cgLyBoaWRlXG4gICAgY2FzZSBpc1RvZ2dsZTpcbiAgICAgIHRvZ2dsZVZpc2liaWxpdHkoZG9tLCBhdHRyTmFtZSA9PT0gSElERV9ESVJFQ1RJVkUgPyAhdmFsdWUgOiB2YWx1ZSk7XG4gICAgICBicmVha1xuICAgIC8vIGhhbmRsZSBhdHRyaWJ1dGVzXG4gICAgZGVmYXVsdDpcbiAgICAgIGlmIChleHByLmJvb2wpIHtcbiAgICAgICAgZG9tW2F0dHJOYW1lXSA9IHZhbHVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNWYWx1ZUF0dHIgJiYgZG9tLnZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICBkb20udmFsdWUgPSB2YWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAoaGFzVmFsdWUgJiYgdmFsdWUgIT09IGZhbHNlKSB7XG4gICAgICAgIHNldEF0dHJpYnV0ZShkb20sIGF0dHJOYW1lLCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIG1ha2Ugc3VyZSB0aGF0IGluIGNhc2Ugb2Ygc3R5bGUgY2hhbmdlc1xuICAgICAgLy8gdGhlIGVsZW1lbnQgc3RheXMgaGlkZGVuXG4gICAgICBpZiAoaXNTdHlsZUF0dHIgJiYgZG9tLmhpZGRlbikgeyB0b2dnbGVWaXNpYmlsaXR5KGRvbSwgZmFsc2UpOyB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBhbGwgdGhlIGV4cHJlc3Npb25zIGluIGEgVGFnIGluc3RhbmNlXG4gICAqIEB0aGlzIFRhZ1xuICAgKiBAcGFyYW0geyBBcnJheSB9IGV4cHJlc3Npb25zIC0gZXhwcmVzc2lvbiB0aGF0IG11c3QgYmUgcmUgZXZhbHVhdGVkXG4gICAqL1xuICBmdW5jdGlvbiB1cGRhdGUoZXhwcmVzc2lvbnMpIHtcbiAgICBlYWNoKGV4cHJlc3Npb25zLCB1cGRhdGVFeHByZXNzaW9uLmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdlIG5lZWQgdG8gdXBkYXRlIG9wdHMgZm9yIHRoaXMgdGFnLiBUaGF0IHJlcXVpcmVzIHVwZGF0aW5nIHRoZSBleHByZXNzaW9uc1xuICAgKiBpbiBhbnkgYXR0cmlidXRlcyBvbiB0aGUgdGFnLCBhbmQgdGhlbiBjb3B5aW5nIHRoZSByZXN1bHQgb250byBvcHRzLlxuICAgKiBAdGhpcyBUYWdcbiAgICogQHBhcmFtICAge0Jvb2xlYW59IGlzTG9vcCAtIGlzIGl0IGEgbG9vcCB0YWc/XG4gICAqIEBwYXJhbSAgIHsgVGFnIH0gIHBhcmVudCAtIHBhcmVudCB0YWcgbm9kZVxuICAgKiBAcGFyYW0gICB7IEJvb2xlYW4gfSAgaXNBbm9ueW1vdXMgLSBpcyBpdCBhIHRhZyB3aXRob3V0IGFueSBpbXBsPyAoYSB0YWcgbm90IHJlZ2lzdGVyZWQpXG4gICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gIG9wdHMgLSB0YWcgb3B0aW9uc1xuICAgKiBAcGFyYW0gICB7IEFycmF5IH0gIGluc3RBdHRycyAtIHRhZyBhdHRyaWJ1dGVzIGFycmF5XG4gICAqL1xuICBmdW5jdGlvbiB1cGRhdGVPcHRzKGlzTG9vcCwgcGFyZW50LCBpc0Fub255bW91cywgb3B0cywgaW5zdEF0dHJzKSB7XG4gICAgLy8gaXNBbm9ueW1vdXMgYGVhY2hgIHRhZ3MgdHJlYXQgYGRvbWAgYW5kIGByb290YCBkaWZmZXJlbnRseS4gSW4gdGhpcyBjYXNlXG4gICAgLy8gKGFuZCBvbmx5IHRoaXMgY2FzZSkgd2UgZG9uJ3QgbmVlZCB0byBkbyB1cGRhdGVPcHRzLCBiZWNhdXNlIHRoZSByZWd1bGFyIHBhcnNlXG4gICAgLy8gd2lsbCB1cGRhdGUgdGhvc2UgYXR0cnMuIFBsdXMsIGlzQW5vbnltb3VzIHRhZ3MgZG9uJ3QgbmVlZCBvcHRzIGFueXdheVxuICAgIGlmIChpc0xvb3AgJiYgaXNBbm9ueW1vdXMpIHsgcmV0dXJuIH1cbiAgICB2YXIgY3R4ID0gaXNMb29wID8gaW5oZXJpdFBhcmVudFByb3BzLmNhbGwodGhpcykgOiBwYXJlbnQgfHwgdGhpcztcblxuICAgIGVhY2goaW5zdEF0dHJzLCBmdW5jdGlvbiAoYXR0cikge1xuICAgICAgaWYgKGF0dHIuZXhwcikgeyB1cGRhdGVFeHByZXNzaW9uLmNhbGwoY3R4LCBhdHRyLmV4cHIpOyB9XG4gICAgICAvLyBub3JtYWxpemUgdGhlIGF0dHJpYnV0ZSBuYW1lc1xuICAgICAgb3B0c1t0b0NhbWVsKGF0dHIubmFtZSkucmVwbGFjZShBVFRSU19QUkVGSVgsICcnKV0gPSBhdHRyLmV4cHIgPyBhdHRyLmV4cHIudmFsdWUgOiBhdHRyLnZhbHVlO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgdGFnIGV4cHJlc3Npb25zIGFuZCBvcHRpb25zXG4gICAqIEBwYXJhbSB7IFRhZyB9IHRhZyAtIHRhZyBvYmplY3RcbiAgICogQHBhcmFtIHsgKiB9IGRhdGEgLSBkYXRhIHdlIHdhbnQgdG8gdXNlIHRvIGV4dGVuZCB0aGUgdGFnIHByb3BlcnRpZXNcbiAgICogQHBhcmFtIHsgQXJyYXkgfSBleHByZXNzaW9ucyAtIGNvbXBvbmVudCBleHByZXNzaW9ucyBhcnJheVxuICAgKiBAcmV0dXJucyB7IFRhZyB9IHRoZSBjdXJyZW50IHRhZyBpbnN0YW5jZVxuICAgKi9cbiAgZnVuY3Rpb24gY29tcG9uZW50VXBkYXRlKHRhZywgZGF0YSwgZXhwcmVzc2lvbnMpIHtcbiAgICB2YXIgX18gPSB0YWcuX187XG4gICAgdmFyIG5leHRPcHRzID0ge307XG4gICAgdmFyIGNhblRyaWdnZXIgPSB0YWcuaXNNb3VudGVkICYmICFfXy5za2lwQW5vbnltb3VzO1xuXG4gICAgLy8gaW5oZXJpdCBwcm9wZXJ0aWVzIGZyb20gdGhlIHBhcmVudCB0YWdcbiAgICBpZiAoX18uaXNBbm9ueW1vdXMgJiYgX18ucGFyZW50KSB7IGV4dGVuZCh0YWcsIF9fLnBhcmVudCk7IH1cbiAgICBleHRlbmQodGFnLCBkYXRhKTtcblxuICAgIHVwZGF0ZU9wdHMuYXBwbHkodGFnLCBbX18uaXNMb29wLCBfXy5wYXJlbnQsIF9fLmlzQW5vbnltb3VzLCBuZXh0T3B0cywgX18uaW5zdEF0dHJzXSk7XG5cbiAgICBpZiAoXG4gICAgICBjYW5UcmlnZ2VyICYmXG4gICAgICB0YWcuaXNNb3VudGVkICYmXG4gICAgICBpc0Z1bmN0aW9uKHRhZy5zaG91bGRVcGRhdGUpICYmICF0YWcuc2hvdWxkVXBkYXRlKGRhdGEsIG5leHRPcHRzKVxuICAgICkge1xuICAgICAgcmV0dXJuIHRhZ1xuICAgIH1cblxuICAgIGV4dGVuZCh0YWcub3B0cywgbmV4dE9wdHMpO1xuXG4gICAgaWYgKGNhblRyaWdnZXIpIHsgdGFnLnRyaWdnZXIoJ3VwZGF0ZScsIGRhdGEpOyB9XG4gICAgdXBkYXRlLmNhbGwodGFnLCBleHByZXNzaW9ucyk7XG4gICAgaWYgKGNhblRyaWdnZXIpIHsgdGFnLnRyaWdnZXIoJ3VwZGF0ZWQnKTsgfVxuXG4gICAgcmV0dXJuIHRhZ1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBzZWxlY3RvcnMgZm9yIHRhZ3NcbiAgICogQHBhcmFtICAgeyBBcnJheSB9IHRhZ3MgLSB0YWcgbmFtZXMgdG8gc2VsZWN0XG4gICAqIEByZXR1cm5zIHsgU3RyaW5nIH0gc2VsZWN0b3JcbiAgICovXG4gIGZ1bmN0aW9uIHF1ZXJ5KHRhZ3MpIHtcbiAgICAvLyBzZWxlY3QgYWxsIHRhZ3NcbiAgICBpZiAoIXRhZ3MpIHtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoX19UQUdfSU1QTCk7XG4gICAgICByZXR1cm4ga2V5cyArIHF1ZXJ5KGtleXMpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRhZ3NcbiAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHQpIHsgcmV0dXJuICEvW14tXFx3XS8udGVzdCh0KTsgfSlcbiAgICAgIC5yZWR1Y2UoZnVuY3Rpb24gKGxpc3QsIHQpIHtcbiAgICAgICAgdmFyIG5hbWUgPSB0LnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICByZXR1cm4gbGlzdCArIFwiLFtcIiArIElTX0RJUkVDVElWRSArIFwiPVxcXCJcIiArIG5hbWUgKyBcIlxcXCJdXCJcbiAgICAgIH0sICcnKVxuICB9XG5cbiAgLyoqXG4gICAqIEFub3RoZXIgd2F5IHRvIGNyZWF0ZSBhIHJpb3QgdGFnIGEgYml0IG1vcmUgZXM2IGZyaWVuZGx5XG4gICAqIEBwYXJhbSB7IEhUTUxFbGVtZW50IH0gZWwgLSB0YWcgRE9NIHNlbGVjdG9yIG9yIERPTSBub2RlL3NcbiAgICogQHBhcmFtIHsgT2JqZWN0IH0gb3B0cyAtIHRhZyBsb2dpY1xuICAgKiBAcmV0dXJucyB7IFRhZyB9IG5ldyByaW90IHRhZyBpbnN0YW5jZVxuICAgKi9cbiAgZnVuY3Rpb24gVGFnKGVsLCBvcHRzKSB7XG4gICAgLy8gZ2V0IHRoZSB0YWcgcHJvcGVydGllcyBmcm9tIHRoZSBjbGFzcyBjb25zdHJ1Y3RvclxuICAgIHZhciByZWYgPSB0aGlzO1xuICAgIHZhciBuYW1lID0gcmVmLm5hbWU7XG4gICAgdmFyIHRtcGwgPSByZWYudG1wbDtcbiAgICB2YXIgY3NzID0gcmVmLmNzcztcbiAgICB2YXIgYXR0cnMgPSByZWYuYXR0cnM7XG4gICAgdmFyIG9uQ3JlYXRlID0gcmVmLm9uQ3JlYXRlO1xuICAgIC8vIHJlZ2lzdGVyIGEgbmV3IHRhZyBhbmQgY2FjaGUgdGhlIGNsYXNzIHByb3RvdHlwZVxuICAgIGlmICghX19UQUdfSU1QTFtuYW1lXSkge1xuICAgICAgdGFnKG5hbWUsIHRtcGwsIGNzcywgYXR0cnMsIG9uQ3JlYXRlKTtcbiAgICAgIC8vIGNhY2hlIHRoZSBjbGFzcyBjb25zdHJ1Y3RvclxuICAgICAgX19UQUdfSU1QTFtuYW1lXS5jbGFzcyA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgfVxuXG4gICAgLy8gbW91bnQgdGhlIHRhZyB1c2luZyB0aGUgY2xhc3MgaW5zdGFuY2VcbiAgICBtb3VudCQxKGVsLCBuYW1lLCBvcHRzLCB0aGlzKTtcbiAgICAvLyBpbmplY3QgdGhlIGNvbXBvbmVudCBjc3NcbiAgICBpZiAoY3NzKSB7IHN0eWxlTWFuYWdlci5pbmplY3QoKTsgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgcmlvdCB0YWcgaW1wbGVtZW50YXRpb25cbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSAgIG5hbWUgLSBuYW1lL2lkIG9mIHRoZSBuZXcgcmlvdCB0YWdcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSAgIHRtcGwgLSB0YWcgdGVtcGxhdGVcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSAgIGNzcyAtIGN1c3RvbSB0YWcgY3NzXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gICBhdHRycyAtIHJvb3QgdGFnIGF0dHJpYnV0ZXNcbiAgICogQHBhcmFtICAgeyBGdW5jdGlvbiB9IGZuIC0gdXNlciBmdW5jdGlvblxuICAgKiBAcmV0dXJucyB7IFN0cmluZyB9IG5hbWUvaWQgb2YgdGhlIHRhZyBqdXN0IGNyZWF0ZWRcbiAgICovXG4gIGZ1bmN0aW9uIHRhZyhuYW1lLCB0bXBsLCBjc3MsIGF0dHJzLCBmbikge1xuICAgIGlmIChpc0Z1bmN0aW9uKGF0dHJzKSkge1xuICAgICAgZm4gPSBhdHRycztcblxuICAgICAgaWYgKC9eW1xcdy1dK1xccz89Ly50ZXN0KGNzcykpIHtcbiAgICAgICAgYXR0cnMgPSBjc3M7XG4gICAgICAgIGNzcyA9ICcnO1xuICAgICAgfSBlbHNlXG4gICAgICAgIHsgYXR0cnMgPSAnJzsgfVxuICAgIH1cblxuICAgIGlmIChjc3MpIHtcbiAgICAgIGlmIChpc0Z1bmN0aW9uKGNzcykpXG4gICAgICAgIHsgZm4gPSBjc3M7IH1cbiAgICAgIGVsc2VcbiAgICAgICAgeyBzdHlsZU1hbmFnZXIuYWRkKGNzcywgbmFtZSk7IH1cbiAgICB9XG5cbiAgICBuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIF9fVEFHX0lNUExbbmFtZV0gPSB7IG5hbWU6IG5hbWUsIHRtcGw6IHRtcGwsIGF0dHJzOiBhdHRycywgZm46IGZuIH07XG5cbiAgICByZXR1cm4gbmFtZVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyByaW90IHRhZyBpbXBsZW1lbnRhdGlvbiAoZm9yIHVzZSBieSB0aGUgY29tcGlsZXIpXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gICBuYW1lIC0gbmFtZS9pZCBvZiB0aGUgbmV3IHJpb3QgdGFnXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gICB0bXBsIC0gdGFnIHRlbXBsYXRlXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gICBjc3MgLSBjdXN0b20gdGFnIGNzc1xuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9ICAgYXR0cnMgLSByb290IHRhZyBhdHRyaWJ1dGVzXG4gICAqIEBwYXJhbSAgIHsgRnVuY3Rpb24gfSBmbiAtIHVzZXIgZnVuY3Rpb25cbiAgICogQHJldHVybnMgeyBTdHJpbmcgfSBuYW1lL2lkIG9mIHRoZSB0YWcganVzdCBjcmVhdGVkXG4gICAqL1xuICBmdW5jdGlvbiB0YWcyKG5hbWUsIHRtcGwsIGNzcywgYXR0cnMsIGZuKSB7XG4gICAgaWYgKGNzcykgeyBzdHlsZU1hbmFnZXIuYWRkKGNzcywgbmFtZSk7IH1cblxuICAgIF9fVEFHX0lNUExbbmFtZV0gPSB7IG5hbWU6IG5hbWUsIHRtcGw6IHRtcGwsIGF0dHJzOiBhdHRycywgZm46IGZuIH07XG5cbiAgICByZXR1cm4gbmFtZVxuICB9XG5cbiAgLyoqXG4gICAqIE1vdW50IGEgdGFnIHVzaW5nIGEgc3BlY2lmaWMgdGFnIGltcGxlbWVudGF0aW9uXG4gICAqIEBwYXJhbSAgIHsgKiB9IHNlbGVjdG9yIC0gdGFnIERPTSBzZWxlY3RvciBvciBET00gbm9kZS9zXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gdGFnTmFtZSAtIHRhZyBpbXBsZW1lbnRhdGlvbiBuYW1lXG4gICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gb3B0cyAtIHRhZyBsb2dpY1xuICAgKiBAcmV0dXJucyB7IEFycmF5IH0gbmV3IHRhZ3MgaW5zdGFuY2VzXG4gICAqL1xuICBmdW5jdGlvbiBtb3VudChzZWxlY3RvciwgdGFnTmFtZSwgb3B0cykge1xuICAgIHZhciB0YWdzID0gW107XG4gICAgdmFyIGVsZW0sIGFsbFRhZ3M7XG5cbiAgICBmdW5jdGlvbiBwdXNoVGFnc1RvKHJvb3QpIHtcbiAgICAgIGlmIChyb290LnRhZ05hbWUpIHtcbiAgICAgICAgdmFyIHJpb3RUYWcgPSBnZXRBdHRyaWJ1dGUocm9vdCwgSVNfRElSRUNUSVZFKSwgdGFnO1xuXG4gICAgICAgIC8vIGhhdmUgdGFnTmFtZT8gZm9yY2UgcmlvdC10YWcgdG8gYmUgdGhlIHNhbWVcbiAgICAgICAgaWYgKHRhZ05hbWUgJiYgcmlvdFRhZyAhPT0gdGFnTmFtZSkge1xuICAgICAgICAgIHJpb3RUYWcgPSB0YWdOYW1lO1xuICAgICAgICAgIHNldEF0dHJpYnV0ZShyb290LCBJU19ESVJFQ1RJVkUsIHRhZ05hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFnID0gbW91bnQkMShcbiAgICAgICAgICByb290LFxuICAgICAgICAgIHJpb3RUYWcgfHwgcm9vdC50YWdOYW1lLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgaXNGdW5jdGlvbihvcHRzKSA/IG9wdHMoKSA6IG9wdHNcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAodGFnKVxuICAgICAgICAgIHsgdGFncy5wdXNoKHRhZyk7IH1cbiAgICAgIH0gZWxzZSBpZiAocm9vdC5sZW5ndGgpXG4gICAgICAgIHsgZWFjaChyb290LCBwdXNoVGFnc1RvKTsgfSAvLyBhc3N1bWUgbm9kZUxpc3RcbiAgICB9XG5cbiAgICAvLyBpbmplY3Qgc3R5bGVzIGludG8gRE9NXG4gICAgc3R5bGVNYW5hZ2VyLmluamVjdCgpO1xuXG4gICAgaWYgKGlzT2JqZWN0KHRhZ05hbWUpIHx8IGlzRnVuY3Rpb24odGFnTmFtZSkpIHtcbiAgICAgIG9wdHMgPSB0YWdOYW1lO1xuICAgICAgdGFnTmFtZSA9IDA7XG4gICAgfVxuXG4gICAgLy8gY3Jhd2wgdGhlIERPTSB0byBmaW5kIHRoZSB0YWdcbiAgICBpZiAoaXNTdHJpbmcoc2VsZWN0b3IpKSB7XG4gICAgICBzZWxlY3RvciA9IHNlbGVjdG9yID09PSAnKicgP1xuICAgICAgICAvLyBzZWxlY3QgYWxsIHJlZ2lzdGVyZWQgdGFnc1xuICAgICAgICAvLyAmIHRhZ3MgZm91bmQgd2l0aCB0aGUgcmlvdC10YWcgYXR0cmlidXRlIHNldFxuICAgICAgICBhbGxUYWdzID0gcXVlcnkoKSA6XG4gICAgICAgIC8vIG9yIGp1c3QgdGhlIG9uZXMgbmFtZWQgbGlrZSB0aGUgc2VsZWN0b3JcbiAgICAgICAgc2VsZWN0b3IgKyBxdWVyeShzZWxlY3Rvci5zcGxpdCgvLCAqLykpO1xuXG4gICAgICAvLyBtYWtlIHN1cmUgdG8gcGFzcyBhbHdheXMgYSBzZWxlY3RvclxuICAgICAgLy8gdG8gdGhlIHF1ZXJ5U2VsZWN0b3JBbGwgZnVuY3Rpb25cbiAgICAgIGVsZW0gPSBzZWxlY3RvciA/ICQkKHNlbGVjdG9yKSA6IFtdO1xuICAgIH1cbiAgICBlbHNlXG4gICAgICAvLyBwcm9iYWJseSB5b3UgaGF2ZSBwYXNzZWQgYWxyZWFkeSBhIHRhZyBvciBhIE5vZGVMaXN0XG4gICAgICB7IGVsZW0gPSBzZWxlY3RvcjsgfVxuXG4gICAgLy8gc2VsZWN0IGFsbCB0aGUgcmVnaXN0ZXJlZCBhbmQgbW91bnQgdGhlbSBpbnNpZGUgdGhlaXIgcm9vdCBlbGVtZW50c1xuICAgIGlmICh0YWdOYW1lID09PSAnKicpIHtcbiAgICAgIC8vIGdldCBhbGwgY3VzdG9tIHRhZ3NcbiAgICAgIHRhZ05hbWUgPSBhbGxUYWdzIHx8IHF1ZXJ5KCk7XG4gICAgICAvLyBpZiB0aGUgcm9vdCBlbHMgaXQncyBqdXN0IGEgc2luZ2xlIHRhZ1xuICAgICAgaWYgKGVsZW0udGFnTmFtZSlcbiAgICAgICAgeyBlbGVtID0gJCQodGFnTmFtZSwgZWxlbSk7IH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBzZWxlY3QgYWxsIHRoZSBjaGlsZHJlbiBmb3IgYWxsIHRoZSBkaWZmZXJlbnQgcm9vdCBlbGVtZW50c1xuICAgICAgICB2YXIgbm9kZUxpc3QgPSBbXTtcblxuICAgICAgICBlYWNoKGVsZW0sIGZ1bmN0aW9uIChfZWwpIHsgcmV0dXJuIG5vZGVMaXN0LnB1c2goJCQodGFnTmFtZSwgX2VsKSk7IH0pO1xuXG4gICAgICAgIGVsZW0gPSBub2RlTGlzdDtcbiAgICAgIH1cbiAgICAgIC8vIGdldCByaWQgb2YgdGhlIHRhZ05hbWVcbiAgICAgIHRhZ05hbWUgPSAwO1xuICAgIH1cblxuICAgIHB1c2hUYWdzVG8oZWxlbSk7XG5cbiAgICByZXR1cm4gdGFnc1xuICB9XG5cbiAgLy8gQ3JlYXRlIGEgbWl4aW4gdGhhdCBjb3VsZCBiZSBnbG9iYWxseSBzaGFyZWQgYWNyb3NzIGFsbCB0aGUgdGFnc1xuICB2YXIgbWl4aW5zID0ge307XG4gIHZhciBnbG9iYWxzID0gbWl4aW5zW0dMT0JBTF9NSVhJTl0gPSB7fTtcbiAgdmFyIG1peGluc19pZCA9IDA7XG5cbiAgLyoqXG4gICAqIENyZWF0ZS9SZXR1cm4gYSBtaXhpbiBieSBpdHMgbmFtZVxuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9ICBuYW1lIC0gbWl4aW4gbmFtZSAoZ2xvYmFsIG1peGluIGlmIG9iamVjdClcbiAgICogQHBhcmFtICAgeyBPYmplY3QgfSAgbWl4IC0gbWl4aW4gbG9naWNcbiAgICogQHBhcmFtICAgeyBCb29sZWFuIH0gZyAtIGlzIGdsb2JhbD9cbiAgICogQHJldHVybnMgeyBPYmplY3QgfSAgdGhlIG1peGluIGxvZ2ljXG4gICAqL1xuICBmdW5jdGlvbiBtaXhpbihuYW1lLCBtaXgsIGcpIHtcbiAgICAvLyBVbm5hbWVkIGdsb2JhbFxuICAgIGlmIChpc09iamVjdChuYW1lKSkge1xuICAgICAgbWl4aW4oKFwiX19cIiArIChtaXhpbnNfaWQrKykgKyBcIl9fXCIpLCBuYW1lLCB0cnVlKTtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHZhciBzdG9yZSA9IGcgPyBnbG9iYWxzIDogbWl4aW5zO1xuXG4gICAgLy8gR2V0dGVyXG4gICAgaWYgKCFtaXgpIHtcbiAgICAgIGlmIChpc1VuZGVmaW5lZChzdG9yZVtuYW1lXSkpXG4gICAgICAgIHsgdGhyb3cgbmV3IEVycm9yKChcIlVucmVnaXN0ZXJlZCBtaXhpbjogXCIgKyBuYW1lKSkgfVxuXG4gICAgICByZXR1cm4gc3RvcmVbbmFtZV1cbiAgICB9XG5cbiAgICAvLyBTZXR0ZXJcbiAgICBzdG9yZVtuYW1lXSA9IGlzRnVuY3Rpb24obWl4KSA/XG4gICAgICBleHRlbmQobWl4LnByb3RvdHlwZSwgc3RvcmVbbmFtZV0gfHwge30pICYmIG1peCA6XG4gICAgICBleHRlbmQoc3RvcmVbbmFtZV0gfHwge30sIG1peCk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGFsbCB0aGUgdGFncyBpbnN0YW5jZXMgY3JlYXRlZFxuICAgKiBAcmV0dXJucyB7IEFycmF5IH0gYWxsIHRoZSB0YWdzIGluc3RhbmNlc1xuICAgKi9cbiAgZnVuY3Rpb24gdXBkYXRlJDEoKSB7XG4gICAgcmV0dXJuIGVhY2goX19UQUdTX0NBQ0hFLCBmdW5jdGlvbiAodGFnKSB7IHJldHVybiB0YWcudXBkYXRlKCk7IH0pXG4gIH1cblxuICBmdW5jdGlvbiB1bnJlZ2lzdGVyKG5hbWUpIHtcbiAgICBzdHlsZU1hbmFnZXIucmVtb3ZlKG5hbWUpO1xuICAgIHJldHVybiBkZWxldGUgX19UQUdfSU1QTFtuYW1lXVxuICB9XG5cbiAgdmFyIHZlcnNpb24gPSAndjMuMTMuMic7XG5cbiAgdmFyIGNvcmUgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gICAgVGFnOiBUYWcsXG4gICAgdGFnOiB0YWcsXG4gICAgdGFnMjogdGFnMixcbiAgICBtb3VudDogbW91bnQsXG4gICAgbWl4aW46IG1peGluLFxuICAgIHVwZGF0ZTogdXBkYXRlJDEsXG4gICAgdW5yZWdpc3RlcjogdW5yZWdpc3RlcixcbiAgICB2ZXJzaW9uOiB2ZXJzaW9uXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBBZGQgYSBtaXhpbiB0byB0aGlzIHRhZ1xuICAgKiBAcmV0dXJucyB7IFRhZyB9IHRoZSBjdXJyZW50IHRhZyBpbnN0YW5jZVxuICAgKi9cbiAgZnVuY3Rpb24gY29tcG9uZW50TWl4aW4odGFnJCQxKSB7XG4gICAgdmFyIG1peGlucyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMTtcbiAgICB3aGlsZSAoIGxlbi0tID4gMCApIG1peGluc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDEgXTtcblxuICAgIGVhY2gobWl4aW5zLCBmdW5jdGlvbiAobWl4KSB7XG4gICAgICB2YXIgaW5zdGFuY2U7XG4gICAgICB2YXIgb2JqO1xuICAgICAgdmFyIHByb3BzID0gW107XG5cbiAgICAgIC8vIHByb3BlcnRpZXMgYmxhY2tsaXN0ZWQgYW5kIHdpbGwgbm90IGJlIGJvdW5kIHRvIHRoZSB0YWcgaW5zdGFuY2VcbiAgICAgIHZhciBwcm9wc0JsYWNrbGlzdCA9IFsnaW5pdCcsICdfX3Byb3RvX18nXTtcblxuICAgICAgbWl4ID0gaXNTdHJpbmcobWl4KSA/IG1peGluKG1peCkgOiBtaXg7XG5cbiAgICAgIC8vIGNoZWNrIGlmIHRoZSBtaXhpbiBpcyBhIGZ1bmN0aW9uXG4gICAgICBpZiAoaXNGdW5jdGlvbihtaXgpKSB7XG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgbmV3IG1peGluIGluc3RhbmNlXG4gICAgICAgIGluc3RhbmNlID0gbmV3IG1peCgpO1xuICAgICAgfSBlbHNlIHsgaW5zdGFuY2UgPSBtaXg7IH1cblxuICAgICAgdmFyIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGluc3RhbmNlKTtcblxuICAgICAgLy8gYnVpbGQgbXVsdGlsZXZlbCBwcm90b3R5cGUgaW5oZXJpdGFuY2UgY2hhaW4gcHJvcGVydHkgbGlzdFxuICAgICAgZG8geyBwcm9wcyA9IHByb3BzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmogfHwgaW5zdGFuY2UpKTsgfVxuICAgICAgd2hpbGUgKG9iaiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmogfHwgaW5zdGFuY2UpKVxuXG4gICAgICAvLyBsb29wIHRoZSBrZXlzIGluIHRoZSBmdW5jdGlvbiBwcm90b3R5cGUgb3IgdGhlIGFsbCBvYmplY3Qga2V5c1xuICAgICAgZWFjaChwcm9wcywgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAvLyBiaW5kIG1ldGhvZHMgdG8gdGFnXG4gICAgICAgIC8vIGFsbG93IG1peGlucyB0byBvdmVycmlkZSBvdGhlciBwcm9wZXJ0aWVzL3BhcmVudCBtaXhpbnNcbiAgICAgICAgaWYgKCFjb250YWlucyhwcm9wc0JsYWNrbGlzdCwga2V5KSkge1xuICAgICAgICAgIC8vIGNoZWNrIGZvciBnZXR0ZXJzL3NldHRlcnNcbiAgICAgICAgICB2YXIgZGVzY3JpcHRvciA9IGdldFByb3BEZXNjcmlwdG9yKGluc3RhbmNlLCBrZXkpIHx8IGdldFByb3BEZXNjcmlwdG9yKHByb3RvLCBrZXkpO1xuICAgICAgICAgIHZhciBoYXNHZXR0ZXJTZXR0ZXIgPSBkZXNjcmlwdG9yICYmIChkZXNjcmlwdG9yLmdldCB8fCBkZXNjcmlwdG9yLnNldCk7XG5cbiAgICAgICAgICAvLyBhcHBseSBtZXRob2Qgb25seSBpZiBpdCBkb2VzIG5vdCBhbHJlYWR5IGV4aXN0IG9uIHRoZSBpbnN0YW5jZVxuICAgICAgICAgIGlmICghdGFnJCQxLmhhc093blByb3BlcnR5KGtleSkgJiYgaGFzR2V0dGVyU2V0dGVyKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFnJCQxLCBrZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YWckJDFba2V5XSA9IGlzRnVuY3Rpb24oaW5zdGFuY2Vba2V5XSkgP1xuICAgICAgICAgICAgICBpbnN0YW5jZVtrZXldLmJpbmQodGFnJCQxKSA6XG4gICAgICAgICAgICAgIGluc3RhbmNlW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gaW5pdCBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgYXV0b21hdGljYWxseVxuICAgICAgaWYgKGluc3RhbmNlLmluaXQpXG4gICAgICAgIHsgaW5zdGFuY2UuaW5pdC5iaW5kKHRhZyQkMSkodGFnJCQxLm9wdHMpOyB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGFnJCQxXG4gIH1cblxuICAvKipcbiAgICogTW92ZSB0aGUgcG9zaXRpb24gb2YgYSBjdXN0b20gdGFnIGluIGl0cyBwYXJlbnQgdGFnXG4gICAqIEB0aGlzIFRhZ1xuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9IHRhZ05hbWUgLSBrZXkgd2hlcmUgdGhlIHRhZyB3YXMgc3RvcmVkXG4gICAqIEBwYXJhbSAgIHsgTnVtYmVyIH0gbmV3UG9zIC0gaW5kZXggd2hlcmUgdGhlIG5ldyB0YWcgd2lsbCBiZSBzdG9yZWRcbiAgICovXG4gIGZ1bmN0aW9uIG1vdmVDaGlsZCh0YWdOYW1lLCBuZXdQb3MpIHtcbiAgICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnQ7XG4gICAgdmFyIHRhZ3M7XG4gICAgLy8gbm8gcGFyZW50IG5vIG1vdmVcbiAgICBpZiAoIXBhcmVudCkgeyByZXR1cm4gfVxuXG4gICAgdGFncyA9IHBhcmVudC50YWdzW3RhZ05hbWVdO1xuXG4gICAgaWYgKGlzQXJyYXkodGFncykpXG4gICAgICB7IHRhZ3Muc3BsaWNlKG5ld1BvcywgMCwgdGFncy5zcGxpY2UodGFncy5pbmRleE9mKHRoaXMpLCAxKVswXSk7IH1cbiAgICBlbHNlIHsgYXJyYXlpc2hBZGQocGFyZW50LnRhZ3MsIHRhZ05hbWUsIHRoaXMpOyB9XG4gIH1cblxuICAvKipcbiAgICogTW92ZSB2aXJ0dWFsIHRhZyBhbmQgYWxsIGNoaWxkIG5vZGVzXG4gICAqIEB0aGlzIFRhZ1xuICAgKiBAcGFyYW0geyBOb2RlIH0gc3JjICAtIHRoZSBub2RlIHRoYXQgd2lsbCBkbyB0aGUgaW5zZXJ0aW5nXG4gICAqIEBwYXJhbSB7IFRhZyB9IHRhcmdldCAtIGluc2VydCBiZWZvcmUgdGhpcyB0YWcncyBmaXJzdCBjaGlsZFxuICAgKi9cbiAgZnVuY3Rpb24gbW92ZVZpcnR1YWwoc3JjLCB0YXJnZXQpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBlbCA9IHRoaXMuX18uaGVhZDtcbiAgICB2YXIgc2liO1xuICAgIHZhciBmcmFnID0gY3JlYXRlRnJhZ21lbnQoKTtcblxuICAgIHdoaWxlIChlbCkge1xuICAgICAgc2liID0gZWwubmV4dFNpYmxpbmc7XG4gICAgICBmcmFnLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgIGVsID0gc2liO1xuICAgICAgaWYgKGVsID09PSB0aGlzJDEuX18udGFpbCkge1xuICAgICAgICBmcmFnLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgc3JjLmluc2VydEJlZm9yZShmcmFnLCB0YXJnZXQuX18uaGVhZCk7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnQgdGhlIGl0ZW0gbG9vcGVkIGludG8gYW4gb2JqZWN0IHVzZWQgdG8gZXh0ZW5kIHRoZSBjaGlsZCB0YWcgcHJvcGVydGllc1xuICAgKiBAcGFyYW0gICB7IE9iamVjdCB9IGV4cHIgLSBvYmplY3QgY29udGFpbmluZyB0aGUga2V5cyB1c2VkIHRvIGV4dGVuZCB0aGUgY2hpbGRyZW4gdGFnc1xuICAgKiBAcGFyYW0gICB7ICogfSBrZXkgLSB2YWx1ZSB0byBhc3NpZ24gdG8gdGhlIG5ldyBvYmplY3QgcmV0dXJuZWRcbiAgICogQHBhcmFtICAgeyAqIH0gdmFsIC0gdmFsdWUgY29udGFpbmluZyB0aGUgcG9zaXRpb24gb2YgdGhlIGl0ZW0gaW4gdGhlIGFycmF5XG4gICAqIEByZXR1cm5zIHsgT2JqZWN0IH0gLSBuZXcgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHZhbHVlcyBvZiB0aGUgb3JpZ2luYWwgaXRlbVxuICAgKlxuICAgKiBUaGUgdmFyaWFibGVzICdrZXknIGFuZCAndmFsJyBhcmUgYXJiaXRyYXJ5LlxuICAgKiBUaGV5IGRlcGVuZCBvbiB0aGUgY29sbGVjdGlvbiB0eXBlIGxvb3BlZCAoQXJyYXksIE9iamVjdClcbiAgICogYW5kIG9uIHRoZSBleHByZXNzaW9uIHVzZWQgb24gdGhlIGVhY2ggdGFnXG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBta2l0ZW0oZXhwciwga2V5LCB2YWwpIHtcbiAgICB2YXIgaXRlbSA9IHt9O1xuICAgIGl0ZW1bZXhwci5rZXldID0ga2V5O1xuICAgIGlmIChleHByLnBvcykgeyBpdGVtW2V4cHIucG9zXSA9IHZhbDsgfVxuICAgIHJldHVybiBpdGVtXG4gIH1cblxuICAvKipcbiAgICogVW5tb3VudCB0aGUgcmVkdW5kYW50IHRhZ3NcbiAgICogQHBhcmFtICAgeyBBcnJheSB9IGl0ZW1zIC0gYXJyYXkgY29udGFpbmluZyB0aGUgY3VycmVudCBpdGVtcyB0byBsb29wXG4gICAqIEBwYXJhbSAgIHsgQXJyYXkgfSB0YWdzIC0gYXJyYXkgY29udGFpbmluZyBhbGwgdGhlIGNoaWxkcmVuIHRhZ3NcbiAgICovXG4gIGZ1bmN0aW9uIHVubW91bnRSZWR1bmRhbnQoaXRlbXMsIHRhZ3MsIGZpbHRlcmVkSXRlbXNDb3VudCkge1xuICAgIHZhciBpID0gdGFncy5sZW5ndGg7XG4gICAgdmFyIGogPSBpdGVtcy5sZW5ndGggLSBmaWx0ZXJlZEl0ZW1zQ291bnQ7XG5cbiAgICB3aGlsZSAoaSA+IGopIHtcbiAgICAgIGktLTtcbiAgICAgIHJlbW92ZS5hcHBseSh0YWdzW2ldLCBbdGFncywgaV0pO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIGNoaWxkIHRhZ1xuICAgKiBAdGhpcyBUYWdcbiAgICogQHBhcmFtICAgeyBBcnJheSB9IHRhZ3MgLSB0YWdzIGNvbGxlY3Rpb25cbiAgICogQHBhcmFtICAgeyBOdW1iZXIgfSBpIC0gaW5kZXggb2YgdGhlIHRhZyB0byByZW1vdmVcbiAgICovXG4gIGZ1bmN0aW9uIHJlbW92ZSh0YWdzLCBpKSB7XG4gICAgdGFncy5zcGxpY2UoaSwgMSk7XG4gICAgdGhpcy51bm1vdW50KCk7XG4gICAgYXJyYXlpc2hSZW1vdmUodGhpcy5wYXJlbnQsIHRoaXMsIHRoaXMuX18udGFnTmFtZSwgdHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogTW92ZSB0aGUgbmVzdGVkIGN1c3RvbSB0YWdzIGluIG5vbiBjdXN0b20gbG9vcCB0YWdzXG4gICAqIEB0aGlzIFRhZ1xuICAgKiBAcGFyYW0gICB7IE51bWJlciB9IGkgLSBjdXJyZW50IHBvc2l0aW9uIG9mIHRoZSBsb29wIHRhZ1xuICAgKi9cbiAgZnVuY3Rpb24gbW92ZU5lc3RlZFRhZ3MoaSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgZWFjaChPYmplY3Qua2V5cyh0aGlzLnRhZ3MpLCBmdW5jdGlvbiAodGFnTmFtZSkge1xuICAgICAgbW92ZUNoaWxkLmFwcGx5KHRoaXMkMS50YWdzW3RhZ05hbWVdLCBbdGFnTmFtZSwgaV0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vdmUgYSBjaGlsZCB0YWdcbiAgICogQHRoaXMgVGFnXG4gICAqIEBwYXJhbSAgIHsgSFRNTEVsZW1lbnQgfSByb290IC0gZG9tIG5vZGUgY29udGFpbmluZyBhbGwgdGhlIGxvb3AgY2hpbGRyZW5cbiAgICogQHBhcmFtICAgeyBUYWcgfSBuZXh0VGFnIC0gaW5zdGFuY2Ugb2YgdGhlIG5leHQgdGFnIHByZWNlZGluZyB0aGUgb25lIHdlIHdhbnQgdG8gbW92ZVxuICAgKiBAcGFyYW0gICB7IEJvb2xlYW4gfSBpc1ZpcnR1YWwgLSBpcyBpdCBhIHZpcnR1YWwgdGFnP1xuICAgKi9cbiAgZnVuY3Rpb24gbW92ZShyb290LCBuZXh0VGFnLCBpc1ZpcnR1YWwpIHtcbiAgICBpZiAoaXNWaXJ0dWFsKVxuICAgICAgeyBtb3ZlVmlydHVhbC5hcHBseSh0aGlzLCBbcm9vdCwgbmV4dFRhZ10pOyB9XG4gICAgZWxzZVxuICAgICAgeyBzYWZlSW5zZXJ0KHJvb3QsIHRoaXMucm9vdCwgbmV4dFRhZy5yb290KTsgfVxuICB9XG5cbiAgLyoqXG4gICAqIEluc2VydCBhbmQgbW91bnQgYSBjaGlsZCB0YWdcbiAgICogQHRoaXMgVGFnXG4gICAqIEBwYXJhbSAgIHsgSFRNTEVsZW1lbnQgfSByb290IC0gZG9tIG5vZGUgY29udGFpbmluZyBhbGwgdGhlIGxvb3AgY2hpbGRyZW5cbiAgICogQHBhcmFtICAgeyBUYWcgfSBuZXh0VGFnIC0gaW5zdGFuY2Ugb2YgdGhlIG5leHQgdGFnIHByZWNlZGluZyB0aGUgb25lIHdlIHdhbnQgdG8gaW5zZXJ0XG4gICAqIEBwYXJhbSAgIHsgQm9vbGVhbiB9IGlzVmlydHVhbCAtIGlzIGl0IGEgdmlydHVhbCB0YWc/XG4gICAqL1xuICBmdW5jdGlvbiBpbnNlcnQocm9vdCwgbmV4dFRhZywgaXNWaXJ0dWFsKSB7XG4gICAgaWYgKGlzVmlydHVhbClcbiAgICAgIHsgbWFrZVZpcnR1YWwuYXBwbHkodGhpcywgW3Jvb3QsIG5leHRUYWddKTsgfVxuICAgIGVsc2VcbiAgICAgIHsgc2FmZUluc2VydChyb290LCB0aGlzLnJvb3QsIG5leHRUYWcucm9vdCk7IH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBlbmQgYSBuZXcgdGFnIGludG8gdGhlIERPTVxuICAgKiBAdGhpcyBUYWdcbiAgICogQHBhcmFtICAgeyBIVE1MRWxlbWVudCB9IHJvb3QgLSBkb20gbm9kZSBjb250YWluaW5nIGFsbCB0aGUgbG9vcCBjaGlsZHJlblxuICAgKiBAcGFyYW0gICB7IEJvb2xlYW4gfSBpc1ZpcnR1YWwgLSBpcyBpdCBhIHZpcnR1YWwgdGFnP1xuICAgKi9cbiAgZnVuY3Rpb24gYXBwZW5kKHJvb3QsIGlzVmlydHVhbCkge1xuICAgIGlmIChpc1ZpcnR1YWwpXG4gICAgICB7IG1ha2VWaXJ0dWFsLmNhbGwodGhpcywgcm9vdCk7IH1cbiAgICBlbHNlXG4gICAgICB7IHJvb3QuYXBwZW5kQ2hpbGQodGhpcy5yb290KTsgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgdmFsdWUgd2Ugd2FudCB0byB1c2UgdG8gbG9va3VwIHRoZSBwb3N0aW9uIG9mIG91ciBpdGVtcyBpbiB0aGUgY29sbGVjdGlvblxuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9ICBrZXlBdHRyICAgICAgICAgLSBsb29rdXAgc3RyaW5nIG9yIGV4cHJlc3Npb25cbiAgICogQHBhcmFtICAgeyAqIH0gICAgICAgb3JpZ2luYWxJdGVtICAgIC0gb3JpZ2luYWwgaXRlbSBmcm9tIHRoZSBjb2xsZWN0aW9uXG4gICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gIGtleWVkSXRlbSAgICAgICAtIG9iamVjdCBjcmVhdGVkIGJ5IHJpb3QgdmlhIHsgaXRlbSwgaSBpbiBjb2xsZWN0aW9uIH1cbiAgICogQHBhcmFtICAgeyBCb29sZWFuIH0gaGFzS2V5QXR0ckV4cHIgIC0gZmxhZyB0byBjaGVjayB3aGV0aGVyIHRoZSBrZXkgaXMgYW4gZXhwcmVzc2lvblxuICAgKiBAcmV0dXJucyB7ICogfSB2YWx1ZSB0aGF0IHdlIHdpbGwgdXNlIHRvIGZpZ3VyZSBvdXQgdGhlIGl0ZW0gcG9zaXRpb24gdmlhIGNvbGxlY3Rpb24uaW5kZXhPZlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0SXRlbUlkKGtleUF0dHIsIG9yaWdpbmFsSXRlbSwga2V5ZWRJdGVtLCBoYXNLZXlBdHRyRXhwcikge1xuICAgIGlmIChrZXlBdHRyKSB7XG4gICAgICByZXR1cm4gaGFzS2V5QXR0ckV4cHIgPyAgdG1wbChrZXlBdHRyLCBrZXllZEl0ZW0pIDogIG9yaWdpbmFsSXRlbVtrZXlBdHRyXVxuICAgIH1cblxuICAgIHJldHVybiBvcmlnaW5hbEl0ZW1cbiAgfVxuXG4gIC8qKlxuICAgKiBNYW5hZ2UgdGFncyBoYXZpbmcgdGhlICdlYWNoJ1xuICAgKiBAcGFyYW0gICB7IEhUTUxFbGVtZW50IH0gZG9tIC0gRE9NIG5vZGUgd2UgbmVlZCB0byBsb29wXG4gICAqIEBwYXJhbSAgIHsgVGFnIH0gcGFyZW50IC0gcGFyZW50IHRhZyBpbnN0YW5jZSB3aGVyZSB0aGUgZG9tIG5vZGUgaXMgY29udGFpbmVkXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gZXhwciAtIHN0cmluZyBjb250YWluZWQgaW4gdGhlICdlYWNoJyBhdHRyaWJ1dGVcbiAgICogQHJldHVybnMgeyBPYmplY3QgfSBleHByZXNzaW9uIG9iamVjdCBmb3IgdGhpcyBlYWNoIGxvb3BcbiAgICovXG4gIGZ1bmN0aW9uIF9lYWNoKGRvbSwgcGFyZW50LCBleHByKSB7XG4gICAgdmFyIG11c3RSZW9yZGVyID0gdHlwZW9mIGdldEF0dHJpYnV0ZShkb20sIExPT1BfTk9fUkVPUkRFUl9ESVJFQ1RJVkUpICE9PSBUX1NUUklORyB8fCByZW1vdmVBdHRyaWJ1dGUoZG9tLCBMT09QX05PX1JFT1JERVJfRElSRUNUSVZFKTtcbiAgICB2YXIga2V5QXR0ciA9IGdldEF0dHJpYnV0ZShkb20sIEtFWV9ESVJFQ1RJVkUpO1xuICAgIHZhciBoYXNLZXlBdHRyRXhwciA9IGtleUF0dHIgPyB0bXBsLmhhc0V4cHIoa2V5QXR0cikgOiBmYWxzZTtcbiAgICB2YXIgdGFnTmFtZSA9IGdldE5hbWUoZG9tKTtcbiAgICB2YXIgaW1wbCA9IF9fVEFHX0lNUExbdGFnTmFtZV07XG4gICAgdmFyIHBhcmVudE5vZGUgPSBkb20ucGFyZW50Tm9kZTtcbiAgICB2YXIgcGxhY2Vob2xkZXIgPSBjcmVhdGVET01QbGFjZWhvbGRlcigpO1xuICAgIHZhciBjaGlsZCA9IGdldChkb20pO1xuICAgIHZhciBpZkV4cHIgPSBnZXRBdHRyaWJ1dGUoZG9tLCBDT05ESVRJT05BTF9ESVJFQ1RJVkUpO1xuICAgIHZhciB0YWdzID0gW107XG4gICAgdmFyIGlzTG9vcCA9IHRydWU7XG4gICAgdmFyIGlubmVySFRNTCA9IGRvbS5pbm5lckhUTUw7XG4gICAgdmFyIGlzQW5vbnltb3VzID0gIV9fVEFHX0lNUExbdGFnTmFtZV07XG4gICAgdmFyIGlzVmlydHVhbCA9IGRvbS50YWdOYW1lID09PSAnVklSVFVBTCc7XG4gICAgdmFyIG9sZEl0ZW1zID0gW107XG5cbiAgICAvLyByZW1vdmUgdGhlIGVhY2ggcHJvcGVydHkgZnJvbSB0aGUgb3JpZ2luYWwgdGFnXG4gICAgcmVtb3ZlQXR0cmlidXRlKGRvbSwgTE9PUF9ESVJFQ1RJVkUpO1xuICAgIHJlbW92ZUF0dHJpYnV0ZShkb20sIEtFWV9ESVJFQ1RJVkUpO1xuXG4gICAgLy8gcGFyc2UgdGhlIGVhY2ggZXhwcmVzc2lvblxuICAgIGV4cHIgPSB0bXBsLmxvb3BLZXlzKGV4cHIpO1xuICAgIGV4cHIuaXNMb29wID0gdHJ1ZTtcblxuICAgIGlmIChpZkV4cHIpIHsgcmVtb3ZlQXR0cmlidXRlKGRvbSwgQ09ORElUSU9OQUxfRElSRUNUSVZFKTsgfVxuXG4gICAgLy8gaW5zZXJ0IGEgbWFya2VkIHdoZXJlIHRoZSBsb29wIHRhZ3Mgd2lsbCBiZSBpbmplY3RlZFxuICAgIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHBsYWNlaG9sZGVyLCBkb20pO1xuICAgIHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZG9tKTtcblxuICAgIGV4cHIudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlRWFjaCgpIHtcbiAgICAgIC8vIGdldCB0aGUgbmV3IGl0ZW1zIGNvbGxlY3Rpb25cbiAgICAgIGV4cHIudmFsdWUgPSB0bXBsKGV4cHIudmFsLCBwYXJlbnQpO1xuXG4gICAgICB2YXIgaXRlbXMgPSBleHByLnZhbHVlO1xuICAgICAgdmFyIGZyYWcgPSBjcmVhdGVGcmFnbWVudCgpO1xuICAgICAgdmFyIGlzT2JqZWN0ID0gIWlzQXJyYXkoaXRlbXMpICYmICFpc1N0cmluZyhpdGVtcyk7XG4gICAgICB2YXIgcm9vdCA9IHBsYWNlaG9sZGVyLnBhcmVudE5vZGU7XG4gICAgICB2YXIgdG1wSXRlbXMgPSBbXTtcbiAgICAgIHZhciBoYXNLZXlzID0gaXNPYmplY3QgJiYgISFpdGVtcztcblxuICAgICAgLy8gaWYgdGhpcyBET00gd2FzIHJlbW92ZWQgdGhlIHVwZGF0ZSBoZXJlIGlzIHVzZWxlc3NcbiAgICAgIC8vIHRoaXMgY29uZGl0aW9uIGZpeGVzIGFsc28gYSB3ZWlyZCBhc3luYyBpc3N1ZSBvbiBJRSBpbiBvdXIgdW5pdCB0ZXN0XG4gICAgICBpZiAoIXJvb3QpIHsgcmV0dXJuIH1cblxuICAgICAgLy8gb2JqZWN0IGxvb3AuIGFueSBjaGFuZ2VzIGNhdXNlIGZ1bGwgcmVkcmF3XG4gICAgICBpZiAoaXNPYmplY3QpIHtcbiAgICAgICAgaXRlbXMgPSBpdGVtcyA/IE9iamVjdC5rZXlzKGl0ZW1zKS5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gbWtpdGVtKGV4cHIsIGl0ZW1zW2tleV0sIGtleSk7IH0pIDogW107XG4gICAgICB9XG5cbiAgICAgIC8vIHN0b3JlIHRoZSBhbW91bnQgb2YgZmlsdGVyZWQgaXRlbXNcbiAgICAgIHZhciBmaWx0ZXJlZEl0ZW1zQ291bnQgPSAwO1xuXG4gICAgICAvLyBsb29wIGFsbCB0aGUgbmV3IGl0ZW1zXG4gICAgICBlYWNoKGl0ZW1zLCBmdW5jdGlvbiAoX2l0ZW0sIGluZGV4KSB7XG4gICAgICAgIHZhciBpID0gaW5kZXggLSBmaWx0ZXJlZEl0ZW1zQ291bnQ7XG4gICAgICAgIHZhciBpdGVtID0gIWhhc0tleXMgJiYgZXhwci5rZXkgPyBta2l0ZW0oZXhwciwgX2l0ZW0sIGluZGV4KSA6IF9pdGVtO1xuXG4gICAgICAgIC8vIHNraXAgdGhpcyBpdGVtIGJlY2F1c2UgaXQgbXVzdCBiZSBmaWx0ZXJlZFxuICAgICAgICBpZiAoaWZFeHByICYmICF0bXBsKGlmRXhwciwgZXh0ZW5kKGNyZWF0ZShwYXJlbnQpLCBpdGVtKSkpIHtcbiAgICAgICAgICBmaWx0ZXJlZEl0ZW1zQ291bnQgKys7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXRlbUlkID0gZ2V0SXRlbUlkKGtleUF0dHIsIF9pdGVtLCBpdGVtLCBoYXNLZXlBdHRyRXhwcik7XG4gICAgICAgIC8vIHJlb3JkZXIgb25seSBpZiB0aGUgaXRlbXMgYXJlIG5vdCBvYmplY3RzXG4gICAgICAgIC8vIG9yIGEga2V5IGF0dHJpYnV0ZSBoYXMgYmVlbiBwcm92aWRlZFxuICAgICAgICB2YXIgZG9SZW9yZGVyID0gIWlzT2JqZWN0ICYmIG11c3RSZW9yZGVyICYmIHR5cGVvZiBfaXRlbSA9PT0gVF9PQkpFQ1QgfHwga2V5QXR0cjtcbiAgICAgICAgdmFyIG9sZFBvcyA9IG9sZEl0ZW1zLmluZGV4T2YoaXRlbUlkKTtcbiAgICAgICAgdmFyIGlzTmV3ID0gb2xkUG9zID09PSAtMTtcbiAgICAgICAgdmFyIHBvcyA9ICFpc05ldyAmJiBkb1Jlb3JkZXIgPyBvbGRQb3MgOiBpO1xuICAgICAgICAvLyBkb2VzIGEgdGFnIGV4aXN0IGluIHRoaXMgcG9zaXRpb24/XG4gICAgICAgIHZhciB0YWcgPSB0YWdzW3Bvc107XG4gICAgICAgIHZhciBtdXN0QXBwZW5kID0gaSA+PSBvbGRJdGVtcy5sZW5ndGg7XG4gICAgICAgIHZhciBtdXN0Q3JlYXRlID0gZG9SZW9yZGVyICYmIGlzTmV3IHx8ICFkb1Jlb3JkZXIgJiYgIXRhZyB8fCAhdGFnc1tpXTtcblxuICAgICAgICAvLyBuZXcgdGFnXG4gICAgICAgIGlmIChtdXN0Q3JlYXRlKSB7XG4gICAgICAgICAgdGFnID0gY3JlYXRlVGFnKGltcGwsIHtcbiAgICAgICAgICAgIHBhcmVudDogcGFyZW50LFxuICAgICAgICAgICAgaXNMb29wOiBpc0xvb3AsXG4gICAgICAgICAgICBpc0Fub255bW91czogaXNBbm9ueW1vdXMsXG4gICAgICAgICAgICB0YWdOYW1lOiB0YWdOYW1lLFxuICAgICAgICAgICAgcm9vdDogZG9tLmNsb25lTm9kZShpc0Fub255bW91cyksXG4gICAgICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICAgICAgaW5kZXg6IGksXG4gICAgICAgICAgfSwgaW5uZXJIVE1MKTtcblxuICAgICAgICAgIC8vIG1vdW50IHRoZSB0YWdcbiAgICAgICAgICB0YWcubW91bnQoKTtcblxuICAgICAgICAgIGlmIChtdXN0QXBwZW5kKVxuICAgICAgICAgICAgeyBhcHBlbmQuYXBwbHkodGFnLCBbZnJhZyB8fCByb290LCBpc1ZpcnR1YWxdKTsgfVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHsgaW5zZXJ0LmFwcGx5KHRhZywgW3Jvb3QsIHRhZ3NbaV0sIGlzVmlydHVhbF0pOyB9XG5cbiAgICAgICAgICBpZiAoIW11c3RBcHBlbmQpIHsgb2xkSXRlbXMuc3BsaWNlKGksIDAsIGl0ZW0pOyB9XG4gICAgICAgICAgdGFncy5zcGxpY2UoaSwgMCwgdGFnKTtcbiAgICAgICAgICBpZiAoY2hpbGQpIHsgYXJyYXlpc2hBZGQocGFyZW50LnRhZ3MsIHRhZ05hbWUsIHRhZywgdHJ1ZSk7IH1cbiAgICAgICAgfSBlbHNlIGlmIChwb3MgIT09IGkgJiYgZG9SZW9yZGVyKSB7XG4gICAgICAgICAgLy8gbW92ZVxuICAgICAgICAgIGlmIChrZXlBdHRyIHx8IGNvbnRhaW5zKGl0ZW1zLCBvbGRJdGVtc1twb3NdKSkge1xuICAgICAgICAgICAgbW92ZS5hcHBseSh0YWcsIFtyb290LCB0YWdzW2ldLCBpc1ZpcnR1YWxdKTtcbiAgICAgICAgICAgIC8vIG1vdmUgdGhlIG9sZCB0YWcgaW5zdGFuY2VcbiAgICAgICAgICAgIHRhZ3Muc3BsaWNlKGksIDAsIHRhZ3Muc3BsaWNlKHBvcywgMSlbMF0pO1xuICAgICAgICAgICAgLy8gbW92ZSB0aGUgb2xkIGl0ZW1cbiAgICAgICAgICAgIG9sZEl0ZW1zLnNwbGljZShpLCAwLCBvbGRJdGVtcy5zcGxpY2UocG9zLCAxKVswXSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gdXBkYXRlIHRoZSBwb3NpdGlvbiBhdHRyaWJ1dGUgaWYgaXQgZXhpc3RzXG4gICAgICAgICAgaWYgKGV4cHIucG9zKSB7IHRhZ1tleHByLnBvc10gPSBpOyB9XG5cbiAgICAgICAgICAvLyBpZiB0aGUgbG9vcCB0YWdzIGFyZSBub3QgY3VzdG9tXG4gICAgICAgICAgLy8gd2UgbmVlZCB0byBtb3ZlIGFsbCB0aGVpciBjdXN0b20gdGFncyBpbnRvIHRoZSByaWdodCBwb3NpdGlvblxuICAgICAgICAgIGlmICghY2hpbGQgJiYgdGFnLnRhZ3MpIHsgbW92ZU5lc3RlZFRhZ3MuY2FsbCh0YWcsIGkpOyB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjYWNoZSB0aGUgb3JpZ2luYWwgaXRlbSB0byB1c2UgaXQgaW4gdGhlIGV2ZW50cyBib3VuZCB0byB0aGlzIG5vZGVcbiAgICAgICAgLy8gYW5kIGl0cyBjaGlsZHJlblxuICAgICAgICBleHRlbmQodGFnLl9fLCB7XG4gICAgICAgICAgaXRlbTogaXRlbSxcbiAgICAgICAgICBpbmRleDogaSxcbiAgICAgICAgICBwYXJlbnQ6IHBhcmVudFxuICAgICAgICB9KTtcblxuICAgICAgICB0bXBJdGVtc1tpXSA9IGl0ZW1JZDtcblxuICAgICAgICBpZiAoIW11c3RDcmVhdGUpIHsgdGFnLnVwZGF0ZShpdGVtKTsgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIHJlbW92ZSB0aGUgcmVkdW5kYW50IHRhZ3NcbiAgICAgIHVubW91bnRSZWR1bmRhbnQoaXRlbXMsIHRhZ3MsIGZpbHRlcmVkSXRlbXNDb3VudCk7XG5cbiAgICAgIC8vIGNsb25lIHRoZSBpdGVtcyBhcnJheVxuICAgICAgb2xkSXRlbXMgPSB0bXBJdGVtcy5zbGljZSgpO1xuXG4gICAgICByb290Lmluc2VydEJlZm9yZShmcmFnLCBwbGFjZWhvbGRlcik7XG4gICAgfTtcblxuICAgIGV4cHIudW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGVhY2godGFncywgZnVuY3Rpb24gKHQpIHsgdC51bm1vdW50KCk7IH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gZXhwclxuICB9XG5cbiAgdmFyIFJlZkV4cHIgPSB7XG4gICAgaW5pdDogZnVuY3Rpb24gaW5pdChkb20sIHBhcmVudCwgYXR0ck5hbWUsIGF0dHJWYWx1ZSkge1xuICAgICAgdGhpcy5kb20gPSBkb207XG4gICAgICB0aGlzLmF0dHIgPSBhdHRyTmFtZTtcbiAgICAgIHRoaXMucmF3VmFsdWUgPSBhdHRyVmFsdWU7XG4gICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgIHRoaXMuaGFzRXhwID0gdG1wbC5oYXNFeHByKGF0dHJWYWx1ZSk7XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH0sXG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICB2YXIgb2xkID0gdGhpcy52YWx1ZTtcbiAgICAgIHZhciBjdXN0b21QYXJlbnQgPSB0aGlzLnBhcmVudCAmJiBnZXRJbW1lZGlhdGVDdXN0b21QYXJlbnQodGhpcy5wYXJlbnQpO1xuICAgICAgLy8gaWYgdGhlIHJlZmVyZW5jZWQgZWxlbWVudCBpcyBhIGN1c3RvbSB0YWcsIHRoZW4gd2Ugc2V0IHRoZSB0YWcgaXRzZWxmLCByYXRoZXIgdGhhbiBET01cbiAgICAgIHZhciB0YWdPckRvbSA9IHRoaXMuZG9tLl9fcmVmIHx8IHRoaXMudGFnIHx8IHRoaXMuZG9tO1xuXG4gICAgICB0aGlzLnZhbHVlID0gdGhpcy5oYXNFeHAgPyB0bXBsKHRoaXMucmF3VmFsdWUsIHRoaXMucGFyZW50KSA6IHRoaXMucmF3VmFsdWU7XG5cbiAgICAgIC8vIHRoZSBuYW1lIGNoYW5nZWQsIHNvIHdlIG5lZWQgdG8gcmVtb3ZlIGl0IGZyb20gdGhlIG9sZCBrZXkgKGlmIHByZXNlbnQpXG4gICAgICBpZiAoIWlzQmxhbmsob2xkKSAmJiBjdXN0b21QYXJlbnQpIHsgYXJyYXlpc2hSZW1vdmUoY3VzdG9tUGFyZW50LnJlZnMsIG9sZCwgdGFnT3JEb20pOyB9XG4gICAgICBpZiAoIWlzQmxhbmsodGhpcy52YWx1ZSkgJiYgaXNTdHJpbmcodGhpcy52YWx1ZSkpIHtcbiAgICAgICAgLy8gYWRkIGl0IHRvIHRoZSByZWZzIG9mIHBhcmVudCB0YWcgKHRoaXMgYmVoYXZpb3Igd2FzIGNoYW5nZWQgPj0zLjApXG4gICAgICAgIGlmIChjdXN0b21QYXJlbnQpIHsgYXJyYXlpc2hBZGQoXG4gICAgICAgICAgY3VzdG9tUGFyZW50LnJlZnMsXG4gICAgICAgICAgdGhpcy52YWx1ZSxcbiAgICAgICAgICB0YWdPckRvbSxcbiAgICAgICAgICAvLyB1c2UgYW4gYXJyYXkgaWYgaXQncyBhIGxvb3BlZCBub2RlIGFuZCB0aGUgcmVmIGlzIG5vdCBhbiBleHByZXNzaW9uXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICB0aGlzLnBhcmVudC5fXy5pbmRleFxuICAgICAgICApOyB9XG5cbiAgICAgICAgaWYgKHRoaXMudmFsdWUgIT09IG9sZCkge1xuICAgICAgICAgIHNldEF0dHJpYnV0ZSh0aGlzLmRvbSwgdGhpcy5hdHRyLCB0aGlzLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVtb3ZlQXR0cmlidXRlKHRoaXMuZG9tLCB0aGlzLmF0dHIpO1xuICAgICAgfVxuXG4gICAgICAvLyBjYWNoZSB0aGUgcmVmIGJvdW5kIHRvIHRoaXMgZG9tIG5vZGVcbiAgICAgIC8vIHRvIHJldXNlIGl0IGluIGZ1dHVyZSAoc2VlIGFsc28gIzIzMjkpXG4gICAgICBpZiAoIXRoaXMuZG9tLl9fcmVmKSB7IHRoaXMuZG9tLl9fcmVmID0gdGFnT3JEb207IH1cbiAgICB9LFxuICAgIHVubW91bnQ6IGZ1bmN0aW9uIHVubW91bnQoKSB7XG4gICAgICB2YXIgdGFnT3JEb20gPSB0aGlzLnRhZyB8fCB0aGlzLmRvbTtcbiAgICAgIHZhciBjdXN0b21QYXJlbnQgPSB0aGlzLnBhcmVudCAmJiBnZXRJbW1lZGlhdGVDdXN0b21QYXJlbnQodGhpcy5wYXJlbnQpO1xuICAgICAgaWYgKCFpc0JsYW5rKHRoaXMudmFsdWUpICYmIGN1c3RvbVBhcmVudClcbiAgICAgICAgeyBhcnJheWlzaFJlbW92ZShjdXN0b21QYXJlbnQucmVmcywgdGhpcy52YWx1ZSwgdGFnT3JEb20pOyB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgcmVmIGRpcmVjdGl2ZVxuICAgKiBAcGFyYW0gICB7IEhUTUxFbGVtZW50IH0gZG9tIC0gZG9tIG5vZGUgaGF2aW5nIHRoZSByZWYgYXR0cmlidXRlXG4gICAqIEBwYXJhbSAgIHsgVGFnIH0gY29udGV4dCAtIHRhZyBpbnN0YW5jZSB3aGVyZSB0aGUgRE9NIG5vZGUgaXMgbG9jYXRlZFxuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9IGF0dHJOYW1lIC0gZWl0aGVyICdyZWYnIG9yICdkYXRhLXJlZidcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSBhdHRyVmFsdWUgLSB2YWx1ZSBvZiB0aGUgcmVmIGF0dHJpYnV0ZVxuICAgKiBAcmV0dXJucyB7IFJlZkV4cHIgfSBhIG5ldyBSZWZFeHByIG9iamVjdFxuICAgKi9cbiAgZnVuY3Rpb24gY3JlYXRlUmVmRGlyZWN0aXZlKGRvbSwgdGFnLCBhdHRyTmFtZSwgYXR0clZhbHVlKSB7XG4gICAgcmV0dXJuIGNyZWF0ZShSZWZFeHByKS5pbml0KGRvbSwgdGFnLCBhdHRyTmFtZSwgYXR0clZhbHVlKVxuICB9XG5cbiAgLyoqXG4gICAqIFRyaWdnZXIgdGhlIHVubW91bnQgbWV0aG9kIG9uIGFsbCB0aGUgZXhwcmVzc2lvbnNcbiAgICogQHBhcmFtICAgeyBBcnJheSB9IGV4cHJlc3Npb25zIC0gRE9NIGV4cHJlc3Npb25zXG4gICAqL1xuICBmdW5jdGlvbiB1bm1vdW50QWxsKGV4cHJlc3Npb25zKSB7XG4gICAgZWFjaChleHByZXNzaW9ucywgZnVuY3Rpb24gKGV4cHIpIHtcbiAgICAgIGlmIChleHByLnVubW91bnQpIHsgZXhwci51bm1vdW50KHRydWUpOyB9XG4gICAgICBlbHNlIGlmIChleHByLnRhZ05hbWUpIHsgZXhwci50YWcudW5tb3VudCh0cnVlKTsgfVxuICAgICAgZWxzZSBpZiAoZXhwci51bm1vdW50KSB7IGV4cHIudW5tb3VudCgpOyB9XG4gICAgfSk7XG4gIH1cblxuICB2YXIgSWZFeHByID0ge1xuICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoZG9tLCB0YWcsIGV4cHIpIHtcbiAgICAgIHJlbW92ZUF0dHJpYnV0ZShkb20sIENPTkRJVElPTkFMX0RJUkVDVElWRSk7XG4gICAgICBleHRlbmQodGhpcywgeyB0YWc6IHRhZywgZXhwcjogZXhwciwgc3R1YjogY3JlYXRlRE9NUGxhY2Vob2xkZXIoKSwgcHJpc3RpbmU6IGRvbSB9KTtcbiAgICAgIHZhciBwID0gZG9tLnBhcmVudE5vZGU7XG4gICAgICBwLmluc2VydEJlZm9yZSh0aGlzLnN0dWIsIGRvbSk7XG4gICAgICBwLnJlbW92ZUNoaWxkKGRvbSk7XG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfSxcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSQkMSgpIHtcbiAgICAgIHRoaXMudmFsdWUgPSB0bXBsKHRoaXMuZXhwciwgdGhpcy50YWcpO1xuXG4gICAgICBpZiAoIXRoaXMuc3R1Yi5wYXJlbnROb2RlKSB7IHJldHVybiB9XG5cbiAgICAgIGlmICh0aGlzLnZhbHVlICYmICF0aGlzLmN1cnJlbnQpIHsgLy8gaW5zZXJ0XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMucHJpc3RpbmUuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICB0aGlzLnN0dWIucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5jdXJyZW50LCB0aGlzLnN0dWIpO1xuICAgICAgICB0aGlzLmV4cHJlc3Npb25zID0gcGFyc2VFeHByZXNzaW9ucy5hcHBseSh0aGlzLnRhZywgW3RoaXMuY3VycmVudCwgdHJ1ZV0pO1xuICAgICAgfSBlbHNlIGlmICghdGhpcy52YWx1ZSAmJiB0aGlzLmN1cnJlbnQpIHsgLy8gcmVtb3ZlXG4gICAgICAgIHRoaXMudW5tb3VudCgpO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLmV4cHJlc3Npb25zID0gW107XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnZhbHVlKSB7IHVwZGF0ZS5jYWxsKHRoaXMudGFnLCB0aGlzLmV4cHJlc3Npb25zKTsgfVxuICAgIH0sXG4gICAgdW5tb3VudDogZnVuY3Rpb24gdW5tb3VudCgpIHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudC5fdGFnKSB7XG4gICAgICAgICAgdGhpcy5jdXJyZW50Ll90YWcudW5tb3VudCgpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY3VycmVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgdGhpcy5jdXJyZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5jdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB1bm1vdW50QWxsKHRoaXMuZXhwcmVzc2lvbnMgfHwgW10pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGlmIGRpcmVjdGl2ZVxuICAgKiBAcGFyYW0gICB7IEhUTUxFbGVtZW50IH0gZG9tIC0gaWYgcm9vdCBkb20gbm9kZVxuICAgKiBAcGFyYW0gICB7IFRhZyB9IGNvbnRleHQgLSB0YWcgaW5zdGFuY2Ugd2hlcmUgdGhlIERPTSBub2RlIGlzIGxvY2F0ZWRcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSBhdHRyIC0gaWYgZXhwcmVzc2lvblxuICAgKiBAcmV0dXJucyB7IElGRXhwciB9IGEgbmV3IElmRXhwciBvYmplY3RcbiAgICovXG4gIGZ1bmN0aW9uIGNyZWF0ZUlmRGlyZWN0aXZlKGRvbSwgdGFnLCBhdHRyKSB7XG4gICAgcmV0dXJuIGNyZWF0ZShJZkV4cHIpLmluaXQoZG9tLCB0YWcsIGF0dHIpXG4gIH1cblxuICAvKipcbiAgICogV2FsayB0aGUgdGFnIERPTSB0byBkZXRlY3QgdGhlIGV4cHJlc3Npb25zIHRvIGV2YWx1YXRlXG4gICAqIEB0aGlzIFRhZ1xuICAgKiBAcGFyYW0gICB7IEhUTUxFbGVtZW50IH0gcm9vdCAtIHJvb3QgdGFnIHdoZXJlIHdlIHdpbGwgc3RhcnQgZGlnZ2luZyB0aGUgZXhwcmVzc2lvbnNcbiAgICogQHBhcmFtICAgeyBCb29sZWFuIH0gbXVzdEluY2x1ZGVSb290IC0gZmxhZyB0byBkZWNpZGUgd2hldGhlciB0aGUgcm9vdCBtdXN0IGJlIHBhcnNlZCBhcyB3ZWxsXG4gICAqIEByZXR1cm5zIHsgQXJyYXkgfSBhbGwgdGhlIGV4cHJlc3Npb25zIGZvdW5kXG4gICAqL1xuICBmdW5jdGlvbiBwYXJzZUV4cHJlc3Npb25zKHJvb3QsIG11c3RJbmNsdWRlUm9vdCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIGV4cHJlc3Npb25zID0gW107XG5cbiAgICB3YWxrTm9kZXMocm9vdCwgZnVuY3Rpb24gKGRvbSkge1xuICAgICAgdmFyIHR5cGUgPSBkb20ubm9kZVR5cGU7XG4gICAgICB2YXIgYXR0cjtcbiAgICAgIHZhciB0YWdJbXBsO1xuXG4gICAgICBpZiAoIW11c3RJbmNsdWRlUm9vdCAmJiBkb20gPT09IHJvb3QpIHsgcmV0dXJuIH1cblxuICAgICAgLy8gdGV4dCBub2RlXG4gICAgICBpZiAodHlwZSA9PT0gMyAmJiBkb20ucGFyZW50Tm9kZS50YWdOYW1lICE9PSAnU1RZTEUnICYmIHRtcGwuaGFzRXhwcihkb20ubm9kZVZhbHVlKSlcbiAgICAgICAgeyBleHByZXNzaW9ucy5wdXNoKHtkb206IGRvbSwgZXhwcjogZG9tLm5vZGVWYWx1ZX0pOyB9XG5cbiAgICAgIGlmICh0eXBlICE9PSAxKSB7IHJldHVybiB9XG5cbiAgICAgIHZhciBpc1ZpcnR1YWwgPSBkb20udGFnTmFtZSA9PT0gJ1ZJUlRVQUwnO1xuXG4gICAgICAvLyBsb29wLiBlYWNoIGRvZXMgaXQncyBvd24gdGhpbmcgKGZvciBub3cpXG4gICAgICBpZiAoYXR0ciA9IGdldEF0dHJpYnV0ZShkb20sIExPT1BfRElSRUNUSVZFKSkge1xuICAgICAgICBpZihpc1ZpcnR1YWwpIHsgc2V0QXR0cmlidXRlKGRvbSwgJ2xvb3BWaXJ0dWFsJywgdHJ1ZSk7IH0gLy8gaWdub3JlIGhlcmUsIGhhbmRsZWQgaW4gX2VhY2hcbiAgICAgICAgZXhwcmVzc2lvbnMucHVzaChfZWFjaChkb20sIHRoaXMkMSwgYXR0cikpO1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cblxuICAgICAgLy8gaWYtYXR0cnMgYmVjb21lIHRoZSBuZXcgcGFyZW50LiBBbnkgZm9sbG93aW5nIGV4cHJlc3Npb25zIChlaXRoZXIgb24gdGhlIGN1cnJlbnRcbiAgICAgIC8vIGVsZW1lbnQsIG9yIGJlbG93IGl0KSBiZWNvbWUgY2hpbGRyZW4gb2YgdGhpcyBleHByZXNzaW9uLlxuICAgICAgaWYgKGF0dHIgPSBnZXRBdHRyaWJ1dGUoZG9tLCBDT05ESVRJT05BTF9ESVJFQ1RJVkUpKSB7XG4gICAgICAgIGV4cHJlc3Npb25zLnB1c2goY3JlYXRlSWZEaXJlY3RpdmUoZG9tLCB0aGlzJDEsIGF0dHIpKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG5cbiAgICAgIGlmIChhdHRyID0gZ2V0QXR0cmlidXRlKGRvbSwgSVNfRElSRUNUSVZFKSkge1xuICAgICAgICBpZiAodG1wbC5oYXNFeHByKGF0dHIpKSB7XG4gICAgICAgICAgZXhwcmVzc2lvbnMucHVzaCh7XG4gICAgICAgICAgICBpc1J0YWc6IHRydWUsXG4gICAgICAgICAgICBleHByOiBhdHRyLFxuICAgICAgICAgICAgZG9tOiBkb20sXG4gICAgICAgICAgICBhdHRyczogW10uc2xpY2UuY2FsbChkb20uYXR0cmlidXRlcylcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGlmIHRoaXMgaXMgYSB0YWcsIHN0b3AgdHJhdmVyc2luZyBoZXJlLlxuICAgICAgLy8gd2UgaWdub3JlIHRoZSByb290LCBzaW5jZSBwYXJzZUV4cHJlc3Npb25zIGlzIGNhbGxlZCB3aGlsZSB3ZSdyZSBtb3VudGluZyB0aGF0IHJvb3RcbiAgICAgIHRhZ0ltcGwgPSBnZXQoZG9tKTtcblxuICAgICAgaWYoaXNWaXJ0dWFsKSB7XG4gICAgICAgIGlmKGdldEF0dHJpYnV0ZShkb20sICd2aXJ0dWFsaXplZCcpKSB7ZG9tLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZG9tKTsgfSAvLyB0YWcgY3JlYXRlZCwgcmVtb3ZlIGZyb20gZG9tXG4gICAgICAgIGlmKCF0YWdJbXBsICYmICFnZXRBdHRyaWJ1dGUoZG9tLCAndmlydHVhbGl6ZWQnKSAmJiAhZ2V0QXR0cmlidXRlKGRvbSwgJ2xvb3BWaXJ0dWFsJykpICAvLyBvayB0byBjcmVhdGUgdmlydHVhbCB0YWdcbiAgICAgICAgICB7IHRhZ0ltcGwgPSB7IHRtcGw6IGRvbS5vdXRlckhUTUwgfTsgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGFnSW1wbCAmJiAoZG9tICE9PSByb290IHx8IG11c3RJbmNsdWRlUm9vdCkpIHtcbiAgICAgICAgdmFyIGhhc0lzRGlyZWN0aXZlID0gZ2V0QXR0cmlidXRlKGRvbSwgSVNfRElSRUNUSVZFKTtcbiAgICAgICAgaWYoaXNWaXJ0dWFsICYmICFoYXNJc0RpcmVjdGl2ZSkgeyAvLyBoYW5kbGVkIGluIHVwZGF0ZVxuICAgICAgICAgIC8vIGNhbiBub3QgcmVtb3ZlIGF0dHJpYnV0ZSBsaWtlIGRpcmVjdGl2ZXNcbiAgICAgICAgICAvLyBzbyBmbGFnIGZvciByZW1vdmFsIGFmdGVyIGNyZWF0aW9uIHRvIHByZXZlbnQgbWF4aW11bSBzdGFjayBlcnJvclxuICAgICAgICAgIHNldEF0dHJpYnV0ZShkb20sICd2aXJ0dWFsaXplZCcsIHRydWUpO1xuICAgICAgICAgIHZhciB0YWcgPSBjcmVhdGVUYWcoXG4gICAgICAgICAgICB7dG1wbDogZG9tLm91dGVySFRNTH0sXG4gICAgICAgICAgICB7cm9vdDogZG9tLCBwYXJlbnQ6IHRoaXMkMX0sXG4gICAgICAgICAgICBkb20uaW5uZXJIVE1MXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGV4cHJlc3Npb25zLnB1c2godGFnKTsgLy8gbm8gcmV0dXJuLCBhbm9ueW1vdXMgdGFnLCBrZWVwIHBhcnNpbmdcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoaGFzSXNEaXJlY3RpdmUgJiYgaXNWaXJ0dWFsKVxuICAgICAgICAgICAgeyB3YXJuKChcIlZpcnR1YWwgdGFncyBzaG91bGRuJ3QgYmUgdXNlZCB0b2dldGhlciB3aXRoIHRoZSBcXFwiXCIgKyBJU19ESVJFQ1RJVkUgKyBcIlxcXCIgYXR0cmlidXRlIC0gaHR0cHM6Ly9naXRodWIuY29tL3Jpb3QvcmlvdC9pc3N1ZXMvMjUxMVwiKSk7IH1cblxuICAgICAgICAgIGV4cHJlc3Npb25zLnB1c2goXG4gICAgICAgICAgICBpbml0Q2hpbGQoXG4gICAgICAgICAgICAgIHRhZ0ltcGwsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByb290OiBkb20sXG4gICAgICAgICAgICAgICAgcGFyZW50OiB0aGlzJDFcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZG9tLmlubmVySFRNTCxcbiAgICAgICAgICAgICAgdGhpcyQxXG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBhdHRyaWJ1dGUgZXhwcmVzc2lvbnNcbiAgICAgIHBhcnNlQXR0cmlidXRlcy5hcHBseSh0aGlzJDEsIFtkb20sIGRvbS5hdHRyaWJ1dGVzLCBmdW5jdGlvbiAoYXR0ciwgZXhwcikge1xuICAgICAgICBpZiAoIWV4cHIpIHsgcmV0dXJuIH1cbiAgICAgICAgZXhwcmVzc2lvbnMucHVzaChleHByKTtcbiAgICAgIH1dKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBleHByZXNzaW9uc1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxzIGBmbmAgZm9yIGV2ZXJ5IGF0dHJpYnV0ZSBvbiBhbiBlbGVtZW50LiBJZiB0aGF0IGF0dHIgaGFzIGFuIGV4cHJlc3Npb24sXG4gICAqIGl0IGlzIGFsc28gcGFzc2VkIHRvIGZuLlxuICAgKiBAdGhpcyBUYWdcbiAgICogQHBhcmFtICAgeyBIVE1MRWxlbWVudCB9IGRvbSAtIGRvbSBub2RlIHRvIHBhcnNlXG4gICAqIEBwYXJhbSAgIHsgQXJyYXkgfSBhdHRycyAtIGFycmF5IG9mIGF0dHJpYnV0ZXNcbiAgICogQHBhcmFtICAgeyBGdW5jdGlvbiB9IGZuIC0gY2FsbGJhY2sgdG8gZXhlYyBvbiBhbnkgaXRlcmF0aW9uXG4gICAqL1xuICBmdW5jdGlvbiBwYXJzZUF0dHJpYnV0ZXMoZG9tLCBhdHRycywgZm4pIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIGVhY2goYXR0cnMsIGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgICBpZiAoIWF0dHIpIHsgcmV0dXJuIGZhbHNlIH1cblxuICAgICAgdmFyIG5hbWUgPSBhdHRyLm5hbWU7XG4gICAgICB2YXIgYm9vbCA9IGlzQm9vbEF0dHIobmFtZSk7XG4gICAgICB2YXIgZXhwcjtcblxuICAgICAgaWYgKGNvbnRhaW5zKFJFRl9ESVJFQ1RJVkVTLCBuYW1lKSAmJiBkb20udGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9PSBZSUVMRF9UQUcpIHtcbiAgICAgICAgZXhwciA9ICBjcmVhdGVSZWZEaXJlY3RpdmUoZG9tLCB0aGlzJDEsIG5hbWUsIGF0dHIudmFsdWUpO1xuICAgICAgfSBlbHNlIGlmICh0bXBsLmhhc0V4cHIoYXR0ci52YWx1ZSkpIHtcbiAgICAgICAgZXhwciA9IHtkb206IGRvbSwgZXhwcjogYXR0ci52YWx1ZSwgYXR0cjogbmFtZSwgYm9vbDogYm9vbH07XG4gICAgICB9XG5cbiAgICAgIGZuKGF0dHIsIGV4cHIpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hbmFnZSB0aGUgbW91bnQgc3RhdGUgb2YgYSB0YWcgdHJpZ2dlcmluZyBhbHNvIHRoZSBvYnNlcnZhYmxlIGV2ZW50c1xuICAgKiBAdGhpcyBUYWdcbiAgICogQHBhcmFtIHsgQm9vbGVhbiB9IHZhbHVlIC0gLi5vZiB0aGUgaXNNb3VudGVkIGZsYWdcbiAgICovXG4gIGZ1bmN0aW9uIHNldE1vdW50U3RhdGUodmFsdWUpIHtcbiAgICB2YXIgcmVmID0gdGhpcy5fXztcbiAgICB2YXIgaXNBbm9ueW1vdXMgPSByZWYuaXNBbm9ueW1vdXM7XG4gICAgdmFyIHNraXBBbm9ueW1vdXMgPSByZWYuc2tpcEFub255bW91cztcblxuICAgIGRlZmluZSh0aGlzLCAnaXNNb3VudGVkJywgdmFsdWUpO1xuXG4gICAgaWYgKCFpc0Fub255bW91cyB8fCAhc2tpcEFub255bW91cykge1xuICAgICAgaWYgKHZhbHVlKSB7IHRoaXMudHJpZ2dlcignbW91bnQnKTsgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMudHJpZ2dlcigndW5tb3VudCcpO1xuICAgICAgICB0aGlzLm9mZignKicpO1xuICAgICAgICB0aGlzLl9fLndhc0NyZWF0ZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTW91bnQgdGhlIGN1cnJlbnQgdGFnIGluc3RhbmNlXG4gICAqIEByZXR1cm5zIHsgVGFnIH0gdGhlIGN1cnJlbnQgdGFnIGluc3RhbmNlXG4gICAqL1xuICBmdW5jdGlvbiBjb21wb25lbnRNb3VudCh0YWckJDEsIGRvbSwgZXhwcmVzc2lvbnMsIG9wdHMpIHtcbiAgICB2YXIgX18gPSB0YWckJDEuX187XG4gICAgdmFyIHJvb3QgPSBfXy5yb290O1xuICAgIHJvb3QuX3RhZyA9IHRhZyQkMTsgLy8ga2VlcCBhIHJlZmVyZW5jZSB0byB0aGUgdGFnIGp1c3QgY3JlYXRlZFxuXG4gICAgLy8gUmVhZCBhbGwgdGhlIGF0dHJzIG9uIHRoaXMgaW5zdGFuY2UuIFRoaXMgZ2l2ZSB1cyB0aGUgaW5mbyB3ZSBuZWVkIGZvciB1cGRhdGVPcHRzXG4gICAgcGFyc2VBdHRyaWJ1dGVzLmFwcGx5KF9fLnBhcmVudCwgW3Jvb3QsIHJvb3QuYXR0cmlidXRlcywgZnVuY3Rpb24gKGF0dHIsIGV4cHIpIHtcbiAgICAgIGlmICghX18uaXNBbm9ueW1vdXMgJiYgUmVmRXhwci5pc1Byb3RvdHlwZU9mKGV4cHIpKSB7IGV4cHIudGFnID0gdGFnJCQxOyB9XG4gICAgICBhdHRyLmV4cHIgPSBleHByO1xuICAgICAgX18uaW5zdEF0dHJzLnB1c2goYXR0cik7XG4gICAgfV0pO1xuXG4gICAgLy8gdXBkYXRlIHRoZSByb290IGFkZGluZyBjdXN0b20gYXR0cmlidXRlcyBjb21pbmcgZnJvbSB0aGUgY29tcGlsZXJcbiAgICB3YWxrQXR0cmlidXRlcyhfXy5pbXBsLmF0dHJzLCBmdW5jdGlvbiAoaywgdikgeyBfXy5pbXBsQXR0cnMucHVzaCh7bmFtZTogaywgdmFsdWU6IHZ9KTsgfSk7XG4gICAgcGFyc2VBdHRyaWJ1dGVzLmFwcGx5KHRhZyQkMSwgW3Jvb3QsIF9fLmltcGxBdHRycywgZnVuY3Rpb24gKGF0dHIsIGV4cHIpIHtcbiAgICAgIGlmIChleHByKSB7IGV4cHJlc3Npb25zLnB1c2goZXhwcik7IH1cbiAgICAgIGVsc2UgeyBzZXRBdHRyaWJ1dGUocm9vdCwgYXR0ci5uYW1lLCBhdHRyLnZhbHVlKTsgfVxuICAgIH1dKTtcblxuICAgIC8vIGluaXRpYWxpYXRpb25cbiAgICB1cGRhdGVPcHRzLmFwcGx5KHRhZyQkMSwgW19fLmlzTG9vcCwgX18ucGFyZW50LCBfXy5pc0Fub255bW91cywgb3B0cywgX18uaW5zdEF0dHJzXSk7XG5cbiAgICAvLyBhZGQgZ2xvYmFsIG1peGluc1xuICAgIHZhciBnbG9iYWxNaXhpbiA9IG1peGluKEdMT0JBTF9NSVhJTik7XG5cbiAgICBpZiAoZ2xvYmFsTWl4aW4gJiYgIV9fLnNraXBBbm9ueW1vdXMpIHtcbiAgICAgIGZvciAodmFyIGkgaW4gZ2xvYmFsTWl4aW4pIHtcbiAgICAgICAgaWYgKGdsb2JhbE1peGluLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgICAgdGFnJCQxLm1peGluKGdsb2JhbE1peGluW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChfXy5pbXBsLmZuKSB7IF9fLmltcGwuZm4uY2FsbCh0YWckJDEsIG9wdHMpOyB9XG5cbiAgICBpZiAoIV9fLnNraXBBbm9ueW1vdXMpIHsgdGFnJCQxLnRyaWdnZXIoJ2JlZm9yZS1tb3VudCcpOyB9XG5cbiAgICAvLyBwYXJzZSBsYXlvdXQgYWZ0ZXIgaW5pdC4gZm4gbWF5IGNhbGN1bGF0ZSBhcmdzIGZvciBuZXN0ZWQgY3VzdG9tIHRhZ3NcbiAgICBlYWNoKHBhcnNlRXhwcmVzc2lvbnMuYXBwbHkodGFnJCQxLCBbZG9tLCBfXy5pc0Fub255bW91c10pLCBmdW5jdGlvbiAoZSkgeyByZXR1cm4gZXhwcmVzc2lvbnMucHVzaChlKTsgfSk7XG5cbiAgICB0YWckJDEudXBkYXRlKF9fLml0ZW0pO1xuXG4gICAgaWYgKCFfXy5pc0Fub255bW91cyAmJiAhX18uaXNJbmxpbmUpIHtcbiAgICAgIHdoaWxlIChkb20uZmlyc3RDaGlsZCkgeyByb290LmFwcGVuZENoaWxkKGRvbS5maXJzdENoaWxkKTsgfVxuICAgIH1cblxuICAgIGRlZmluZSh0YWckJDEsICdyb290Jywgcm9vdCk7XG5cbiAgICAvLyBpZiB3ZSBuZWVkIHRvIHdhaXQgdGhhdCB0aGUgcGFyZW50IFwibW91bnRcIiBvciBcInVwZGF0ZWRcIiBldmVudCBnZXRzIHRyaWdnZXJlZFxuICAgIGlmICghX18uc2tpcEFub255bW91cyAmJiB0YWckJDEucGFyZW50KSB7XG4gICAgICB2YXIgcCA9IGdldEltbWVkaWF0ZUN1c3RvbVBhcmVudCh0YWckJDEucGFyZW50KTtcbiAgICAgIHAub25lKCFwLmlzTW91bnRlZCA/ICdtb3VudCcgOiAndXBkYXRlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2V0TW91bnRTdGF0ZS5jYWxsKHRhZyQkMSwgdHJ1ZSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gb3RoZXJ3aXNlIGl0J3Mgbm90IGEgY2hpbGQgdGFnIHdlIGNhbiB0cmlnZ2VyIGl0cyBtb3VudCBldmVudFxuICAgICAgc2V0TW91bnRTdGF0ZS5jYWxsKHRhZyQkMSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgdGFnJCQxLl9fLndhc0NyZWF0ZWQgPSB0cnVlO1xuXG4gICAgcmV0dXJuIHRhZyQkMVxuICB9XG5cbiAgLyoqXG4gICAqIFVubW91bnQgdGhlIHRhZyBpbnN0YW5jZVxuICAgKiBAcGFyYW0geyBCb29sZWFuIH0gbXVzdEtlZXBSb290IC0gaWYgaXQncyB0cnVlIHRoZSByb290IG5vZGUgd2lsbCBub3QgYmUgcmVtb3ZlZFxuICAgKiBAcmV0dXJucyB7IFRhZyB9IHRoZSBjdXJyZW50IHRhZyBpbnN0YW5jZVxuICAgKi9cbiAgZnVuY3Rpb24gdGFnVW5tb3VudCh0YWcsIG11c3RLZWVwUm9vdCwgZXhwcmVzc2lvbnMpIHtcbiAgICB2YXIgX18gPSB0YWcuX187XG4gICAgdmFyIHJvb3QgPSBfXy5yb290O1xuICAgIHZhciB0YWdJbmRleCA9IF9fVEFHU19DQUNIRS5pbmRleE9mKHRhZyk7XG4gICAgdmFyIHAgPSByb290LnBhcmVudE5vZGU7XG5cbiAgICBpZiAoIV9fLnNraXBBbm9ueW1vdXMpIHsgdGFnLnRyaWdnZXIoJ2JlZm9yZS11bm1vdW50Jyk7IH1cblxuICAgIC8vIGNsZWFyIGFsbCBhdHRyaWJ1dGVzIGNvbWluZyBmcm9tIHRoZSBtb3VudGVkIHRhZ1xuICAgIHdhbGtBdHRyaWJ1dGVzKF9fLmltcGwuYXR0cnMsIGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICBpZiAoc3RhcnRzV2l0aChuYW1lLCBBVFRSU19QUkVGSVgpKVxuICAgICAgICB7IG5hbWUgPSBuYW1lLnNsaWNlKEFUVFJTX1BSRUZJWC5sZW5ndGgpOyB9XG5cbiAgICAgIHJlbW92ZUF0dHJpYnV0ZShyb290LCBuYW1lKTtcbiAgICB9KTtcblxuICAgIC8vIHJlbW92ZSBhbGwgdGhlIGV2ZW50IGxpc3RlbmVyc1xuICAgIHRhZy5fXy5saXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAoZG9tKSB7XG4gICAgICBPYmplY3Qua2V5cyhkb21bUklPVF9FVkVOVFNfS0VZXSkuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICAgIGRvbS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZG9tW1JJT1RfRVZFTlRTX0tFWV1bZXZlbnROYW1lXSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIHJlbW92ZSB0YWcgaW5zdGFuY2UgZnJvbSB0aGUgZ2xvYmFsIHRhZ3MgY2FjaGUgY29sbGVjdGlvblxuICAgIGlmICh0YWdJbmRleCAhPT0gLTEpIHsgX19UQUdTX0NBQ0hFLnNwbGljZSh0YWdJbmRleCwgMSk7IH1cblxuICAgIC8vIGNsZWFuIHVwIHRoZSBwYXJlbnQgdGFncyBvYmplY3RcbiAgICBpZiAoX18ucGFyZW50ICYmICFfXy5pc0Fub255bW91cykge1xuICAgICAgdmFyIHB0YWcgPSBnZXRJbW1lZGlhdGVDdXN0b21QYXJlbnQoX18ucGFyZW50KTtcblxuICAgICAgaWYgKF9fLmlzVmlydHVhbCkge1xuICAgICAgICBPYmplY3RcbiAgICAgICAgICAua2V5cyh0YWcudGFncylcbiAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAodGFnTmFtZSkgeyByZXR1cm4gYXJyYXlpc2hSZW1vdmUocHRhZy50YWdzLCB0YWdOYW1lLCB0YWcudGFnc1t0YWdOYW1lXSk7IH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXJyYXlpc2hSZW1vdmUocHRhZy50YWdzLCBfXy50YWdOYW1lLCB0YWcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHVubW91bnQgYWxsIHRoZSB2aXJ0dWFsIGRpcmVjdGl2ZXNcbiAgICBpZiAodGFnLl9fLnZpcnRzKSB7XG4gICAgICBlYWNoKHRhZy5fXy52aXJ0cywgZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgaWYgKHYucGFyZW50Tm9kZSkgeyB2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodik7IH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIGFsbG93IGV4cHJlc3Npb25zIHRvIHVubW91bnQgdGhlbXNlbHZlc1xuICAgIHVubW91bnRBbGwoZXhwcmVzc2lvbnMpO1xuICAgIGVhY2goX18uaW5zdEF0dHJzLCBmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5leHByICYmIGEuZXhwci51bm1vdW50ICYmIGEuZXhwci51bm1vdW50KCk7IH0pO1xuXG4gICAgLy8gY2xlYXIgdGhlIHRhZyBodG1sIGlmIGl0J3MgbmVjZXNzYXJ5XG4gICAgaWYgKG11c3RLZWVwUm9vdCkgeyBzZXRJbm5lckhUTUwocm9vdCwgJycpOyB9XG4gICAgLy8gb3RoZXJ3aXNlIGRldGFjaCB0aGUgcm9vdCB0YWcgZnJvbSB0aGUgRE9NXG4gICAgZWxzZSBpZiAocCkgeyBwLnJlbW92ZUNoaWxkKHJvb3QpOyB9XG5cbiAgICAvLyBjdXN0b20gaW50ZXJuYWwgdW5tb3VudCBmdW5jdGlvbiB0byBhdm9pZCByZWx5aW5nIG9uIHRoZSBvYnNlcnZhYmxlXG4gICAgaWYgKF9fLm9uVW5tb3VudCkgeyBfXy5vblVubW91bnQoKTsgfVxuXG4gICAgLy8gd2VpcmQgZml4IGZvciBhIHdlaXJkIGVkZ2UgY2FzZSAjMjQwOSBhbmQgIzI0MzZcbiAgICAvLyBzb21lIHVzZXJzIG1pZ2h0IHVzZSB5b3VyIHNvZnR3YXJlIG5vdCBhcyB5b3UndmUgZXhwZWN0ZWRcbiAgICAvLyBzbyBJIG5lZWQgdG8gYWRkIHRoZXNlIGRpcnR5IGhhY2tzIHRvIG1pdGlnYXRlIHVuZXhwZWN0ZWQgaXNzdWVzXG4gICAgaWYgKCF0YWcuaXNNb3VudGVkKSB7IHNldE1vdW50U3RhdGUuY2FsbCh0YWcsIHRydWUpOyB9XG5cbiAgICBzZXRNb3VudFN0YXRlLmNhbGwodGFnLCBmYWxzZSk7XG5cbiAgICBkZWxldGUgcm9vdC5fdGFnO1xuXG4gICAgcmV0dXJuIHRhZ1xuICB9XG5cbiAgLyoqXG4gICAqIFRhZyBjcmVhdGlvbiBmYWN0b3J5IGZ1bmN0aW9uXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0geyBPYmplY3QgfSBpbXBsIC0gaXQgY29udGFpbnMgdGhlIHRhZyB0ZW1wbGF0ZSwgYW5kIGxvZ2ljXG4gICAqIEBwYXJhbSB7IE9iamVjdCB9IGNvbmYgLSB0YWcgb3B0aW9uc1xuICAgKiBAcGFyYW0geyBTdHJpbmcgfSBpbm5lckhUTUwgLSBodG1sIHRoYXQgZXZlbnR1YWxseSB3ZSBuZWVkIHRvIGluamVjdCBpbiB0aGUgdGFnXG4gICAqL1xuICBmdW5jdGlvbiBjcmVhdGVUYWcoaW1wbCwgY29uZiwgaW5uZXJIVE1MKSB7XG4gICAgaWYgKCBpbXBsID09PSB2b2lkIDAgKSBpbXBsID0ge307XG4gICAgaWYgKCBjb25mID09PSB2b2lkIDAgKSBjb25mID0ge307XG5cbiAgICB2YXIgdGFnID0gY29uZi5jb250ZXh0IHx8IHt9O1xuICAgIHZhciBvcHRzID0gY29uZi5vcHRzIHx8IHt9O1xuICAgIHZhciBwYXJlbnQgPSBjb25mLnBhcmVudDtcbiAgICB2YXIgaXNMb29wID0gY29uZi5pc0xvb3A7XG4gICAgdmFyIGlzQW5vbnltb3VzID0gISFjb25mLmlzQW5vbnltb3VzO1xuICAgIHZhciBza2lwQW5vbnltb3VzID0gc2V0dGluZ3Muc2tpcEFub255bW91c1RhZ3MgJiYgaXNBbm9ueW1vdXM7XG4gICAgdmFyIGl0ZW0gPSBjb25mLml0ZW07XG4gICAgLy8gYXZhaWxhYmxlIG9ubHkgZm9yIHRoZSBsb29wZWQgbm9kZXNcbiAgICB2YXIgaW5kZXggPSBjb25mLmluZGV4O1xuICAgIC8vIEFsbCBhdHRyaWJ1dGVzIG9uIHRoZSBUYWcgd2hlbiBpdCdzIGZpcnN0IHBhcnNlZFxuICAgIHZhciBpbnN0QXR0cnMgPSBbXTtcbiAgICAvLyBleHByZXNzaW9ucyBvbiB0aGlzIHR5cGUgb2YgVGFnXG4gICAgdmFyIGltcGxBdHRycyA9IFtdO1xuICAgIHZhciB0bXBsID0gaW1wbC50bXBsO1xuICAgIHZhciBleHByZXNzaW9ucyA9IFtdO1xuICAgIHZhciByb290ID0gY29uZi5yb290O1xuICAgIHZhciB0YWdOYW1lID0gY29uZi50YWdOYW1lIHx8IGdldE5hbWUocm9vdCk7XG4gICAgdmFyIGlzVmlydHVhbCA9IHRhZ05hbWUgPT09ICd2aXJ0dWFsJztcbiAgICB2YXIgaXNJbmxpbmUgPSAhaXNWaXJ0dWFsICYmICF0bXBsO1xuICAgIHZhciBkb207XG5cbiAgICBpZiAoaXNJbmxpbmUgfHwgaXNMb29wICYmIGlzQW5vbnltb3VzKSB7XG4gICAgICBkb20gPSByb290O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWlzVmlydHVhbCkgeyByb290LmlubmVySFRNTCA9ICcnOyB9XG4gICAgICBkb20gPSBta2RvbSh0bXBsLCBpbm5lckhUTUwsIGlzU3ZnKHJvb3QpKTtcbiAgICB9XG5cbiAgICAvLyBtYWtlIHRoaXMgdGFnIG9ic2VydmFibGVcbiAgICBpZiAoIXNraXBBbm9ueW1vdXMpIHsgb2JzZXJ2YWJsZSh0YWcpOyB9XG5cbiAgICAvLyBvbmx5IGNhbGwgdW5tb3VudCBpZiB3ZSBoYXZlIGEgdmFsaWQgX19UQUdfSU1QTCAoaGFzIG5hbWUgcHJvcGVydHkpXG4gICAgaWYgKGltcGwubmFtZSAmJiByb290Ll90YWcpIHsgcm9vdC5fdGFnLnVubW91bnQodHJ1ZSk7IH1cblxuICAgIGRlZmluZSh0YWcsICdfXycsIHtcbiAgICAgIGltcGw6IGltcGwsXG4gICAgICByb290OiByb290LFxuICAgICAgc2tpcEFub255bW91czogc2tpcEFub255bW91cyxcbiAgICAgIGltcGxBdHRyczogaW1wbEF0dHJzLFxuICAgICAgaXNBbm9ueW1vdXM6IGlzQW5vbnltb3VzLFxuICAgICAgaW5zdEF0dHJzOiBpbnN0QXR0cnMsXG4gICAgICBpbm5lckhUTUw6IGlubmVySFRNTCxcbiAgICAgIHRhZ05hbWU6IHRhZ05hbWUsXG4gICAgICBpbmRleDogaW5kZXgsXG4gICAgICBpc0xvb3A6IGlzTG9vcCxcbiAgICAgIGlzSW5saW5lOiBpc0lubGluZSxcbiAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICBwYXJlbnQ6IHBhcmVudCxcbiAgICAgIC8vIHRhZ3MgaGF2aW5nIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgLy8gaXQgd291bGQgYmUgYmV0dGVyIHRvIHVzZSB3ZWFrIG1hcHMgaGVyZSBidXQgd2UgY2FuIG5vdCBpbnRyb2R1Y2UgYnJlYWtpbmcgY2hhbmdlcyBub3dcbiAgICAgIGxpc3RlbmVyczogW10sXG4gICAgICAvLyB0aGVzZSB2YXJzIHdpbGwgYmUgbmVlZGVkIG9ubHkgZm9yIHRoZSB2aXJ0dWFsIHRhZ3NcbiAgICAgIHZpcnRzOiBbXSxcbiAgICAgIHdhc0NyZWF0ZWQ6IGZhbHNlLFxuICAgICAgdGFpbDogbnVsbCxcbiAgICAgIGhlYWQ6IG51bGxcbiAgICB9KTtcblxuICAgIC8vIHRhZyBwcm90ZWN0ZWQgcHJvcGVydGllc1xuICAgIHJldHVybiBbXG4gICAgICBbJ2lzTW91bnRlZCcsIGZhbHNlXSxcbiAgICAgIC8vIGNyZWF0ZSBhIHVuaXF1ZSBpZCB0byB0aGlzIHRhZ1xuICAgICAgLy8gaXQgY291bGQgYmUgaGFuZHkgdG8gdXNlIGl0IGFsc28gdG8gaW1wcm92ZSB0aGUgdmlydHVhbCBkb20gcmVuZGVyaW5nIHNwZWVkXG4gICAgICBbJ19yaW90X2lkJywgdWlkKCldLFxuICAgICAgWydyb290Jywgcm9vdF0sXG4gICAgICBbJ29wdHMnLCBvcHRzLCB7IHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlIH1dLFxuICAgICAgWydwYXJlbnQnLCBwYXJlbnQgfHwgbnVsbF0sXG4gICAgICAvLyBwcm90ZWN0IHRoZSBcInRhZ3NcIiBhbmQgXCJyZWZzXCIgcHJvcGVydHkgZnJvbSBiZWluZyBvdmVycmlkZGVuXG4gICAgICBbJ3RhZ3MnLCB7fV0sXG4gICAgICBbJ3JlZnMnLCB7fV0sXG4gICAgICBbJ3VwZGF0ZScsIGZ1bmN0aW9uIChkYXRhKSB7IHJldHVybiBjb21wb25lbnRVcGRhdGUodGFnLCBkYXRhLCBleHByZXNzaW9ucyk7IH1dLFxuICAgICAgWydtaXhpbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1peGlucyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgbWl4aW5zWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudE1peGluLmFwcGx5KHZvaWQgMCwgWyB0YWcgXS5jb25jYXQoIG1peGlucyApKTtcbiAgICB9XSxcbiAgICAgIFsnbW91bnQnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjb21wb25lbnRNb3VudCh0YWcsIGRvbSwgZXhwcmVzc2lvbnMsIG9wdHMpOyB9XSxcbiAgICAgIFsndW5tb3VudCcsIGZ1bmN0aW9uIChtdXN0S2VlcFJvb3QpIHsgcmV0dXJuIHRhZ1VubW91bnQodGFnLCBtdXN0S2VlcFJvb3QsIGV4cHJlc3Npb25zKTsgfV1cbiAgICBdLnJlZHVjZShmdW5jdGlvbiAoYWNjLCByZWYpIHtcbiAgICAgIHZhciBrZXkgPSByZWZbMF07XG4gICAgICB2YXIgdmFsdWUgPSByZWZbMV07XG4gICAgICB2YXIgb3B0cyA9IHJlZlsyXTtcblxuICAgICAgZGVmaW5lKHRhZywga2V5LCB2YWx1ZSwgb3B0cyk7XG4gICAgICByZXR1cm4gYWNjXG4gICAgfSwgZXh0ZW5kKHRhZywgaXRlbSkpXG4gIH1cblxuICAvKipcbiAgICogTW91bnQgYSB0YWcgY3JlYXRpbmcgbmV3IFRhZyBpbnN0YW5jZVxuICAgKiBAcGFyYW0gICB7IE9iamVjdCB9IHJvb3QgLSBkb20gbm9kZSB3aGVyZSB0aGUgdGFnIHdpbGwgYmUgbW91bnRlZFxuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9IHRhZ05hbWUgLSBuYW1lIG9mIHRoZSByaW90IHRhZyB3ZSB3YW50IHRvIG1vdW50XG4gICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gb3B0cyAtIG9wdGlvbnMgdG8gcGFzcyB0byB0aGUgVGFnIGluc3RhbmNlXG4gICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gY3R4IC0gb3B0aW9uYWwgY29udGV4dCB0aGF0IHdpbGwgYmUgdXNlZCB0byBleHRlbmQgYW4gZXhpc3RpbmcgY2xhc3MgKCB1c2VkIGluIHJpb3QuVGFnIClcbiAgICogQHJldHVybnMgeyBUYWcgfSBhIG5ldyBUYWcgaW5zdGFuY2VcbiAgICovXG4gIGZ1bmN0aW9uIG1vdW50JDEocm9vdCwgdGFnTmFtZSwgb3B0cywgY3R4KSB7XG4gICAgdmFyIGltcGwgPSBfX1RBR19JTVBMW3RhZ05hbWVdO1xuICAgIHZhciBpbXBsQ2xhc3MgPSBfX1RBR19JTVBMW3RhZ05hbWVdLmNsYXNzO1xuICAgIHZhciBjb250ZXh0ID0gY3R4IHx8IChpbXBsQ2xhc3MgPyBjcmVhdGUoaW1wbENsYXNzLnByb3RvdHlwZSkgOiB7fSk7XG4gICAgLy8gY2FjaGUgdGhlIGlubmVyIEhUTUwgdG8gZml4ICM4NTVcbiAgICB2YXIgaW5uZXJIVE1MID0gcm9vdC5faW5uZXJIVE1MID0gcm9vdC5faW5uZXJIVE1MIHx8IHJvb3QuaW5uZXJIVE1MO1xuICAgIHZhciBjb25mID0gZXh0ZW5kKHsgcm9vdDogcm9vdCwgb3B0czogb3B0cywgY29udGV4dDogY29udGV4dCB9LCB7IHBhcmVudDogb3B0cyA/IG9wdHMucGFyZW50IDogbnVsbCB9KTtcbiAgICB2YXIgdGFnO1xuXG4gICAgaWYgKGltcGwgJiYgcm9vdCkgeyB0YWcgPSBjcmVhdGVUYWcoaW1wbCwgY29uZiwgaW5uZXJIVE1MKTsgfVxuXG4gICAgaWYgKHRhZyAmJiB0YWcubW91bnQpIHtcbiAgICAgIHRhZy5tb3VudCh0cnVlKTtcbiAgICAgIC8vIGFkZCB0aGlzIHRhZyB0byB0aGUgdmlydHVhbERvbSB2YXJpYWJsZVxuICAgICAgaWYgKCFjb250YWlucyhfX1RBR1NfQ0FDSEUsIHRhZykpIHsgX19UQUdTX0NBQ0hFLnB1c2godGFnKTsgfVxuICAgIH1cblxuICAgIHJldHVybiB0YWdcbiAgfVxuXG5cblxuICB2YXIgdGFncyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgICBhcnJheWlzaEFkZDogYXJyYXlpc2hBZGQsXG4gICAgZ2V0VGFnTmFtZTogZ2V0TmFtZSxcbiAgICBpbmhlcml0UGFyZW50UHJvcHM6IGluaGVyaXRQYXJlbnRQcm9wcyxcbiAgICBtb3VudFRvOiBtb3VudCQxLFxuICAgIHNlbGVjdFRhZ3M6IHF1ZXJ5LFxuICAgIGFycmF5aXNoUmVtb3ZlOiBhcnJheWlzaFJlbW92ZSxcbiAgICBnZXRUYWc6IGdldCxcbiAgICBpbml0Q2hpbGRUYWc6IGluaXRDaGlsZCxcbiAgICBtb3ZlQ2hpbGRUYWc6IG1vdmVDaGlsZCxcbiAgICBtYWtlUmVwbGFjZVZpcnR1YWw6IG1ha2VSZXBsYWNlVmlydHVhbCxcbiAgICBnZXRJbW1lZGlhdGVDdXN0b21QYXJlbnRUYWc6IGdldEltbWVkaWF0ZUN1c3RvbVBhcmVudCxcbiAgICBtYWtlVmlydHVhbDogbWFrZVZpcnR1YWwsXG4gICAgbW92ZVZpcnR1YWw6IG1vdmVWaXJ0dWFsLFxuICAgIHVubW91bnRBbGw6IHVubW91bnRBbGwsXG4gICAgY3JlYXRlSWZEaXJlY3RpdmU6IGNyZWF0ZUlmRGlyZWN0aXZlLFxuICAgIGNyZWF0ZVJlZkRpcmVjdGl2ZTogY3JlYXRlUmVmRGlyZWN0aXZlXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSaW90IHB1YmxpYyBhcGlcbiAgICovXG4gIHZhciBzZXR0aW5ncyQxID0gc2V0dGluZ3M7XG4gIHZhciB1dGlsID0ge1xuICAgIHRtcGw6IHRtcGwsXG4gICAgYnJhY2tldHM6IGJyYWNrZXRzLFxuICAgIHN0eWxlTWFuYWdlcjogc3R5bGVNYW5hZ2VyLFxuICAgIHZkb206IF9fVEFHU19DQUNIRSxcbiAgICBzdHlsZU5vZGU6IHN0eWxlTWFuYWdlci5zdHlsZU5vZGUsXG4gICAgLy8gZXhwb3J0IHRoZSByaW90IGludGVybmFsIHV0aWxzIGFzIHdlbGxcbiAgICBkb206IGRvbSxcbiAgICBjaGVjazogY2hlY2ssXG4gICAgbWlzYzogbWlzYyxcbiAgICB0YWdzOiB0YWdzXG4gIH07XG5cbiAgLy8gZXhwb3J0IHRoZSBjb3JlIHByb3BzL21ldGhvZHNcbiAgdmFyIFRhZyQxID0gVGFnO1xuICB2YXIgdGFnJDEgPSB0YWc7XG4gIHZhciB0YWcyJDEgPSB0YWcyO1xuICB2YXIgbW91bnQkMiA9IG1vdW50O1xuICB2YXIgbWl4aW4kMSA9IG1peGluO1xuICB2YXIgdXBkYXRlJDIgPSB1cGRhdGUkMTtcbiAgdmFyIHVucmVnaXN0ZXIkMSA9IHVucmVnaXN0ZXI7XG4gIHZhciB2ZXJzaW9uJDEgPSB2ZXJzaW9uO1xuICB2YXIgb2JzZXJ2YWJsZSQxID0gb2JzZXJ2YWJsZTtcblxuICB2YXIgcmlvdCQxID0gZXh0ZW5kKHt9LCBjb3JlLCB7XG4gICAgb2JzZXJ2YWJsZTogb2JzZXJ2YWJsZSxcbiAgICBzZXR0aW5nczogc2V0dGluZ3MkMSxcbiAgICB1dGlsOiB1dGlsLFxuICB9KTtcblxuICBleHBvcnRzLnNldHRpbmdzID0gc2V0dGluZ3MkMTtcbiAgZXhwb3J0cy51dGlsID0gdXRpbDtcbiAgZXhwb3J0cy5UYWcgPSBUYWckMTtcbiAgZXhwb3J0cy50YWcgPSB0YWckMTtcbiAgZXhwb3J0cy50YWcyID0gdGFnMiQxO1xuICBleHBvcnRzLm1vdW50ID0gbW91bnQkMjtcbiAgZXhwb3J0cy5taXhpbiA9IG1peGluJDE7XG4gIGV4cG9ydHMudXBkYXRlID0gdXBkYXRlJDI7XG4gIGV4cG9ydHMudW5yZWdpc3RlciA9IHVucmVnaXN0ZXIkMTtcbiAgZXhwb3J0cy52ZXJzaW9uID0gdmVyc2lvbiQxO1xuICBleHBvcnRzLm9ic2VydmFibGUgPSBvYnNlcnZhYmxlJDE7XG4gIGV4cG9ydHMuZGVmYXVsdCA9IHJpb3QkMTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG59KSkpO1xuIiwiZnVuY3Rpb24gZ2V0Q3VzdG9tRmllbGRzKCkge1xuICAgIHJldHVybiBwb3N0RGF0YSgnL2FwaS9jdXN0b20tZmllbGRzJywge1xuICAgICAgICBib2FyZF9pZDogd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYm9hcmQtaWRcIilcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2FyZHMoZmlsdGVycyA9IFtdKSB7XG4gICAgbGV0IGRhdGEgPSB7XG4gICAgICAgIGJvYXJkX2lkOiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJib2FyZC1pZFwiKVxuICAgIH07XG5cbiAgICBpZiAoZmlsdGVycykge1xuICAgICAgICBkYXRhLmZpbHRlcl9ieSA9IGZpbHRlcnNcbiAgICB9XG5cbiAgICByZXR1cm4gcG9zdERhdGEoJy9hcGkvY2FyZHMnLCBkYXRhKTtcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0NhcmRzKGNhcmRzSW5mbykge1xuICAgIGxldCBsaXN0cyA9IFtdO1xuICAgIGlmICgndW5kZWZpbmVkJyA9PT0gdHlwZW9mIGNhcmRzSW5mbykge1xuICAgICAgICByZXR1cm4gbGlzdHM7XG4gICAgfVxuXG4gICAgT2JqZWN0LmVudHJpZXMoY2FyZHNJbmZvKS5mb3JFYWNoKChsaXN0X2luZm8pID0+IHtcbiAgICAgICAgbGV0IGxpc3RfY29udGVudCA9IHt9O1xuICAgICAgICBsZXQgY2FyZHMgPSBbXTtcbiAgICAgICAgbGlzdF9pbmZvWzFdLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICAgICAgICAgIGxldCBjdXN0b21GaWVsZHMgPSBbXTtcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGNhcmQuX2N1c3RvbV9maWVsZHMpLmZvckVhY2goKGN1c3RvbUZpZWxkKSA9PiB7XG4gICAgICAgICAgICAgICAgY3VzdG9tRmllbGRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBjdXN0b21GaWVsZFswXSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGN1c3RvbUZpZWxkWzFdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhcmRzLnB1c2goe1xuICAgICAgICAgICAgICAgIG5hbWU6IGNhcmQuX25hbWUsXG4gICAgICAgICAgICAgICAgdXJsOiBjYXJkLl91cmwsXG4gICAgICAgICAgICAgICAgY3VzdG9tRmllbGRzOiBjdXN0b21GaWVsZHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBsaXN0X2NvbnRlbnQubmFtZSA9IGxpc3RfaW5mb1swXTtcbiAgICAgICAgbGlzdF9jb250ZW50LmNhcmRzID0gY2FyZHM7XG4gICAgICAgIGxpc3RzLnB1c2gobGlzdF9jb250ZW50KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBsaXN0cztcbn1cblxuZnVuY3Rpb24gcG9zdERhdGEodXJsID0gJycsIGRhdGEgPSB7fSkge1xuICAgIHJldHVybiBmZXRjaCh1cmwsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBtb2RlOiBcImNvcnNcIixcbiAgICAgICAgICAgIGNhY2hlOiBcIm5vLWNhY2hlXCIsXG4gICAgICAgICAgICBjcmVkZW50aWFsczogXCJzYW1lLW9yaWdpblwiLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSk7XG59XG5cbnZhciB0cmVsbG9VdGlscyA9IHtcbiAgICBnZXRDdXN0b21GaWVsZHM6IGdldEN1c3RvbUZpZWxkcyxcbiAgICBnZXRDYXJkczogZ2V0Q2FyZHMsXG4gICAgcHJvY2Vzc0NhcmRzOiBwcm9jZXNzQ2FyZHNcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRyZWxsb1V0aWxzOyIsImltcG9ydCByaW90IGZyb20gJ3Jpb3QnO1xuaW1wb3J0ICdyaW90LWhvdC1yZWxvYWQnO1xuaW1wb3J0ICcuL3RhZ3MvZmlsdGVyLnRhZyc7XG5pbXBvcnQgJy4vdGFncy9ib2FyZC50YWcnO1xuaW1wb3J0IHRyZWxsb1V0aWxzIGZyb20gJy4vbWl4aW5zL3RyZWxsby11dGlscyc7XG5cbnZhciBTdG9yZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByaW90Lm9ic2VydmFibGUodGhpcylcbn07XG5cbnJpb3QubWl4aW4oJ3RyZWxsby11dGlscycsIHRyZWxsb1V0aWxzKTtcbnJpb3Quc3RvcmUgPSBuZXcgU3RvcmUoKTtcbnJpb3QubW91bnQoJyonKTsiLCIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuXHR0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBmYWN0b3J5KGV4cG9ydHMsIHJlcXVpcmUoJ3Jpb3QnKSkgOlxuXHR0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoWydleHBvcnRzJywgJ3Jpb3QnXSwgZmFjdG9yeSkgOlxuXHQoZmFjdG9yeSgoZ2xvYmFsLnJpb3RIb3RSZWxvYWQgPSBnbG9iYWwucmlvdEhvdFJlbG9hZCB8fCB7fSksZ2xvYmFsLnJpb3QpKTtcbn0odGhpcywgKGZ1bmN0aW9uIChleHBvcnRzLHJpb3QpIHsgJ3VzZSBzdHJpY3QnO1xuXG52YXIgbm9uU3RhdGUgPSAnaXNNb3VudGVkIG9wdHMnLnNwbGl0KCcgJyk7XG5cbmZ1bmN0aW9uIHJlbG9hZChuYW1lKSB7XG4gIHJpb3QudXRpbC5zdHlsZU1hbmFnZXIuaW5qZWN0KCk7XG5cbiAgdmFyIGVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgobmFtZSArIFwiLCBbZGF0YS1pcz1cIiArIG5hbWUgKyBcIl1cIikpO1xuICB2YXIgdGFncyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZWwgPSBlbGVtc1tpXSwgb2xkVGFnID0gZWwuX3RhZywgdjtcbiAgICByZWxvYWQudHJpZ2dlcignYmVmb3JlLXVubW91bnQnLCBvbGRUYWcpO1xuICAgIG9sZFRhZy51bm1vdW50KHRydWUpOyAvLyBkZXRhY2ggdGhlIG9sZCB0YWdcblxuICAgIC8vIHJlc2V0IHRoZSBpbm5lckhUTUwgYW5kIGF0dHJpYnV0ZXMgdG8gaG93IHRoZXkgd2VyZSBiZWZvcmUgbW91bnRcbiAgICBlbC5pbm5lckhUTUwgPSBvbGRUYWcuX18uaW5uZXJIVE1MO1xuICAgIChvbGRUYWcuX18uaW5zdEF0dHJzIHx8IFtdKS5tYXAoZnVuY3Rpb24oYXR0cikge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKGF0dHIubmFtZSwgYXR0ci52YWx1ZSk7XG4gICAgfSk7XG5cbiAgICAvLyBjb3B5IG9wdGlvbnMgZm9yIGNyZWF0aW5nIHRoZSBuZXcgdGFnXG4gICAgdmFyIG5ld09wdHMgPSB7fTtcbiAgICBmb3Ioa2V5IGluIG9sZFRhZy5vcHRzKSB7XG4gICAgICBuZXdPcHRzW2tleV0gPSBvbGRUYWcub3B0c1trZXldO1xuICAgIH1cbiAgICBuZXdPcHRzLnBhcmVudCA9IG9sZFRhZy5wYXJlbnQ7XG5cbiAgICAvLyBjcmVhdGUgdGhlIG5ldyB0YWdcbiAgICByZWxvYWQudHJpZ2dlcignYmVmb3JlLW1vdW50JywgbmV3T3B0cywgb2xkVGFnKTtcbiAgICB2YXIgbmV3VGFnID0gcmlvdC5tb3VudChlbCwgbmV3T3B0cylbMF07XG5cbiAgICAvLyBjb3B5IHN0YXRlIGZyb20gdGhlIG9sZCB0byBuZXcgdGFnXG4gICAgZm9yKHZhciBrZXkgaW4gb2xkVGFnKSB7XG4gICAgICB2ID0gb2xkVGFnW2tleV07XG4gICAgICBpZiAofm5vblN0YXRlLmluZGV4T2Yoa2V5KSkgeyBjb250aW51ZSB9XG4gICAgICBuZXdUYWdba2V5XSA9IHY7XG4gICAgfVxuICAgIG5ld1RhZy51cGRhdGUoKTtcbiAgICB0YWdzLnB1c2gobmV3VGFnKTtcbiAgICByZWxvYWQudHJpZ2dlcignYWZ0ZXItbW91bnQnLCBuZXdUYWcsIG9sZFRhZyk7XG4gIH1cblxuICByZXR1cm4gdGFnc1xufVxuXG5yaW90Lm9ic2VydmFibGUocmVsb2FkKTtcbnJpb3QucmVsb2FkID0gcmVsb2FkO1xuaWYgKHJpb3QuZGVmYXVsdCkgeyByaW90LmRlZmF1bHQucmVsb2FkID0gcmVsb2FkOyB9XG5cbmV4cG9ydHMucmVsb2FkID0gcmVsb2FkO1xuZXhwb3J0c1snZGVmYXVsdCddID0gcmVsb2FkO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG59KSkpO1xuIiwiPGZpbHRlcj5cbiAgICA8ZGl2IGlmPXtib2FyZF9pZCAhPW51bGx9IGNsYXNzPVwiZnVuaS1maWx0ZXItaW5mb1wiPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImZ1bmktZmlsdGVyLWluZm8tY3VycmVudFwiPntzZWxlY3RlZEZpbHRlcnN9IGZpbHRlcnMgYXJlIHNlbGVjdGVkPC9zcGFuPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJmdW5pLWZpbHRlclwiIGVhY2g9e2ZpbHRlciBpbiBmaWx0ZXJzfT5cbiAgICAgICAgPHAgY2xhc3M9XCJmdW5pLWZpbHRlci1uYW1lXCI+e2ZpbHRlci5uYW1lfTo8L3A+XG4gICAgICAgIDxzZWxlY3QgY2xhc3M9XCJmdW5pLWZpbHRlci12YWx1ZXNcIiBtdWx0aXBsZT5cbiAgICAgICAgICAgIDxvcHRpb24gY2xhc3M9XCJ7ZmlsdGVyLm5hbWV9XCIgdmFsdWU9XCIwXCI+IE5vIGZpbHRlciA8L29wdGlvbj5cbiAgICAgICAgICAgIDxvcHRpb24gY2xhc3M9XCJ7ZmlsdGVyLm5hbWV9XCIgZWFjaD17b3B0aW9uIGluIGZpbHRlci5vcHRpb25zfSB2YWx1ZT17b3B0aW9ufT4ge29wdGlvbn0gPC9vcHRpb24+XG4gICAgICAgIDwvc2VsZWN0PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWY9e2JvYXJkX2lkICE9bnVsbH0gcmVmPVwibG9hZGluZ0ZpbHRlclwiIGlkPVwibG9hZGluZy1maWx0ZXJcIj48aW1nIHNyYz1cIi9zdGF0aWMvc3ZnL3NwaW5uZXIuc3ZnXCIgLz48L2Rpdj5cbiAgICA8YnV0dG9uIGlmPXtib2FyZF9pZCAhPW51bGx9IHJlZj1cImFwcGx5RmlsdGVyXCIgb25jbGljaz17dGhpcy5hcHBseUZpbHRlcn0gaWQ9XCJhcHBseS1maWx0ZXJcIiBkaXNhYmxlZD1cImRpc2FibGVkXCI+QXBwbHlcbiAgICAgICAgZmlsdGVyPC9idXR0b24+XG5cbiAgICA8c3R5bGU+XG4gICAgICAgIC5sb2FkaW5nIGltZyB7XG4gICAgICAgICAgICB3aWR0aDogNTBweDtcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgICAgbWFyZ2luOiBhdXRvO1xuICAgICAgICB9XG5cblxuICAgICAgICAuZnVuaS1maWx0ZXItaW5mbyAuZnVuaS1maWx0ZXItaW5mby1jdXJyZW50IHtcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICAgICAgY29sb3I6IGJsdWU7XG4gICAgICAgICAgICBtYXJnaW46IDAgMjBweDtcblxuICAgICAgICB9XG5cbiAgICAgICAgLmZ1bmktZmlsdGVyIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgfVxuXG4gICAgICAgIC5mdW5pLWZpbHRlciAuZnVuaS1maWx0ZXItbmFtZSB7XG4gICAgICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC5mdW5pLWZpbHRlciAuZnVuaS1maWx0ZXItdmFsdWVzIHtcbiAgICAgICAgICAgIGhlaWdodDogMjUwcHg7XG4gICAgICAgICAgICBtYXJnaW46IDAgMjVweDtcbiAgICAgICAgICAgIG1pbi13aWR0aDogMTUwcHg7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICB9XG4gICAgPC9zdHlsZT5cblxuICAgIDxzY3JpcHQ+XG4gICAgICAgIHRoaXMuYm9hcmRfaWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYm9hcmQtaWQnKTtcbiAgICAgICAgdGhpcy5taXhpbigndHJlbGxvLXV0aWxzJyk7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRGaWx0ZXJzID0gJ05vJztcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHJpb3QuZGVmYXVsdC5zdG9yZS5vbignaGlkZS1sb2FkaW5nJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVmcy5sb2FkaW5nRmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZzLmxvYWRpbmdGaWx0ZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmlvdC5kZWZhdWx0LnN0b3JlLm9uKCdzaG93LWxvYWRpbmcnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZWZzLmxvYWRpbmdGaWx0ZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnMubG9hZGluZ0ZpbHRlci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmlvdC5kZWZhdWx0LnN0b3JlLm9uKCdhY3RpdmF0ZS1maWx0ZXItYnV0dG9uJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVmcy5hcHBseUZpbHRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMucmVmcy5hcHBseUZpbHRlci5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5sb2FkX2N1c3RvbV9maWVsZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5ib2FyZF9pZCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmdldEN1c3RvbUZpZWxkcygpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBmaWx0ZXJzID0gW107XG4gICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMocmVzKS5mb3JFYWNoKChmaWx0ZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZpbHRlclswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IGZpbHRlclsxXVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzZWxmLmZpbHRlcnMgPSBmaWx0ZXJzO1xuICAgICAgICAgICAgICAgIHNlbGYudXBkYXRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmFwcGx5RmlsdGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmlvdC5kZWZhdWx0LnN0b3JlLnRyaWdnZXIoJ3Nob3ctbG9hZGluZycpO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcGx5LWZpbHRlcicpLmRpc2FibGVkID0gJ2Rpc2FibGVkJztcbiAgICAgICAgICAgIGxldCBvcHRpb25zID0gW107XG4gICAgICAgICAgICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2Z1bmktZmlsdGVyLXZhbHVlcycpKS5mb3JFYWNoKChmaWx0ZXIpID0+IHtcbiAgICAgICAgICAgICAgICBBcnJheS5mcm9tKGZpbHRlci5zZWxlY3RlZE9wdGlvbnMpLmZvckVhY2goKG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnB1c2gob3B0aW9uKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuZmlsdGVyKG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5maWx0ZXIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIGZpbHRlcnMgPSBbXTtcbiAgICAgICAgICAgIEFycmF5LmZyb20ob3B0aW9ucykuZmlsdGVyKChvcHRpb24pID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9uLnZhbHVlICE9PSAwXG4gICAgICAgICAgICB9KS5mb3JFYWNoKChvcHRpb24pID0+IHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBvcHRpb24uY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb3B0aW9uLnZhbHVlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmdldENhcmRzKGZpbHRlcnMpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgIHJpb3QuZGVmYXVsdC5zdG9yZS50cmlnZ2VyKCdmaWx0ZXItYXBwbGllZCcsIHRoaXMucHJvY2Vzc0NhcmRzKHJlcykpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGxldCBzZWxlY3RlZEZpbHRlcnMgPSAnJztcbiAgICAgICAgICAgIGZpbHRlcnMuZm9yRWFjaCgoZmlsdGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRGaWx0ZXJzICs9IGZpbHRlci52YWx1ZSArICcgKyAnXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2VsZWN0ZWRGaWx0ZXJzID0gc2VsZWN0ZWRGaWx0ZXJzLmxlbmd0aCA9PT0gMCA/ICdObycgOiBzZWxlY3RlZEZpbHRlcnMuc2xpY2UoMCwgLTMpO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEZpbHRlcnMgPSBzZWxlY3RlZEZpbHRlcnM7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmlvdC5kZWZhdWx0LnN0b3JlLm9uKCdib2FyZC1pZC11cGRhdGUnLCAoYm9hcmRfaWQpID0+IHtcbiAgICAgICAgICAgIHNlbGYuYm9hcmRfaWQgPSBib2FyZF9pZDtcbiAgICAgICAgICAgIHNlbGYudXBkYXRlKCk7XG4gICAgICAgICAgICBzZWxmLmxvYWRfY3VzdG9tX2ZpZWxkcygpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmxvYWRfY3VzdG9tX2ZpZWxkcygpO1xuICAgIDwvc2NyaXB0PlxuPC9maWx0ZXI+IiwiPGJvYXJkPlxuICAgIDxkaXYgaWQ9XCJ0cmVsbG8tbGlzdHNcIiByZWY9XCJ0cmVsbG9MaXN0c1wiIGNsYXNzPVwidHJlbGxvLWxpc3RzXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0cmVsbG8tbGlzdHMtaXRlbVwiIGVhY2g9e2xpc3QgaW4gbGlzdHN9PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0cmVsbG8tbGlzdHMtaXRlbS10aXRsZVwiPntsaXN0Lm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRyZWxsby1saXN0cy1pdGVtLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1pbmZvXCIgZWFjaD17Y2FyZCBpbiBsaXN0LmNhcmRzfT5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJjYXJkLWluZm8tY3VzdG9tLWZpZWxkXCIgZWFjaD17Y3VzdG9tRmllbGQgaW4gY2FyZC5jdXN0b21GaWVsZHN9PntjdXN0b21GaWVsZC5uYW1lfSAtPlxuICAgICAgICAgICAgICAgICAgICAgICAge2N1c3RvbUZpZWxkLnZhbHVlfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIntjYXJkLnVybH1cIj57Y2FyZC5uYW1lfTwvYT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBzaG93PXsgYm9hcmRfaWQ9PW51bGwgfT5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHJlZj1cImJvYXJkSWRWYWx1ZVwiIHBsYWNlaG9sZGVyPVwiQm9hcmQgSWRcIiAvPlxuICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPVwie3VwZGF0ZV9ib2FyZF9pZH1cIj5VcGRhdGUgQm9hcmQgSWQhPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxzdHlsZT5cbiAgICAgICAgLnRyZWxsby1saXN0cyAudHJlbGxvLWxpc3RzLWl0ZW0ge1xuICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICAgICAgbWFyZ2luOiAyMHB4O1xuICAgICAgICAgICAgd2lkdGg6IDMwMHB4O1xuICAgICAgICAgICAgdmVydGljYWwtYWxpZ246IHRvcDtcbiAgICAgICAgfVxuXG4gICAgICAgIC50cmVsbG8tbGlzdHMgLnRyZWxsby1saXN0cy1pdGVtIC50cmVsbG8tbGlzdHMtaXRlbS10aXRsZSB7XG5cbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgbWluLWhlaWdodDogNTBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC50cmVsbG8tbGlzdHMgLnRyZWxsby1saXN0cy1pdGVtIC50cmVsbG8tbGlzdHMtaXRlbS1jb250ZW50IHtcbiAgICAgICAgICAgIG1hcmdpbjogMTJweCAwO1xuICAgICAgICAgICAgbWluLWhlaWdodDogMTUwcHg7XG4gICAgICAgIH1cblxuICAgICAgICAudHJlbGxvLWxpc3RzIC50cmVsbG8tbGlzdHMtaXRlbSAudHJlbGxvLWxpc3RzLWl0ZW0tY29udGVudCAuY2FyZC1pbmZvIHtcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICAgICAgbWFyZ2luOiA1cHg7XG4gICAgICAgIH1cblxuICAgICAgICAudHJlbGxvLWxpc3RzIC50cmVsbG8tbGlzdHMtaXRlbSAudHJlbGxvLWxpc3RzLWl0ZW0tY29udGVudCAuY2FyZC1pbmZvIC5jYXJkLWluZm8tY3VzdG9tLWZpZWxkIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTBweDtcbiAgICAgICAgfVxuICAgIDwvc3R5bGU+XG4gICAgPHNjcmlwdD5cbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLm1peGluKCd0cmVsbG8tdXRpbHMnKTtcbiAgICAgICAgdGhpcy5ib2FyZF9pZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdib2FyZC1pZCcpO1xuXG4gICAgICAgIHRoaXMubG9hZF9jYXJkcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLmJvYXJkX2lkID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByaW90LmRlZmF1bHQuc3RvcmUudHJpZ2dlcignc2hvdy1sb2FkaW5nJyk7XG4gICAgICAgICAgICB0aGlzLmdldENhcmRzKCkudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VsZi51cGRhdGVCb2FyZCh0aGlzLnByb2Nlc3NDYXJkcyhyZXMpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVfYm9hcmRfaWQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnJlZnMuYm9hcmRJZFZhbHVlLnZhbHVlIHx8IHRoaXMucmVmcy5ib2FyZElkVmFsdWUudmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdib2FyZC1pZCcsIHRoaXMucmVmcy5ib2FyZElkVmFsdWUudmFsdWUpO1xuICAgICAgICAgICAgc2VsZi5ib2FyZF9pZCA9IHRoaXMucmVmcy5ib2FyZElkVmFsdWUudmFsdWU7XG4gICAgICAgICAgICBzZWxmLnVwZGF0ZSgpO1xuICAgICAgICAgICAgcmlvdC5kZWZhdWx0LnN0b3JlLnRyaWdnZXIoJ2JvYXJkLWlkLXVwZGF0ZScsIHRoaXMucmVmcy5ib2FyZElkVmFsdWUudmFsdWUpO1xuICAgICAgICAgICAgc2VsZi5sb2FkX2NhcmRzKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZUJvYXJkID0gZnVuY3Rpb24gKGxpc3RzKSB7XG4gICAgICAgICAgICBzZWxmLmxpc3RzID0gbGlzdHM7XG4gICAgICAgICAgICBzZWxmLnVwZGF0ZSgpO1xuICAgICAgICAgICAgcmlvdC5kZWZhdWx0LnN0b3JlLnRyaWdnZXIoJ2hpZGUtbG9hZGluZycpO1xuICAgICAgICAgICAgcmlvdC5kZWZhdWx0LnN0b3JlLnRyaWdnZXIoJ2FjdGl2YXRlLWZpbHRlci1idXR0b24nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJpb3QuZGVmYXVsdC5zdG9yZS5vbignZmlsdGVyLWFwcGxpZWQnLCBmdW5jdGlvbiAobGlzdHMpIHtcbiAgICAgICAgICAgIHNlbGYudXBkYXRlQm9hcmQobGlzdHMpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm9uKCd1cGRhdGVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFzZWxmLmJvYXJkX2lkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnJlY2FsY3VsYXRlQm9hcmRXaWR0aCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnJlY2FsY3VsYXRlQm9hcmRXaWR0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMucmVmcy50cmVsbG9MaXN0cy5zdHlsZS53aWR0aCA9ICh0aGlzLnJlZnMudHJlbGxvTGlzdHMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndHJlbGxvLWxpc3RzLWl0ZW0nKS5sZW5ndGggKlxuICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlRWxlbWVudFdpZHRoKHRoaXMucmVmcy50cmVsbG9MaXN0cy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd0cmVsbG8tbGlzdHMtaXRlbScpWzBdKVxuICAgICAgICAgICAgKSArICdweCc7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGN1bGF0ZUVsZW1lbnRXaWR0aCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAoJ3VuZGVmaW5lZCcgPT09IHR5cGVvZiBlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL2h0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMzI3MDAwN1xuICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSBlbGVtZW50LmN1cnJlbnRTdHlsZSB8fCB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KSxcbiAgICAgICAgICAgICAgICB3aWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGgsIC8vIG9yIHVzZSBzdHlsZS53aWR0aFxuICAgICAgICAgICAgICAgIG1hcmdpbiA9IHBhcnNlRmxvYXQoc3R5bGUubWFyZ2luTGVmdCkgKyBwYXJzZUZsb2F0KHN0eWxlLm1hcmdpblJpZ2h0KSxcbiAgICAgICAgICAgICAgICBwYWRkaW5nID0gcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nTGVmdCkgKyBwYXJzZUZsb2F0KHN0eWxlLnBhZGRpbmdSaWdodCksXG4gICAgICAgICAgICAgICAgYm9yZGVyID0gcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJMZWZ0V2lkdGgpICsgcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJSaWdodFdpZHRoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHdpZHRoICsgbWFyZ2luIC0gcGFkZGluZyArIGJvcmRlcjtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmxvYWRfY2FyZHMoKTtcbiAgICA8L3NjcmlwdD5cbjwvYm9hcmQ+Il0sInNvdXJjZVJvb3QiOiIifQ==